System.register("chunks:///_virtual/AdManger.ts",["cc","./WxPlatform.ts","./BytePlantform.ts"],(function(o){var t,s,n,e,a;return{setters:[function(o){t=o.cclegacy,s=o._decorator,n=o.sys},function(o){e=o.WxPlatform},function(o){a=o.BytePlantform}],execute:function(){var r;t._RF.push({},"a41c7SeY1dENrQpFBTpJwtG","AdManger",void 0);var c=s.ccclass;s.property,o("AdManger",c("AdManger")(r=function(){function o(){}return o.show_interstial=function(o){switch(n.platform){case n.Platform.WECHAT_GAME:e.ins.show_interstitial(1);break;case n.Platform.BYTEDANCE_MINI_GAME:a.ins.show_interstitial(1)}},o.show_video=function(o){switch(n.platform){case n.Platform.WECHAT_GAME:e.ins.show_reward_video((function(t){1==t?(o(t),console.log("show_video 获取奖励成功")):(o(t),console.log("show_video 获取奖励失败"))}));break;case n.Platform.BYTEDANCE_MINI_GAME:a.ins.ShowAdvertisements((function(t){1==t?(o(t),console.log("show_video 获取奖励成功")):(o(t),console.log("show_video 获取奖励失败"))}));break;case n.Platform.MOBILE_BROWSER:case n.Platform.DESKTOP_BROWSER:o(1);break;default:o(0)}},o.show_banner=function(){switch(n.platform){case n.Platform.BYTEDANCE_MINI_GAME:a.ins.show_banner()}},o.show_custom=function(){switch(n.platform){case n.Platform.WECHAT_GAME:e.ins.show_custom_ad()}},o.close_ad=function(){switch(n.platform){case n.Platform.WECHAT_GAME:e.ins.hide_banner(),e.ins.hide_custom();break;case n.Platform.BYTEDANCE_MINI_GAME:a.ins.hide_banner()}},o}())||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/AreaData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./Tools.ts","./EventsManager.ts","./Enums.ts","./AudioManager.ts"],(function(e){var t,n,a,r,i,s,c,o,l,u,_,f,h,p,g,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.asyncToGenerator,s=e.regeneratorRuntime,c=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy,l=e._decorator,u=e.Node,_=e.Component},function(e){f=e.Global},function(e){h=e.Tools},function(e){p=e.EventsManager},function(e){g=e.EventTyps},function(e){m=e.AudioManager}],execute:function(){var d,v,y,E,L,I;o._RF.push({},"99491KQcT9AY7gkUtvCCmhG","AreaData",void 0);var C=l.ccclass,b=l.property;e("AreaData",(d=C("AreaData"),v=b(u),d(((I=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,a(t,"game_area",L,r(t)),t.game_area_cells=[],t.game_area_rect=void 0,t}n(t,e);var o=t.prototype;return o.onLoad=function(){t.Ins=this,p.Ins.addListener(g.CLEAR_ALL_CELLS,this.clear_all_cells,this),p.Ins.addListener(g.CLEAR_CELLS,this.clear_cells,this)},o.start=function(){},o.update=function(e){},t.getIns=function(){return t.Ins},o.init_game_once=function(){this.game_area_cells=h.createNullMatrix(f.GRID_HEIGHT_NUM,f.GRID_WIDTH_NUM),this.game_area_rect=h.createRect(this.game_area)},o.get_area_cells=function(){return this.game_area_cells},o.set_area_cells=function(e){this.game_area_cells=e},o.get_rect=function(){return this.game_area_rect},o.get_area_node=function(){return this.game_area},o.clear_all_cells=function(){var e=i(s().mark((function e(){var t,n,a,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],n=c(this.get_area_cells());!(a=n()).done;)(r=a.value)&&r.forEach((function(e){e&&t.push(e)}));return f.combo++,p.Ins.dispatch(g.SHOW_FLY_SCORE_by_score,t.length,[0]),p.Ins.dispatch(g.SHOW_SCORE_EFFECTS),e.next=7,this.clear_cells(t);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.waitTime=function(e){var t=this;return new Promise((function(n,a){t.scheduleOnce((function(){n(!0)}),e)}))},o.clear_cells=function(){var e=i(s().mark((function e(n,a){var r,i,o,l,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isClearing=!0,m.instance.play_shot("delete"),r=100;case 3:if(!(n.length>0)){e.next=16;break}if(!(n.length>r)){e.next=12;break}for(i=n.slice(0,r),n.splice(0,r),o=c(i);!(l=o()).done;)(u=l.value)&&u.remove_with_animation(a);return e.next=10,this.waitTime(0);case 10:e.next=14;break;case 12:n.forEach((function(e){e&&e.remove_with_animation(a)})),n.length=0;case 14:e.next=3;break;case 16:this.scheduleOnce((function(){t.isClearing=!1}),.2);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t}(_)).Ins=null,I.isClearing=void 0,L=t((E=I).prototype,"game_area",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=E))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts"],(function(n){var i,t,e,o,a,u;return{setters:[function(n){i=n.createClass},function(n){t=n.cclegacy,e=n.Node,o=n.director,a=n.AudioSource},function(n){u=n.Global}],execute:function(){t._RF.push({},"fca79uWzLRMpJamzHvPPZhz","AudioManager",void 0),n("AudioManager",function(){function n(){this.audio_source=null,this.clip_map={}}var t=n.prototype;return t.init=function(){var n=new e("AudioManager");o.getScene().addChild(n),this.audio_source=n.addComponent(a),this.audio_source.playOnAwake=!1,this.audio_source.volume=1,o.addPersistRootNode(n)},t.add_clip=function(n,i){this.clip_map[n]=i},t.play_shot=function(n){if(u.open_sound){var i=this.clip_map[n];i&&this.audio_source.playOneShot(i)}},i(n,null,[{key:"instance",get:function(){return this._instance||(this._instance=new n,this._instance.init()),this._instance}}]),n}())._instance=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/BaseWindows.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AdManger.ts","./Enums.ts","./Global.ts"],(function(t){var n,e,o,i,s,a,c,r,l,u,w,d,h;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,c=t.Node,r=t.Vec3,l=t.tween,u=t.Component},function(t){w=t.AdManger},function(t){d=t.GAME_STATE},function(t){h=t.Global}],execute:function(){var _,f,p,m,g;s._RF.push({},"f8591ZooUFCBLHXbePEjYjO","BaseWindows",void 0);var v=a.ccclass,y=a.property;t("BaseWindows",(_=v("BaseWindows"),f=y(c),_((g=n((m=function(t){function n(){for(var n,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return n=t.call.apply(t,[this].concat(s))||this,o(n,"content",g,i(n)),n.window_name="",n}e(n,t);var s=n.prototype;return s.start=function(){},s.update=function(t){},s.set_window_name=function(t){this.window_name=t},s.show_windows=function(t){this.node.active=!0,this.node.setSiblingIndex(this.node.parent.children.length-1),this.show_content_tween(),h.set_game_state(d.Pause,"BaseWindows.show>"+this.window_name),"HomeAction"==this.window_name||w.show_custom()},s.show_content_tween=function(){this.content&&(this.content.setScale(new r(.35,.35,.35)),l(this.content).to(.2,{scale:r.ONE}).call((function(){})).start())},s.close_windows=function(t){var n=this;this.content?(this.content.setScale(new r(1,1,1)),l(this.content).to(.2,{scale:r.ZERO}).call((function(){n.node.active=!1})).start()):this.node.active=!1,h.set_game_state(t,"BaseWindows.close"),w.show_interstial(),w.close_ad()},n}(u)).prototype,"content",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=m))||p));s._RF.pop()}}}));

System.register("chunks:///_virtual/BlockAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CellAction.ts","./ResourceManger.ts","./ResourcePool.ts","./Tools.ts","./Global.ts","./EventsManager.ts","./AudioManager.ts","./Enums.ts","./XStorage.ts","./AreaData.ts"],(function(t){var e,o,i,n,s,r,c,a,l,h,_,u,d,f,p,k,b,g,y,E,v,m,w,x,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){c=t.cclegacy,a=t._decorator,l=t.CCInteger,h=t.Size,_=t.Vec3,u=t.Input,d=t.Component,f=t.Tween,p=t.tween},function(t){k=t.CellAction},function(t){b=t.default},function(t){g=t.ResourcePool},function(t){y=t.Tools},function(t){E=t.Global},function(t){v=t.EventsManager},function(t){m=t.AudioManager},function(t){w=t.EventTyps},function(t){x=t.XStorage},function(t){C=t.AreaData}],execute:function(){var L,S,z,A,M;c._RF.push({},"79b476FQE1E3rHMbDvdDFo8","BlockAction",void 0);var T=a.ccclass,I=a.property;t("BlockAction",(L=T("BlockAction"),S=I(l),L((M=e((A=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))||this).is_ok=void 0,e.defalut_pos=void 0,e.is_select=void 0,e.block_size=new h,e.cell_array=[],e.block_color_arr=void 0,i(e,"block_type_index",M,n(e)),e.offset_v3=new _(0,165,0),e}o(e,t);var c=e.prototype;return c.start=function(){this.node.on(u.EventType.TOUCH_START,this.touch_begin,this),this.node.on(u.EventType.TOUCH_MOVE,this.touch_move,this),this.node.on(u.EventType.TOUCH_END,this.touch_end,this),this.node.on(u.EventType.TOUCH_CANCEL,this.touch_end,this)},c.init_block=function(){var t=s(r().mark((function t(){var e,o,i,n,s;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.is_ok=!1,this.block_size=new h,this.node.setScale(1,1),this.clean_block(),e=Math.floor(Math.random()*E.curColorNum),o=[e],i=b.instance.get_max_score(),x.get_cur_score()>.5*i?o.push(Math.floor(Math.random()*E.curColorNum)):o.push(e),o.push(e),n=b.instance.get_data_type_length(),s=Math.floor(Math.random()*n),t.next=13,this.create_all_cell(s,o);case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.temp_to_all_block=function(t,e){this.is_ok=!1,this.block_size=new h,this.node.setScale(1,1),this.clean_block(),this.create_all_cell(t,e)},c.create_all_cell=function(){var t=s(r().mark((function t(e,o){var i,n,s,c,a,l,h,u,d,k,g=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.block_color_arr=o,this.block_type_index=e,i=b.instance.get_data_type_cells(e),n=this.node.getWorldPosition(),s=12*E.CELL_SIZE-.5*E.CELL_SIZE,!i){t.next=42;break}c=i.length/E.BASE_CELL_NUMBER,a=new _,l=[],h=0;case 10:if(!(h<c)){t.next=28;break}u=0;case 12:if(!(u<E.BASE_CELL_NUMBER)){t.next=25;break}if(d=h*E.BASE_CELL_NUMBER+u,!(k=i[d])){t.next=22;break}if(a.x=n.x+u*E.CELL_SIZE-s,a.y=n.y-(h*E.CELL_SIZE-s),y.insertArr(l,this.create_cell(a.clone(),o[k-1],1==Math.floor(20*Math.random()))),l.length%300!=0){t.next=22;break}return t.next=22,this.waitTime(0);case 22:u++,t.next=12;break;case 25:h++,t.next=10;break;case 28:Promise.all(l).then((function(){f.stopAllByTarget(g.node),g.node.setScale(.1,.1,1),p(g.node).to(.2,{scale:new _(.6,.6,1)}).call((function(){g.is_ok=!0})).start()})),t.t0=e,t.next=0===t.t0?32:1===t.t0?35:38;break;case 32:return this.block_size.width=16,this.block_size.height=16,t.abrupt("break",40);case 35:return this.block_size.width=24,this.block_size.height=7,t.abrupt("break",40);case 38:this.block_size.width=24,this.block_size.height=14;case 40:this.block_size.width=this.block_size.width*E.CELL_SIZE,this.block_size.height=this.block_size.height*E.CELL_SIZE;case 42:case"end":return t.stop()}}),t,this)})));return function(e,o){return t.apply(this,arguments)}}(),c.create_cell=function(t,e,o){var i=this;return new Promise((function(n,s){g.instance.create_by_Pool("Cell",t,i.node).then((function(t){var s=t.getComponent(k);s&&s.init_cell(e,o),y.insertArr(i.cell_array,s),n(s)})).catch((function(t){console.log(t),s(t)}))}))},c.touch_begin=function(t){this.is_ok&&(this.is_select=!0,this.defalut_pos=this.node.getWorldPosition(),this.node.setScale(1,1),this.node.setWorldPosition(this.node.worldPosition.add(this.offset_v3)),this.update_block_(t.getUIDelta().x,t.getUIDelta().y))},c.touch_move=function(t){this.is_ok&&this.is_select&&this.update_block_(t.getUIDelta().x,t.getUIDelta().y)},c.update_block_=function(t,e){var o=this.node.getWorldPosition(),i=t+o.x,n=e+o.y,s=C.getIns().get_rect();if(s){var r=s.x+.5*this.block_size.width,c=s.x+s.width-.5*this.block_size.width,a=s.y+s.height-.5*this.block_size.height-2*E.CELL_SIZE;i<r&&(i=r),i>c&&(i=c),n>a&&(n=a),this.node.setWorldPosition(i,n,0)}},c.touch_end=function(){if(this.is_ok){for(var t=!0,e=0;e<this.cell_array.length;e++)if(!this.cell_array[e].check_area_drop()){this.reset(),t=!1;break}this.is_select=!1,t&&(this.cell_array.forEach((function(t){t.add_to_game_area()})),this.cell_array=[],this.node.removeFromParent(),g.instance.remove_node(this.node),m.instance.play_shot("down"),v.Ins.dispatch(w.DRAG_ONE_OVER,this.block_type_index,this.block_color_arr),v.Ins.dispatch(w.SHOW_FLY_SCORE_by_index,this.block_type_index,this.block_color_arr))}},c.clean_block=function(){for(var t=0;t<this.cell_array.length;t++)g.instance.remove_node(this.cell_array[t].node);this.cell_array=[]},c.reset=function(){this.node.setScale(.6,.6),this.node.setWorldPosition(this.defalut_pos)},c.update=function(t){},c.waitTime=function(t){var e=this;return new Promise((function(o,i){e.scheduleOnce((function(){o(!0)}),t)}))},e}(d)).prototype,"block_type_index",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=A))||z));c._RF.pop()}}}));

System.register("chunks:///_virtual/BombAction.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,e,i,n,c,r,a,l,s;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){c=t.cclegacy,r=t._decorator,a=t.Node,l=t.Animation,s=t.Component}],execute:function(){var b,f,u,p,m,h,_;c._RF.push({},"cd717NXdR5GmbhVi4wtD2PG","BombAction",void 0);var v=r.ccclass,y=r.property;t("BombAction",(b=v("BombAction"),f=y(a),u=y(a),b((h=o((m=function(t){function o(){for(var o,e=arguments.length,c=new Array(e),r=0;r<e;r++)c[r]=arguments[r];return o=t.call.apply(t,[this].concat(c))||this,i(o,"boom",h,n(o)),i(o,"bomb_effect",_,n(o)),o.call_f=void 0,o.call_root=void 0,o}e(o,t);var c=o.prototype;return c.start=function(){this.show_bomb()},c.update=function(t){},c.show_bomb=function(){this.boom.active=!0,this.bomb_effect.active=!1},c.show_effect=function(t,o){this.call_f=t,this.call_root=o,this.boom.active=!1,this.bomb_effect.active=!0;var e=this.bomb_effect.getComponent(l);e&&(e.once(l.EventType.FINISHED,this.call_f,this.call_root),e.play())},o}(s)).prototype,"boom",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=o(m.prototype,"bomb_effect",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=m))||p));c._RF.pop()}}}));

System.register("chunks:///_virtual/BottomAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./AudioManager.ts","./Tools.ts","./BombAction.ts","./ResourcePool.ts","./EventsManager.ts","./Enums.ts","./XStorage.ts","./AreaData.ts"],(function(t){var o,e,n,i,s,r,c,a,_,l,h,u,b,d,f,m,p,v,g,w,y,E,C,T,A;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized,s=t.createForOfIteratorHelperLoose,r=t.asyncToGenerator,c=t.regeneratorRuntime},function(t){a=t.cclegacy,_=t._decorator,l=t.Label,h=t.UITransform,u=t.Tween,b=t.tween,d=t.Vec3,f=t.Input,m=t.Component},function(t){p=t.Global},function(t){v=t.AudioManager},function(t){g=t.Tools},function(t){w=t.BombAction},function(t){y=t.ResourcePool},function(t){E=t.EventsManager},function(t){C=t.EventTyps},function(t){T=t.XStorage},function(t){A=t.AreaData}],execute:function(){var I,O,P,R,z;a._RF.push({},"542f3bns+JGnJDilVlRNIOC","BottomAction",void 0);var L=_.ccclass,D=_.property;t("BottomAction",(I=L("BottomAction"),O=D(l),I((z=o((R=function(t){function o(){for(var o,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return o=t.call.apply(t,[this].concat(s))||this,n(o,"coin_label",z,i(o)),o.bomb_node=void 0,o.bomb_size=void 0,o.can_touch=!1,o.resultArrs=[],o}e(o,t);var a=o.prototype;return a.start=function(){this.coin_label.string="X"+p.bomb_coins_tools},a.update=function(t){},a.on_click_bomb=function(){var t=this,o=p.ui_layer_action.node;this.bomb_node?console.log("场景中有炸弹，不重新生成"):y.instance.create_by_Pool("Bomb",this.node.worldPosition,o).then((function(e){t.bomb_node=e,t.bomb_size||(t.bomb_size=g.createRect(e));var n=o.getComponent(h).convertToNodeSpaceAR(o.worldPosition);u.stopAllByTarget(t.bomb_node),b(t.bomb_node).to(.1,{scale:new d(.55,.55,1)}).to(.3,{position:n},{easing:"quadInOut"}).call((function(){t.get_select_color()})).start(),t.show_bomb()}))},a.show_bomb=function(){var t=p.ui_layer_action.node;t.on(f.EventType.TOUCH_MOVE,this.touch_move,this),t.on(f.EventType.TOUCH_END,this.touch_end,this),t.on(f.EventType.TOUCH_CANCEL,this.touch_end,this),this.bomb_node.active=!0;var o=this.bomb_node.getComponent(w);o&&o.show_bomb(),this.can_touch=!0},a.touch_move=function(t){this.update_bomb(t.getUIDelta().x,t.getUIDelta().y),this.get_select_color()},a.update_bomb=function(t,o){g.createRect(this.bomb_node,this.bomb_size);var e=this.bomb_node.getWorldPosition(),n=t+e.x,i=o+e.y,s=A.getIns().get_rect();if(s){var r=s.x+.5*this.bomb_size.width,c=s.x+s.width-.5*this.bomb_size.width,a=s.y+s.height-.5*this.bomb_size.height-2*p.CELL_SIZE;n<r&&(n=r),n>c&&(n=c),i>a&&(i=a),this.bomb_node.setWorldPosition(n,i,0)}},a.touch_end=function(t){if(this.can_touch){this.can_touch=!1;var o=this;this.scheduleOnce((function(){o.can_touch=!0}),1);var e=T.get_cur_coins()-p.bomb_coins_tools;if(e<0)return console.log("使用道具，不够钱"),p.ui_layer_action.show_win("VideoTips"),void this.reset();if(T.record_coins(e),E.Ins.dispatch(C.UPDATE_COIN),g.createRect(this.bomb_node,this.bomb_size),this.bomb_size.intersects(A.getIns().get_rect())){this.stop_all_cell_tween(),this.get_select_color();var n=this.bomb_node.getComponent(w);n&&(this.drop(),n.show_effect(this.reset,this))}else this.reset()}},a.reset=function(){this.bomb_node.active=!1;var t=p.ui_layer_action.node;t.off(f.EventType.TOUCH_MOVE,this.touch_move,this),t.off(f.EventType.TOUCH_END,this.touch_end,this),t.off(f.EventType.TOUCH_CANCEL,this.touch_end,this),y.instance.remove_node(this.bomb_node),this.bomb_node=null,this.stop_all_cell_tween()},a.drop=function(){v.instance.play_shot("bomb");for(var t,o=this.bomb_node.worldPosition,e=A.getIns().get_area_cells(),n=this.bomb_node.getComponent(h).width,i=[],r=s(e);!(t=r()).done;){var c=t.value;c&&c.forEach((function(t){t&&d.distance(t.node.worldPosition,o)<=n&&i.push(t)}))}p.combo++,E.Ins.dispatch(C.SHOW_FLY_SCORE_by_score,i.length,[0]),E.Ins.dispatch(C.SHOW_SCORE_EFFECTS),E.Ins.dispatch(C.CLEAR_CELLS,i)},a.get_select_color=function(){var t=r(c().mark((function t(){var o=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,e){var n=o.bomb_node.worldPosition;o.resultArrs=[];for(var i,r=A.getIns().get_area_cells(),c=o.bomb_node.getComponent(h).width,a=s(r);!(i=a()).done;){var _=i.value;_&&_.forEach((function(t){t&&d.distance(t.node.worldPosition,n)<=c&&o.resultArrs.push(t)}))}o.stop_all_cell_tween(),o.show_all_cell_tween()})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a.show_all_cell_tween=function(){this.resultArrs.forEach((function(t){t.show_flash_tween()}))},a.stop_all_cell_tween=function(){for(var t,o=A.getIns().get_area_cells(),e=s(o);!(t=e()).done;){var n=t.value;n&&n.forEach((function(t){t&&t.close_flash_tween()}))}},o}(m)).prototype,"coin_label",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=R))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/BytePlantform.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./Global.ts"],(function(n){var t,o,e,i,s,l,c;return{setters:[function(n){t=n.inheritsLoose,o=n.createClass},function(n){e=n.cclegacy,i=n._decorator,s=n.Component},function(n){l=n.BYTEDANCE},function(n){c=n.Global}],execute:function(){var a,r;e._RF.push({},"0125fxhvIBCNbSAgBDQjVve","BytePlantform",void 0);var u=i.ccclass;i.property,n("BytePlantform",u("BytePlantform")(((r=function(n){function e(){for(var t,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(t=n.call.apply(n,[this].concat(e))||this).tt=window.tt,t.banner=void 0,t.banner_show_status=!1,t}t(e,n);var i=e.prototype;return i.is_douyin=function(){return l},i.listen_douyin=function(n,t){if(this.is_douyin()){this.tt.onShow((function(o){console.log("onShow data  res:",o),"021036"===o.scene?null==n||n.call(t,!0):null==n||n.call(t,!1)}));var o=this.tt.getLaunchOptionsSync();o&&"021036"===o.scene&&(null==n||n.call(t,!0))}else null==n||n.call(t,!1)},i.check_side_bar=function(n,t){this.is_douyin()?this.tt.checkScene({scene:"sidebar",success:function(o){console.log("check scene success: ",o,o.isExist),null==n||n.call(t,o.isExist)},fail:function(o){console.log("check scene fail:",o,o),null==n||n.call(t,!1)}}):null==n||n.call(t,!1)},i.navigate_to_douyin=function(n,t){if(!this.is_douyin())return console.log("not douyin platform!"),void(null==n||n.call(t,!1));this.tt.navigateToScene({scene:"sidebar",success:function(){console.log("navigate success"),null==n||n.call(t,!0)},fail:function(o){console.log("navigate failed reason:",o),null==n||n.call(t,!1)}})},i.bytedance_setting=function(){console.log("BYTEDANCE_setting",l)},i.show_interstitial=function(n){void 0===n&&(n=0);var t=c.ad_intersitial_id;console.log("显示插屏广告》〉》〉》〉》〉》〉》〉》",t);var o=this.tt.createInterstitialAd({adUnitId:t.trim()});o&&(o.load().then((function(){o.show().then((function(){console.log("插屏广告展示成功")}))})).catch((function(n){console.log(n)})),setTimeout((function(){o.show().catch((function(n){console.log("插屏广告展示失败",n)}))}),1e3*n))},i.ShowAdvertisements=function(n){var t,o,e=c.ad_video_id;console.log("显示视频广告》〉》〉》〉》〉》〉》〉》",e);var i=this.tt.createRewardedVideoAd({adUnitId:e.trim()});i.onClose((function t(o){o.isEnded?(n(1),console.log("注销广告关闭监听1 "),i.offClose(t)):(console.log("注销广告关闭监听0 "),n(0))})),null==(t=i.show())||t.then((function(){console.log("视频广告展示")})),null==(o=i.onError())||o.then((function(){console.log("广告无法播放"),n(2)}))},i.hide_banner=function(){this.banner_show_status=!1,null!=this.banner&&(this.banner.destroy(),this.banner=null,console.log("关闭 banner..."))},i.show_banner=function(n){var t=this;if(null!=this.banner)return this.banner.destroy(),void(this.banner=null);this.banner_show_status=!0;var o=c.ad_banner_id,e=this.tt.getSystemInfoSync(),i=e.windowWidth,s=e.windowHeight;console.log("showBanner start ad_banner_id::",o.trim(),i,s);var l=this.tt.getSystemInfoSync(),a=l.windowWidth,r=l.windowHeight,u=this.tt.createBannerAd({adUnitId:o.trim(),style:{width:200,top:0}});u.style.left=(a-200)/2,u.onResize((function(n){console.log(n.width,n.height),u.style.top=r-n.height,u.style.left=(a-n.width)/2}));var h=this;u.onLoad((function(){console.log("banner 222 广告加载成功"),t.banner=u,t.banner_show_status?u.show().then((function(){console.log("广告显示成功"),setTimeout((function(){h.hide_banner(),console.log("广告隐藏")}),2e3)})).catch((function(n){console.log("广告组件出现问题",n)})):(console.log("错误出发，关闭bannner"),t.hide_banner())})),u.onError((function(n){console.log("banner 广告加载错误",n)}))},o(e,null,[{key:"ins",get:function(){return this._ins||(this._ins=new e),this._ins}}]),e}(s))._ins=void 0,a=r))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/CellAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tools.ts","./Global.ts","./ResourcePool.ts","./AreaData.ts","./Enums.ts"],(function(t){var e,o,i,s,n,r,a,_,c,l,h,p,d,u,f,g,v,I,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){n=t.cclegacy,r=t._decorator,a=t.Node,_=t.Vec2,c=t.Vec3,l=t.Tween,h=t.Sprite,p=t.UITransform,d=t.UIOpacity,u=t.Component},function(t){f=t.Tools},function(t){g=t.Global},function(t){v=t.ResourcePool},function(t){I=t.AreaData},function(t){w=t.DIR}],execute:function(){var y,m,D,E,C;n._RF.push({},"42fe1r1FZRDD4HIcIeb2DgN","CellAction",void 0);var T=r.ccclass,L=r.property;t("CellAction",(y=T("CellAction"),m=L(a),y((C=e((E=function(t){function e(){for(var e,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).cell_rect=void 0,e.color=void 0,e.is_dark=void 0,e.in_area=void 0,e.isFinded=void 0,e.pos=void 0,e.target_pos=new _,i(e,"tips_node",C,s(e)),e.flashTween=null,e.can_show_tween=!1,e.tween_time=0,e}o(e,t);var n=e.prototype;return n.init_cell=function(t,e){this.node.setScale(c.ONE),l.stopAllByTarget(this.node),this.in_area=!1,this.color=t,this.is_dark=e;var o=this.getComponent(h);l.stopAllByTarget(this.getComponent(p));var i=this.getComponent(d);f.setSpriteAlpha(i,1),l.stopAllByTarget(i),o.color=e?f.colors_dark[t]:f.colors[t];var s=this.node.getComponent(p);s.width=g.CELL_SIZE,s.height=g.CELL_SIZE,this.close_flash_tween(),this.tips_node.active=!1},n.check_area_drop=function(){this.cell_rect=f.createRect(this.node,this.cell_rect);var t=I.getIns().get_rect();if(this.cell_rect.intersects(t)){var e=this.node.worldPosition,o=Math.floor((e.x-t.x)/g.CELL_SIZE),i=g.GRID_HEIGHT_NUM-1-Math.floor((e.y-t.y)/g.CELL_SIZE);try{if(i>-1&&o>-1&&!I.getIns().get_area_cells()[i][o])return this.target_pos.x=o,this.target_pos.y=i,!0}catch(t){return!1}}return!1},n.set_target_pos=function(t){this.target_pos=t},n.add_to_game_area=function(){I.getIns().get_area_cells()[this.target_pos.y][this.target_pos.x]=this;var t=this.target_pos.x,e=this.target_pos.y;this.pos=[t,e];var o=I.getIns().get_rect(),i=g.CELL_SIZE,s=.5*i;this.node.setWorldPosition(new c(o.x+t*i+s,o.y+(g.GRID_HEIGHT_NUM-e)*i+s-i,0)),this.in_area=!0,this.node.setParent(I.getIns().get_area_node(),!0)},n.update_pos=function(){if(this.in_area){var t=I.getIns().get_area_cells(),e=g.GRID_WIDTH_NUM,o=g.GRID_HEIGHT_NUM;if(this.pos){var i=this.pos[0],s=this.pos[1];if(s+1<o&&!t[s+1][i])return t[s][i]=null,t[s+1][i]=this,this.pos[1]+=1,this.move_to(w.DOWN),!0;if(i-1>=0&&s+1<o&&!t[s+1][i-1])return t[s][i]=null,t[s+1][i-1]=this,this.pos[1]+=1,this.pos[0]-=1,this.move_to(w.LEFT_DOWN),!0;if(i+1<e&&s+1<o&&!t[s+1][i+1])return t[s][i]=null,t[s+1][i+1]=this,this.pos[1]+=1,this.pos[0]+=1,this.move_to(w.RIGHT_DOWN),!0}}return!1},n.move_to=function(t){var e=this.node.getWorldPosition(),o=g.CELL_SIZE;switch(t){case w.DOWN:this.node.setWorldPosition(e.x,e.y-o,e.z);break;case w.LEFT_DOWN:this.node.setWorldPosition(e.x-o,e.y-o,e.z);break;case w.RIGHT_DOWN:this.node.setWorldPosition(e.x+o,e.y-o,e.z)}},n.find_by_color_=function(t){var e=this;if(!this.isFinded){this.isFinded=!0;var o=f.findSameColorFromAround(this.pos,I.getIns().get_area_cells());t.add_same_color_cell(this),o.forEach((function(o){o&&o.color==e.color&&o.find_by_color_(t)}))}},n.remove_with_animation=function(t){v.instance.remove_node(this.node),I.getIns().get_area_cells()[this.pos[1]][this.pos[0]]=null},n.refresh_tween=function(t){if(this.can_show_tween){if(this.tween_time+=t,this.tween_time+=Math.random(),!(this.tween_time<2)){this.tween_time=0,this.tips_node.active||(this.tips_node.active=!0);var e=this.tips_node.getComponent(d);e.opacity<200?e.opacity=200:e.opacity=100}}else this.tips_node.active&&(this.tips_node.active=!1)},n.show_flash_tween=function(){this.can_show_tween=!0},n.close_flash_tween=function(){this.can_show_tween=!1},e}(u)).prototype,"tips_node",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=E))||D));n._RF.pop()}}}));

System.register("chunks:///_virtual/CoinLayerAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./XStorage.ts","./ResourcePool.ts","./Tools.ts","./Enums.ts","./EventsManager.ts","./AudioManager.ts"],(function(n){var t,o,i,e,c,r,s,a,u,l,_,p,f,d,h,y,g,v,w;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,i=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){c=n.cclegacy,r=n._decorator,s=n.Node,a=n.Label,u=n.UIOpacity,l=n.Vec3,_=n.tween,p=n.Component},function(n){f=n.Global},function(n){d=n.XStorage},function(n){h=n.ResourcePool},function(n){y=n.Tools},function(n){g=n.EventTyps},function(n){v=n.EventsManager},function(n){w=n.AudioManager}],execute:function(){var b,P,A,C,m,I,L;c._RF.push({},"2897amZOOZGg5oZGsWV5pGb","CoinLayerAction",void 0);var M=r.ccclass,O=r.property;n("CoinAction",(b=M("CoinAction"),P=O(s),A=O(a),b((I=t((m=function(n){function t(){for(var t,o=arguments.length,c=new Array(o),r=0;r<o;r++)c[r]=arguments[r];return t=n.call.apply(n,[this].concat(c))||this,i(t,"coin_sprite",I,e(t)),i(t,"coin_count",L,e(t)),t}o(t,n);var c=t.prototype;return c.onLoad=function(){v.Ins.addListener(g.UPDATE_COIN,this.update_coin,this),v.Ins.addListener(g.SYN_COIN,this.syn_coin,this)},c.start=function(){},c.update=function(n){},c.syn_coin=function(){this.coin_count.string=d.get_cur_coins()+""},c.update_coin=function(){var n=this;if(""!=this.coin_count.string){var t=Number(this.coin_count.string),o=d.get_cur_coins()-t;o>0?(this.show_coin_add_tween(o),this.scheduleOnce((function(){n.coin_count.string=d.get_cur_coins()+""}),2.8)):this.coin_count.string=d.get_cur_coins()+""}else this.coin_count.string=d.get_cur_coins()+""},c.show_coin_add_tween=function(n){var t=this,o=f.ui_layer_action.node;w.instance.play_shot("coin_1"),h.instance.create_by_Pool("Coin",o.worldPosition,o).then((function(n){var o=n.getComponent(u);y.setSpriteAlpha(o,0),y.TweenAlphaAni(o,1,.5).call((function(){for(var n=1;n<3;n++)t.createMoney(new l(45*n,0,0),n),t.createMoney(new l(45*-n,0,0),n+1)})).delay(.3).call((function(){t.fly(n,0)})).start()}))},c.createMoney=function(n,t){var o=this,i=f.ui_layer_action.node;h.instance.create_by_Pool("Coin",i.worldPosition,i).then((function(i){var e=i.getComponent(u);y.setSpriteAlpha(e,1),_(i).to(.3,{position:n}).call((function(){o.fly(i,t)})).start()}))},c.fly=function(n,t){var o=this.coin_sprite.worldPosition.clone();o.y-=80,o.x+=50;var i=n.getComponent(u);_(n).delay(.2*t).to(.5,{worldPosition:o},{easing:"quadIn"}).to(.2,{worldPosition:this.coin_sprite.worldPosition},{easing:"quadIn"}).call((function(){_(i).to(.3,{opacity:0}).start(),w.instance.play_shot("coin_2")})).union().start()},t}(p)).prototype,"coin_sprite",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(m.prototype,"coin_count",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=m))||C));c._RF.pop()}}}));

System.register("chunks:///_virtual/ColorAction.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,n,r,i;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,r=o._decorator,i=o.Component}],execute:function(){var c;n._RF.push({},"5fd84HIJehPGogB0a6/lmBD","ColorAction",void 0);var e=r.ccclass;r.property,o("ColorAction",e("ColorAction")(c=function(o){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=o.call.apply(o,[this].concat(r))||this).root=void 0,t}t(n,o);var r=n.prototype;return r.start=function(){},r.update=function(o){},r.stop_ani=function(){},r.init_data=function(o){this.root=o},r.cur_=function(o){this.root&&this.node.active&&this.root.update_progress(o)},n}(i))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/Enums.ts",["cc"],(function(_){var E,S,t,R,O,A;return{setters:[function(_){E=_.cclegacy,S=_.JsonAsset,t=_.Prefab,R=_.AudioClip,O=_.SpriteFrame,A=_.SpriteAtlas}],execute:function(){E._RF.push({},"b4260AoEPdAULaKYLL8eFH9","Enums",void 0);_("EventTyps",{DRAG_ONE_OVER:"DRAG_ONE_OVER",LOAD_ASSETS_OVER:"LOAD_ASSETS_OVER",ROLL_UPDATE_SCORE:"ROLL_UPDATE_SCORE",UPDATE_COIN:"UPDATE_COIN",SYN_COIN:"SYN_COIN",SHOW_FLY_SCORE_by_index:"SHOW_FLY_SCORE_by_index",SHOW_FLY_SCORE_by_score:"SHOW_FLY_SCORE_by_score",SHOW_SCORE_EFFECTS:"SHOW_SCORE_EFFECTS",CLEAR_CELLS:"CLEAR_CELLS",CLEAR_ALL_CELLS:"CLEAR_ALL_CELLS",RESTART_GAME:"RESTART_GAME",PLAY_START_TWEEN:"PLAY_START_TWEEN",DOUYIN_SILDER_show_gift_btn:"DOUYIN_SILDER_show_gift_btn",DOUYIN_SILDER_show_refrush_data:"DOUYIN_SILDER_refrush_data"}),_("DIR",function(_){return _[_.DOWN=0]="DOWN",_[_.LEFT_DOWN=1]="LEFT_DOWN",_[_.RIGHT_DOWN=2]="RIGHT_DOWN",_}({})),_("GAME_STATE",function(_){return _[_.READY=0]="READY",_[_.START=1]="START",_[_.END=2]="END",_[_.Pause=3]="Pause",_}({})),_("AssetType",{Json:{type:S,path:"jsons/"},Prefab:{type:t,path:"prefabs/"},Sound:{type:R,path:"sounds/"},Ui:{type:O,path:"ui/"},Atlas:{type:A,path:"atlas/"}});E._RF.pop()}}}));

System.register("chunks:///_virtual/EventsManager.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){var e;n._RF.push({},"ae2d8XUGyJL2J3FBs1kfsxE","EventsManager",void 0);var r=t("EventsManager",function(){function t(){this.dict={}}var n=t.prototype;return n.addListener=function(t,n,e){var r=this.dict[t];null==r&&(r=new Array,this.dict[t]=r);for(var i=0,a=r.length;i<a;i++)if(r[i][0]==n&&r[i][1]==e)return;r.push([n,e])},n.removeListener=function(t,n,e){var r=this.dict[t];if(null!=r){for(var i=0,a=r.length;i<a;i++)if(r[i][0]==n&&r[i][1]==e){r.splice(i,1);break}0==r.length&&(this.dict[t]=null,delete this.dict[t])}},n.dispatch=function(t){if(null!=this.dict[t]){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];this.dealMsg(t,void 0,e)}},n.dealMsg=function(t,n){for(var e,r=this.dict[t],i=0,a=r.length,s=null,c=arguments.length,l=new Array(c>2?c-2:0),u=2;u<c;u++)l[u-2]=arguments[u];for(;i<a;){var h;if(s=r[i],!n||n&&n==s[1])e=(h=s[0]).apply.apply(h,[s[1]].concat(l));r.length!=a&&(a=r.length,i--),i++}return e},t}());e=r,r.Ins=new e,n._RF.pop()}}}));

System.register("chunks:///_virtual/Global.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enums.ts","./XStorage.ts","./EventsManager.ts"],(function(n){var e,t,_,a,s,o,c;return{setters:[function(n){e=n.createClass},function(n){t=n.cclegacy,_=n._decorator},function(n){a=n.GAME_STATE,s=n.EventTyps},function(n){o=n.XStorage},function(n){c=n.EventsManager}],execute:function(){var i,l;t._RF.push({},"8e1071sXHZO17V47hp321Wd","Global",void 0);var r=_.ccclass;_.property,n("Global",r("Global")(((l=function(){function n(){}return n.init_once=function(){(n.is_new_player=o.is_new_player(),n.is_new_player)&&(0==o.get_cur_coins()&&(o.record_coins(n.new_player_default_coin),c.Ins.dispatch(s.UPDATE_COIN)))},n.set_old_player=function(){o.is_old_player(),n.is_new_player=o.is_new_player()},n.set_game_state=function(e,t){n.game_stat=e},n.get_state_info_msg=function(){return n._game_state==a.READY?"READY":n._game_state==a.START?"START":n._game_state==a.END?"END":n._game_state==a.Pause?"Pause":"--"},e(n,null,[{key:"_game_state",get:function(){return n.game_stat}}]),n}()).loaded=!1,l.loading_rate=0,l.curColorNum=4,l.GRID_HEIGHT_NUM=106,l.GRID_WIDTH_NUM=84,l.GRID_DEAD_ROW=85,l.BASE_CELL_NUMBER=24,l.CELL_SIZE=7,l.combo=0,l.game_stat=a.READY,l.ui_layer_action=void 0,l.win_coins=10,l.lose_coins_tools=100,l.bomb_coins_tools=50,l.target_coins_tools=50,l.watch_video_coins=20,l.gift_coins=100,l.new_player_default_coin=70,l.open_sound=!0,l.is_new_player=!1,l.ad_intersitial_id="adunit-877b93ffa0735727",l.ad_video_id="adunit-66f14362012d3692",l.ad_banner_id=void 0,l.ad_custom_id=["adunit-e82fe192ca3ac3a1","adunit-5284a0c41694165b"],l.json_data='{\n    "perCopyMaxScore":25000,\n    "types":[\n        {\n            "score":25,\n            "cells":      [\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,\n                0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,\n                0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,\n                0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,\n                0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,\n                0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,\n                0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,\n                0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,\n                0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,\n                0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,\n                0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,\n                0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,\n                0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,\n                0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,\n                0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,\n                0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\n                ]\n        },\n        {\n            "score":23,\n            "cells":    [\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]\n        },\n        {\n            "score":22,\n            "cells":  [\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]\n        },\n        {\n            "score":22,\n            "cells": [\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]\n        },\n        {\n            "score":22,\n            "cells": [\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\n                ]\n        },\n       {\n        "score":22,\n        "cells":  [\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n            0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n            0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n            0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n            0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n            0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n            0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n            1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n            1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n            1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n            1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n            1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n            1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n            1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]\n       },\n       {\n        \n            "score":21,\n            "cells":  [\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,\n                1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,\n                1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,\n                1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,\n                1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,\n                1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,\n                1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,\n                1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]\n       },\n       {\n        "score":21,\n        "cells":  [          \n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,\n            1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,\n            1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,\n            1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,\n            1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,\n            1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,\n            1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\n        ]\n       }\n       \n\n    ]\n\n}',i=l))||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/GridGame.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,o,r,s,n,a,l,c,h,p,d,g,u,v,f,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,s=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,a=e._decorator,l=e.SpriteFrame,c=e.input,h=e.Input,p=e.Node,d=e.Sprite,g=e.UITransform,u=e.Vec3,v=e.tween,f=e.Color,S=e.Component}],execute:function(){var m,z,M,w,y;n._RF.push({},"7795aoPsfNF2IylZXdsmOJk","GridGame",void 0);var T=a.ccclass,I=a.property;e("GridGame",(m=T("GridGame"),z=I({type:l}),m((y=t((w=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return t=e.call.apply(e,[this].concat(s))||this,o(t,"gridImage",y,r(t)),t.gridSize=20,t.cellSize=30,t.gap=10,t.gridNodes=[],t.activeTweens=new Map,t.radius=100,t}i(t,e);var n=t.prototype;return n.start=function(){this.gridImage?(this.createGrid(),c.on(h.EventType.MOUSE_MOVE,this.onMouseMove,this)):console.error("请在编辑器中为 gridImage 赋值 SpriteFrame!")},n.createGrid=function(){for(var e=this.gridSize*(this.cellSize+this.gap)-this.gap,t=this.gridSize*(this.cellSize+this.gap)-this.gap,i=-e/2+this.cellSize/2,o=t/2-this.cellSize/2,r=0;r<this.gridSize;r++){this.gridNodes[r]=[];for(var s=0;s<this.gridSize;s++){var n=new p("Cell_"+r+"_"+s);n.parent=this.node;var a=i+s*(this.cellSize+this.gap),l=o-r*(this.cellSize+this.gap);n.setPosition(a,l,0);var c=n.addComponent(d);c.spriteFrame=this.gridImage,c.sizeMode=d.SizeMode.CUSTOM,n.addComponent(g).setContentSize(this.cellSize,this.cellSize),c.color.set(255,255,255,255),this.gridNodes[r][s]=n}}},n.onMouseMove=function(e){var t=this.node.getComponent(g);if(t){var i=e.getUILocation(),o=t.convertToNodeSpaceAR(new u(i.x,i.y,0));console.log("onMouseMove>>>",o),this.stopAllTweens();for(var r=0;r<this.gridSize;r++)for(var s=0;s<this.gridSize;s++){var n=this.gridNodes[r][s],a=n.getPosition();u.distance(o,a)<=this.radius&&this.startBlink(n)}}},n.onMouseLeave=function(e){this.stopAllTweens()},n.startBlink=function(e){if(!this.activeTweens.has(e)){var t=e.getComponent(d),i=v(t).to(.5,{color:new f(255,255,255,128)}).to(.5,{color:new f(255,255,255,255)}).union().repeatForever().start();this.activeTweens.set(e,i)}},n.stopAllTweens=function(){for(var e,t=s(this.activeTweens.entries());!(e=t()).done;){var i=e.value,o=i[0];i[1].stop(),o.getComponent(d).color.set(255,255,255,255)}this.activeTweens.clear()},n.onDestroy=function(){this.stopAllTweens(),c.off(h.EventType.MOUSE_MOVE,this.onMouseMove,this)},t}(S)).prototype,"gridImage",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=w))||M));n._RF.pop()}}}));

System.register("chunks:///_virtual/HomeAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourceManger.ts","./Enums.ts","./Global.ts","./EventsManager.ts","./WxPlatform.ts","./BytePlantform.ts","./BaseWindows.ts"],(function(e){var t,n,r,o,a,i,s,c,l,u,d,f,p,_,h,m,w,v,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,l=e.Sprite,u=e.Label},function(e){d=e.default},function(e){f=e.EventTyps,p=e.GAME_STATE,_=e.AssetType},function(e){h=e.Global},function(e){m=e.EventsManager},function(e){w=e.WxPlatform},function(e){v=e.BytePlantform},function(e){y=e.BaseWindows}],execute:function(){var g,b,A,x,E,S,R;s._RF.push({},"62aec4QD/FNrbU4o4PqTwd0","HomeAction",void 0);var T=c.ccclass,k=c.property;e("HomeAction",(g=T("HomeAction"),b=k(l),A=k(u),g((S=t((E=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,r(t,"load",S,o(t)),r(t,"ld_rate",R,o(t)),t.call_back=void 0,t}n(t,e);var s=t.prototype;return s.onLoad=function(){m.Ins.addListener(f.LOAD_ASSETS_OVER,this.loaded_completed,this)},s.start=function(){var e=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.show_windows=function(){var t=a(i().mark((function t(n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=null),this.set_window_name("HomeAction"),e.prototype.show_windows.call(this),this.call_back=n,w.ins.wechat_setting(),v.ins.bytedance_setting(),t.next=8,this.loadRes();case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.close_windows=function(){var t=a(i().mark((function t(n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.prototype.close_windows.call(this,n);case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.loadRes=function(){var e=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.instance.make_json_replace_config(),e.next=3,d.instance.load_bundle("remote",.2);case 3:return e.next=5,d.instance.load_resource("remote",_.Atlas,.1);case 5:return e.next=7,d.instance.load_resource("remote",_.Prefab,.3);case 7:return e.next=9,d.instance.load_resource("remote",_.Sound,.2);case 9:return e.next=11,d.instance.load_resource("remote",_.Ui,.2);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.loaded_completed=function(){h.loaded=!0;var e=this;this.scheduleOnce((function(){e.close_windows(p.READY),e.call_back()}),.5)},s.update=function(e){this.load.fillRange=h.loading_rate,this.ld_rate&&(this.ld_rate.string=Math.floor(100*h.loading_rate)+"%"),h.loading_rate>.99999&&(h.loading_rate=1),h.loading_rate>=1&&(m.Ins.dispatch(f.LOAD_ASSETS_OVER),m.Ins.removeListener(f.LOAD_ASSETS_OVER,this.loaded_completed,this))},t}(y)).prototype,"load",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(E.prototype,"ld_rate",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=E))||x));s._RF.pop()}}}));

System.register("chunks:///_virtual/LoseAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseWindows.ts","./Global.ts","./LoseContent_1_Action.ts","./LoseContent_2_Action.ts","./Enums.ts"],(function(t){var n,o,e,i,s,c,r,a,_,l,u;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,c=t._decorator},function(t){r=t.BaseWindows},function(t){a=t.Global},function(t){_=t.LoseContent_1_Action},function(t){l=t.LoseContent_2_Action},function(t){u=t.GAME_STATE}],execute:function(){var h,p,w,f,d,y,A;s._RF.push({},"d3aafJMF9NESb9HYi/uvnj0","LoseAction",void 0);var L=c.ccclass,b=c.property;t("LoseAction",(h=L("LoseAction"),p=b(_),w=b(l),h((y=n((d=function(t){function n(){for(var n,o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return(n=t.call.apply(t,[this].concat(s))||this).random_coins=0,e(n,"content_1",y,i(n)),e(n,"content_2",A,i(n)),n}o(n,t);var s=n.prototype;return s.start=function(){},s.update=function(t){},s.show_windows=function(){t.prototype.show_windows.call(this),this.content_2.close_content(),this.content_1.show_content(this),this.content=this.content_1.node,this.show_content_tween()},s.show_content_2=function(){this.content_1.close_content(),this.content_2.show_content(this),this.content=this.content_2.node,this.show_content_tween(),a.set_game_state(u.END,"LoseAction")},s.close_windows=function(n){t.prototype.close_windows.call(this,n)},n}(r)).prototype,"content_1",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=n(d.prototype,"content_2",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=d))||f));s._RF.pop()}}}));

System.register("chunks:///_virtual/LoseContent_1_Action.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./AudioManager.ts","./EventsManager.ts","./Enums.ts","./XStorage.ts","./AdManger.ts","./TipsManagerAction.ts","./TipsAction.ts"],(function(t){var n,i,o,e,c,a,s,r,_,l,f,u,h,p,d,m,v,b,g;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){c=t.cclegacy,a=t._decorator,s=t.Label,r=t.Node,_=t.Animation,l=t.Component},function(t){f=t.Global},function(t){u=t.AudioManager},function(t){h=t.EventsManager},function(t){p=t.EventTyps,d=t.GAME_STATE},function(t){m=t.XStorage},function(t){v=t.AdManger},function(t){b=t.TipsManagerAction},function(t){g=t.TIPS_TYPE}],execute:function(){var y,A,w,T,L,E,M,C,S;c._RF.push({},"93b46rG1qVM5Izzar/5tsSL","LoseContent_1_Action",void 0);var z=a.ccclass,I=a.property;t("LoseContent_1_Action",(y=z("LoseContent_1_Action"),A=I(s),w=I(s),T=I(r),y((M=n((E=function(t){function n(){for(var n,i=arguments.length,c=new Array(i),a=0;a<i;a++)c[a]=arguments[a];return n=t.call.apply(t,[this].concat(c))||this,o(n,"time",M,e(n)),o(n,"coin_label",C,e(n)),o(n,"close_btn_node",S,e(n)),n.root=void 0,n.effect_animation=void 0,n}i(n,t);var c=n.prototype;return c.start=function(){},c.update=function(t){},c.cur_=function(t){u.instance.play_shot("ztime")},c.close_content=function(){this.node.active=!1},c.show_content=function(t){var n=this;this.coin_label.string=f.lose_coins_tools+"",this.root=t,this.node.active=!0,this.effect_animation=this.node.getComponent(_);var i=this;this.effect_animation&&(this.effect_animation.once(_.EventType.FINISHED,(function(t){console.log("倒计时结束",t),i.effect_animation=null,n.root.show_content_2()}),this),this.effect_animation.play()),this.close_btn_node.active=!1,this.scheduleOnce((function(){i.close_btn_node.active=!0}),1)},c.on_click_close=function(){this.effect_animation&&(this.effect_animation.stop(),this.effect_animation=null),this.root.show_content_2()},c.on_click_continue_by_video=function(){var t=this;this.effect_animation&&this.effect_animation.pause();var n=this;v.show_video((function(i){1==i?(console.log("on_click_continue_by_video 获取奖励成功"),b.show("获取奖励成功",g.OK),n.reward()):(b.show("获取奖励失败",g.WARN),t.effect_animation&&(t.effect_animation.play(),console.log("看视频失败，继续播放")))}))},c.on_click_continue_by_coin=function(){this.effect_animation&&this.effect_animation.pause();var t=this,n=m.get_cur_coins()-f.lose_coins_tools;if(n<0)return console.log("lose 界面  使用道具，不够钱"),void f.ui_layer_action.show_win("VideoTips",(function(){t.effect_animation&&t.effect_animation.play()}));m.record_coins(n),h.Ins.dispatch(p.UPDATE_COIN),this.reward()},c.reward=function(){this.root.close_windows(d.START),this.effect_animation&&(this.effect_animation.stop(),this.effect_animation=null),h.Ins.dispatch(p.CLEAR_ALL_CELLS)},n}(l)).prototype,"time",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=n(E.prototype,"coin_label",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=n(E.prototype,"close_btn_node",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=E))||L));c._RF.pop()}}}));

System.register("chunks:///_virtual/LoseContent_2_Action.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./XStorage.ts","./EventsManager.ts","./Enums.ts","./ResourceManger.ts"],(function(t){var e,n,o,r,i,c,s,a,u,_,l,p,f,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,c=t._decorator,s=t.Label,a=t.Component},function(t){u=t.AudioManager},function(t){_=t.XStorage},function(t){l=t.EventsManager},function(t){p=t.GAME_STATE,f=t.EventTyps},function(t){g=t.default}],execute:function(){var h,v,d,b,y,A,E;i._RF.push({},"636bfkFXHxPu6694FXSImNb","LoseContent_2_Action",void 0);var M=c.ccclass,m=c.property;t("LoseContent_2_Action",(h=M("LoseContent_2_Action"),v=m(s),d=m(s),h((A=e((y=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i))||this,o(e,"cur_score",A,r(e)),o(e,"best_score",E,r(e)),e.root=void 0,e}n(e,t);var i=e.prototype;return i.start=function(){},i.update=function(t){},i.close_content=function(){this.node.active=!1},i.show_content=function(t){this.root=t,this.node.active=!0;var e=g.instance.get_max_score();this.cur_score.string=_.get_cur_score()+e*_.get_cur_lvl()+"",this.best_score.string=_.get_best_score()+e*_.get_history_lvl()+"",u.instance.play_shot("over")},i.on_click_restart=function(){u.instance.play_shot("btn_1"),this.root.close_windows(p.READY),_.record_cur_lvl(0),_.record_score(0),l.Ins.dispatch(f.RESTART_GAME)},e}(a)).prototype,"cur_score",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(y.prototype,"best_score",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=y))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AreaData.ts","./AudioManager.ts","./BaseWindows.ts","./BlockAction.ts","./BombAction.ts","./BottomAction.ts","./CellAction.ts","./CoinLayerAction.ts","./ColorAction.ts","./Enums.ts","./EventsManager.ts","./Global.ts","./GridGame.ts","./HomeAction.ts","./LoseAction.ts","./LoseContent_1_Action.ts","./LoseContent_2_Action.ts","./MainAction.ts","./NewPlayerAction.ts","./NumberAction.ts","./NumberTexture.ts","./Position.ts","./ResourceManger.ts","./ResourcePool.ts","./ScoreAction.ts","./ScoreEffectsAction.ts","./ScoreLayerAction.ts","./SettingAction.ts","./SiderAction.ts","./SilderManager.ts","./TargetAction.ts","./TempData.ts","./TipsAction.ts","./TipsManagerAction.ts","./Tools.ts","./UILayerAction.ts","./VideoTipsAction.ts","./WinAction.ts","./XStorage.ts","./AdManger.ts","./BytePlantform.ts","./WxPlatform.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tools.ts","./Global.ts","./ResourcePool.ts","./BlockAction.ts","./EventsManager.ts","./Enums.ts","./CellAction.ts","./AreaData.ts","./NewPlayerAction.ts","./XStorage.ts","./TempData.ts"],(function(e){var t,n,r,o,a,i,c,s,_,l,u,h,f,p,d,b,g,m,v,k,w,y,x,E,R,T,A,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.asyncToGenerator,i=e.regeneratorRuntime,c=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy,_=e._decorator,l=e.Node,u=e.Prefab,h=e.Vec3,f=e.Vec2,p=e.tween,d=e.Component},function(e){b=e.Tools},function(e){g=e.Global},function(e){m=e.ResourcePool},function(e){v=e.BlockAction},function(e){k=e.EventsManager},function(e){w=e.EventTyps,y=e.GAME_STATE},function(e){x=e.CellAction},function(e){E=e.AreaData},function(e){R=e.NewPlayerAction},function(e){T=e.XStorage},function(e){A=e.TempDataCell,I=e.TempDataBlock}],execute:function(){var D,C,P,O,M,S,N,G,L,H,W,B,F;s._RF.push({},"17133iap3ZKnq6nWby2Z96e","MainAction",void 0);var z=_.ccclass,U=_.property;e("MainAction",(D=z("MainAction"),C=U(l),P=U(l),O=U([l]),M=U(R),S=U(u),D((L=t((G=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,r(t,"top_node",L,o(t)),r(t,"bottom_node",H,o(t)),r(t,"block_arr",W,o(t)),r(t,"new_plyer_action",B,o(t)),r(t,"home_prefab",F,o(t)),t.loop_times=-1,t.loaded_storage_game_data=!1,t.same_cell_arr=[],t.save_time=0,t}n(t,e);var s=t.prototype;return s.onLoad=function(){k.Ins.addListener(w.DRAG_ONE_OVER,this.on_drop_over,this),k.Ins.addListener(w.RESTART_GAME,this.restart_game,this),k.Ins.addListener(w.PLAY_START_TWEEN,this.play_start_tween,this)},s.start=function(){var e=this;m.instance.set_prefab("Home",this.home_prefab),g.ui_layer_action.show_win("Home",(function(){E.getIns().init_game_once(),g.init_once(),e.restart_game()}))},s.restart_game=function(){g.set_game_state(y.READY,"Main"),this.play_start_tween(),this.clean_game(),E.getIns().set_area_cells(b.createNullMatrix(g.GRID_HEIGHT_NUM,g.GRID_WIDTH_NUM)),this.loaded_storage_game_data?this.create_3_block():this.init_load_game_data(),k.Ins.dispatch(w.ROLL_UPDATE_SCORE),k.Ins.dispatch(w.SYN_COIN),g.set_game_state(y.START,"Main")},s.init_load_game_data=function(){var e=this;this.loaded_storage_game_data=!0,T.load_cells().forEach((function(t){var n=t.color,r=t.dark;m.instance.create_by_Pool("Cell",h.ZERO,e.node).then((function(e){var o=e.getComponent(x);o&&o.init_cell(n,r);var a=new f(t.y,t.x);o.set_target_pos(a),o.add_to_game_area()}))}));var t=T.load_blocks();t.length>0?t.forEach((function(t){var n=t.index,r=t.block_type,o=t.colors,a=e.block_arr[n];m.instance.create_by_Pool("Block",a.getWorldPosition(),a).then((function(e){var t=e.getComponent(v);t&&t.temp_to_all_block(r,o)}))})):this.create_3_block()},s.play_start_tween=function(){var e=T.get_cur_lvl();g.curColorNum=Math.floor(e/2)+4,g.curColorNum>b.colors.length&&(g.curColorNum=b.colors.length),this.top_node.setPosition(0,150,0),this.bottom_node.setPosition(0,-150,0),p(this.top_node).to(.6,{position:h.ZERO},{easing:"circOut"}).call((function(){})).start(),p(this.bottom_node).to(.9,{position:h.ZERO},{easing:"circOut"}).call((function(){})).start()},s.clean_game=function(){E.getIns().get_area_cells().forEach((function(e){e.forEach((function(e){e&&m.instance.remove_node(e.node)}))})),this.block_arr.forEach((function(e){e.children.forEach((function(e){e.getComponent(v).clean_block(),m.instance.remove_node(e)}))}))},s.create_3_block=function(){var e=a(i().mark((function e(){var t,n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<this.block_arr.length)){e.next=9;break}return e.next=4,this.create_1_block(this.block_arr[t]);case 4:return e.next=6,this.waitTime(0);case 6:t++,e.next=1;break;case 9:g.is_new_player&&this.scheduleOnce((function(){n.new_plyer_action.show_finger(n.block_arr[0].worldPosition.clone())}),1);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.create_1_block=function(){var e=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){m.instance.create_by_Pool("Block",t.getWorldPosition(),t).then((function(t){var n=t.getComponent(v);n&&n.init_block(),e(n)})).catch((function(e){console.log(e),n(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.update=function(){var e=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g._game_state!=y.START||E.isClearing){e.next=11;break}return e.next=3,this.update_logic();case 3:return e.next=5,this.update_logic();case 5:return e.next=7,this.update_logic();case 7:return e.next=9,this.update_logic();case 9:return e.next=11,this.update_tween(t);case 11:if(g._game_state!=y.START||E.isClearing){e.next=14;break}return e.next=14,this.update_save(t);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.update_tween=function(){var e=a(i().mark((function e(t){var n,r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=E.getIns().get_area_cells(),r=c(n);!(o=r()).done;)(a=o.value)&&a.forEach((function(e){e&&e.refresh_tween(t)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.update_logic=function(){var e=a(i().mark((function e(){var t,n,r,o,a,c,s,_;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=E.getIns().get_area_cells(),n=g.GRID_HEIGHT_NUM,r=g.GRID_WIDTH_NUM,o=Math.ceil(r/2),a=!1,c=n-1;c>=0;c--)for(s=0;s<o;s++)(_=t[c][s])&&_.update_pos()&&(a=!0),(_=t[c][r-s-1])&&_.update_pos()&&(a=!0);if(a?(this.loop_times=7,this.unschedule(this.check_over)):this.loop_times>=0&&this.loop_times--,0!=this.loop_times){e.next=15;break}return e.next=10,this.check_color();case 10:if(!e.sent){e.next=14;break}this.unschedule(this.check_over),e.next=15;break;case 14:this.scheduleOnce(this.check_over,1);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.check_over=function(){for(var e=E.getIns().get_area_cells()[g.GRID_HEIGHT_NUM-g.GRID_DEAD_ROW],t=e.length,n=!1,r=0;r<t;r++)if(e[r]){console.log("游戏结束----------------------------------------"),n=!0;break}n&&g.ui_layer_action.show_win("Lose")},s.add_same_color_cell=function(e){var t=e.color;this.same_cell_arr[t]||(this.same_cell_arr[t]=[]);var n=this.same_cell_arr[t];n.indexOf(e)<0&&b.insertArr(n,e)},s.check_color=function(){var e=a(i().mark((function e(){var t,n,r,o,a,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=E.getIns().get_area_cells())&&0!=t.length){e.next=3;break}return e.abrupt("return",!1);case 3:if(t.forEach((function(e){e.forEach((function(e){e&&(e.isFinded=!1)}))})),this.same_cell_arr=[],!(n=b.getRowsByArr(t,0))){e.next=25;break}r=n.length,o=!1,a=0;case 10:if(!(a<r)){e.next=23;break}if(!(c=n[a])){e.next=20;break}if(c.isFinded){e.next=20;break}return this.same_cell_arr=[],c.find_by_color_(this),e.next=18,this.check_col();case 18:e.sent&&(o=!0);case 20:a++,e.next=10;break;case 23:if(!o){e.next=25;break}return e.abrupt("return",!0);case 25:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.reset_combo=function(){g.combo=0},s.check_col=function(){var e=a(i().mark((function e(){var t,n,r,o,a,s,_,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.same_cell_arr){e.next=25;break}t=g.GRID_WIDTH_NUM,n=c(this.same_cell_arr);case 3:if((r=n()).done){e.next=25;break}if(o=r.value){e.next=7;break}return e.abrupt("continue",23);case 7:a=c(o);case 8:if((s=a()).done){e.next=23;break}if(!(_=s.value)||_.pos[0]!=t-1){e.next=21;break}return o.sort((function(e,n){return e.pos[0]*t+e.pos[1]>n.pos[0]*t+n.pos[1]?-1:1})),l=o.length,g.combo++,k.Ins.dispatch(w.SHOW_FLY_SCORE_by_score,l,[_.color]),k.Ins.dispatch(w.SHOW_SCORE_EFFECTS),this.unschedule(this.check_over),k.Ins.dispatch(w.CLEAR_CELLS,o),this.unschedule(this.reset_combo),this.scheduleOnce(this.reset_combo,10),e.abrupt("return",!0);case 21:e.next=8;break;case 23:e.next=3;break;case 25:return e.abrupt("return",!1);case 26:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.waitTime=function(e){var t=this;return new Promise((function(n,r){t.scheduleOnce((function(){n(!0)}),e)}))},s.on_drop_over=function(e,t){g.is_new_player&&(g.set_old_player(),this.new_plyer_action.hide());for(var n=0,r=0;r<this.block_arr.length;r++)n+=this.block_arr[r].children.length;0==n&&this.create_3_block(),this.save_time=5},s.update_save=function(){var e=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.save_time+=t,!(this.save_time<5)){e.next=3;break}return e.abrupt("return");case 3:this.save_time=0,this.save_area_data();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.save_area_data=function(){for(var e=E.getIns().get_area_cells(),t=[],n=0;n<e.length;n++)for(var r=e[n],o=0;o<r.length;o++){var a=r[o];a&&t.push(new A(n,o,a.color,a.is_dark))}T.save_cells(t);for(var i=[],c=0;c<this.block_arr.length;c++)if(this.block_arr[c].children.length>0){var s=this.block_arr[c].children[0].getComponent(v),_=s.block_type_index,l=s.block_color_arr;i.push(new I(c,_,l))}T.save_blocks(i)},s.test_lose_windows=function(){g.ui_layer_action.show_win("Lose")},s.test_win_windows=function(){g.ui_layer_action.show_win("Win")},s.on_click_setting=function(){g.ui_layer_action.show_win("Setting")},s.on_click_video_tips=function(){g.ui_layer_action.show_win("VideoTips")},s.test_save=function(){for(var e=E.getIns().get_area_cells(),t=[],n=0;n<e.length;n++)for(var r=e[n],o=0;o<r.length;o++){var a=r[o];a&&t.push(new A(n,o,a.color,a.is_dark))}T.save_cells(t);for(var i=[],c=0;c<this.block_arr.length;c++)if(this.block_arr[c].children.length>0){var s=this.block_arr[c].children[0].getComponent(v),_=s.block_type_index,l=s.block_color_arr;i.push(new I(c,_,l))}T.save_blocks(i)},s.test_import=function(){var e=this;T.load_cells().forEach((function(t){var n=t.color,r=t.dark;m.instance.create_by_Pool("Cell",h.ZERO,e.node).then((function(e){var o=e.getComponent(x);o&&o.init_cell(n,r);var a=new f(t.y,t.x);o.set_target_pos(a),o.add_to_game_area()}))})),T.load_blocks().forEach((function(t){var n=t.index,r=t.block_type,o=t.colors,a=e.block_arr[n];m.instance.create_by_Pool("Block",a.getWorldPosition(),a).then((function(e){var t=e.getComponent(v);t&&t.temp_to_all_block(r,o)}))}))},s.test_tips=function(){},s.test_show_game_state=function(){var e="";e=g._game_state==y.READY?"READY":g._game_state==y.START?"START":g._game_state==y.END?"END":g._game_state==y.Pause?"Pause":"--",console.log("game status :",e)},t}(d)).prototype,"top_node",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(G.prototype,"bottom_node",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(G.prototype,"block_arr",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(G.prototype,"new_plyer_action",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(G.prototype,"home_prefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=G))||N));s._RF.pop()}}}));

System.register("chunks:///_virtual/NewPlayerAction.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,r,o,s,a,c,l,f,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,a=t.Node,c=t.Tween,l=t.UITransform,f=t.tween,u=t.Component}],execute:function(){var p,h,g,d,v;o._RF.push({},"ed736X/SkxJvJpaTCC91wSR","NewPlayerAction",void 0);var y=s.ccclass,w=s.property;t("NewPlayerAction",(p=y("NewPlayerAction"),h=w(a),p((v=e((d=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,n(e,"finger",v,r(e)),e.targetPos=void 0,e}i(e,t);var o=e.prototype;return o.start=function(){this.targetPos=this.finger.worldPosition.clone(),this.finger.active=!1},o.update=function(t){},o.hide=function(){c.stopAllByTarget(this.finger),this.node.active=!1,this.finger.active=!1},o.show_finger=function(t){this.node.active=!0,this.finger.active=!0;var e=this.finger.getComponent(l).contentSize;return t.x+=.5*e.x,t.y-=.5*e.y,this.node.active=!0,c.stopAllByTarget(this.finger),this.node.setWorldPosition(t),f(this.finger).to(.8,{worldPosition:this.targetPos}).to(.8,{worldPosition:t}).union().repeatForever().start(),!0},e}(u)).prototype,"finger",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=d))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/NumberAction.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var t,e,i,n,o,u,l,s;return{setters:[function(r){t=r.applyDecoratedDescriptor,e=r.inheritsLoose,i=r.initializerDefineProperty,n=r.assertThisInitialized},function(r){o=r.cclegacy,u=r._decorator,l=r.tween,s=r.Label}],execute:function(){var a,c,b,h;o._RF.push({},"012e4HpGLpI9ryT1qpmBmLe","NumberAction",void 0);var m=u.ccclass,g=u.property;r("NumberAction",m("NumberAction")((b=t((c=function(r){function t(){for(var t,e=arguments.length,o=new Array(e),u=0;u<e;u++)o[u]=arguments[u];return t=r.call.apply(r,[this].concat(o))||this,i(t,"targetNumber",b,n(t)),i(t,"rollSpeed",h,n(t)),t._currentNumber=0,t._isRolling=!1,t}e(t,r);var o=t.prototype;return o.startRoll=function(){this._isRolling||(this._isRolling=!0,this._rollToTargetNumber())},o._rollToTargetNumber=function(){for(var r=this.targetNumber>this._currentNumber?1:-1,t=Math.ceil(Math.abs(this.targetNumber-this._currentNumber)/this.rollSpeed),e=0;e<t;e++)if(this._currentNumber+=r,this.string=this._currentNumber.toString(),this._currentNumber>=this.targetNumber){this._currentNumber=this.targetNumber,this.string=this.targetNumber.toString(),this._isRolling=!1;break}this._isRolling&&l(this).delay(.05).call(this._rollToTargetNumber.bind(this)).start()},t}(s)).prototype,"targetNumber",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=t(c.prototype,"rollSpeed",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),a=c))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/NumberTexture.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,n,o,c,u,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,u=e.RichText,a=e.Component}],execute:function(){var s,l,p,f,h;o._RF.push({},"2d887MD67BLOKBm3K4tAKa5","NumberTexture",void 0);var m=c.ccclass,x=c.property;e("NumberTexture",(s=m("NumberTexture"),l=x(u),s((h=t((f=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,i(t,"richText",h,n(t)),t}r(t,e);var o=t.prototype;return o.start=function(){},o.update=function(e){},o.setNum=function(e){for(var t=(e+"").split(""),r="",i=0;i<t.length;i++)r+='<img src="'+t[i]+'"/>';this.richText.string=r},t}(a)).prototype,"richText",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/Position.ts",["cc"],(function(){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"2d6ddj/LhZNn7DajTtw+3a2","Position",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceManger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enums.ts","./Global.ts","./ResourcePool.ts","./AudioManager.ts"],(function(n){var e,t,r,o,a,s,i,c,u;return{setters:[function(n){e=n.createClass,t=n.asyncToGenerator,r=n.regeneratorRuntime},function(n){o=n.cclegacy,a=n.assetManager},function(n){s=n.AssetType},function(n){i=n.Global},function(n){c=n.ResourcePool},function(n){u=n.AudioManager}],execute:function(){o._RF.push({},"37753Pvwx5Oc6PYZBSpgeAn","ResourceManger",void 0),n("default",function(){function n(){this.bundle_map={},this.clip_map={},this._atlasMap={},this._json_config={},this._uiMap={}}var o=n.prototype;return o.load_bundle=function(){var n=t(r().mark((function n(e,t){var o=this;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return void 0===t&&(t=0),n.abrupt("return",new Promise((function(n,r){a.loadBundle(e,(function(r,a){r?console.error(e+" --------------------------load errors>>>",r):(o.bundle_map[e]=a,i.loading_rate=i.loading_rate+t,n&&n())}))})));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),o.load_resource=function(){var n=t(r().mark((function n(e,t,o){var a,l=this;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return void 0===o&&(o=0),a=[],n.abrupt("return",new Promise((function(n,r){l.bundle_map[e].loadDir(t.path,t.type,(function(n,e){var t=o*n/e;a.push(t),1==a.length?i.loading_rate=i.loading_rate+t:i.loading_rate=i.loading_rate+(a[a.length-1]-a[a.length-2])}),(function(r,o){try{r?(console.error("load_resource error >>>",e+">>"+t.path," err>",r,"assets>",o),n&&n()):(null==o||o.forEach((function(n){switch(t){case s.Prefab:c.instance.set_prefab(n.data.name,n);break;case s.Sound:l.clip_map[n.name]=n,u.instance.add_clip(n.name,n);break;case s.Ui:l._uiMap[n.name]=n;break;case s.Atlas:l._atlasMap[n.name]||(l._atlasMap[n.name]=n);break;case s.Json:l._json_config[n.name]||(l._json_config[n.name]=n.json)}})),n&&n())}catch(n){console.log("catch:",e+">>"+t.path+"loaded error:",n)}}))})));case 3:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}(),o.get_clip=function(n){return this.clip_map[n]},o.get_ui=function(n){return this._uiMap[n]},o.get_data_type=function(n){console.log("get_json 2>>>",this._json_config),console.log("get_json 3>>>",this._json_config.config.types);var e=this._json_config.config.types;e.forEach((function(n){console.log("element.cells >>>",n.cells)})),console.log("types_arr[1]>>> ",e[1].cells)},o.get_data_type_length=function(){return this._json_config.config.types.length},o.get_data_type_cells=function(n){return this._json_config.config.types[n].cells},o.get_data_type_score=function(n){return this._json_config.config.types[n].score},o.get_max_score=function(){return this._json_config.config.perCopyMaxScore},o.get_println_config=function(){console.log("get_println_config"),console.log(this._json_config)},o.get_spriteframe=function(n){return this._atlasMap.comboNumber.getSpriteFrame(n)},o.setSpriteFromAtlas=function(){var n=t(r().mark((function n(e,t){var o=this;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,r){var a=o.get_spriteframe(e);t.spriteFrame=a,n(t)})));case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),o.setSpriteFromUI=function(){var n=t(r().mark((function n(e,t){var o=this;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,r){var a=o.get_ui(e);t.spriteFrame=a,n(t)})));case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),o.make_json_replace_config=function(){var n=t(r().mark((function n(){var e;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=JSON.parse(i.json_data),this._json_config.config=e;case 2:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),e(n,null,[{key:"instance",get:function(){return this.rm||(this.rm=new n),this.rm}}]),n}()).rm=null,o._RF.pop()}}}));

System.register("chunks:///_virtual/ResourcePool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tools.ts"],(function(e){var o,t,r,n,i;return{setters:[function(e){o=e.createClass},function(e){t=e.cclegacy,r=e._decorator,n=e.instantiate},function(e){i=e.Tools}],execute:function(){var s,a;t._RF.push({},"462ccl/oSpNGZml32AtZZ4v","ResourcePool",void 0);var c=r.ccclass;r.property,e("ResourcePool",c("ResourcePool")(((a=function(){function e(){this.prefab_pool={},this._poolRemoveNode=new Map,this._poolActive=new Map}var t=e.prototype;return t.set_prefab=function(e,o){this.prefab_pool[e]=o},t.get_prefab=function(e){return this.prefab_pool[e]},t.create_by_Pool=function(e,o,t,r){var n=this;return void 0===r&&(r=!0),new Promise((function(s,a){var c,p=n._poolRemoveNode.get(e),l=n._poolActive.get(e);l||(l=[],n._poolActive.set(e,l)),p&&p.length>0?(c=p.shift(),l.indexOf(c)<0&&i.insertArr(l,c),c.active=!0,c.setParent(t,r),c.setWorldPosition(o),s(c)):n.create_new_node(e,o,t,r).then((function(e){c=e,l.indexOf(c)<0&&i.insertArr(l,c),s(c)}))}))},t.create_new_node=function(e,o,t,r){var i=this;return void 0===r&&(r=!0),new Promise((function(s,a){var c=i.prefab_pool[e];if(c){var p=n(c);p?(p.setWorldPosition(o),p.setParent(t,r),p.name=e,s(p)):a("Failed to instantiate prefab.")}else a("Failed to load prefab data.")}))},t.remove_node=function(e){var o=e.name;e.active=!1,e.removeFromParent();var t=this._poolActive.get(o);if(t){var r=t.indexOf(e);r>-1&&t.splice(r,1)}var n=this._poolRemoveNode.get(o);n||(n=[],this._poolRemoveNode.set(o,n)),n.indexOf(e)<0&&i.insertArr(n,e)},o(e,null,[{key:"instance",get:function(){return this.rp||(this.rp=new e,this.rp._poolRemoveNode=new Map,this.rp._poolActive=new Map),this.rp}}]),e}()).rp=void 0,s=a))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/ScoreAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tools.ts","./ResourcePool.ts"],(function(e){var t,o,r,n,i,c,s,l,a,u,p,h,f,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,c=e._decorator,s=e.Label,l=e.Vec3,a=e.UIOpacity,u=e.Tween,p=e.tween,h=e.Component},function(e){f=e.Tools},function(e){b=e.ResourcePool}],execute:function(){var _,d,g,y,v,A,S;i._RF.push({},"126bfVRSCBBO6tlgYAj7gLZ","ScoreAction",void 0);var w=c.ccclass,T=c.property;e("ScoreAction",(_=w("ScoreAction"),d=T(s),g=T(s),_((A=t((v=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return t=e.call.apply(e,[this].concat(i))||this,r(t,"lb_score",A,n(t)),r(t,"add_lb_score",S,n(t)),t.targetScale=new l(1.2,1.2,1),t.targetPos=new l(0,300,1),t}o(t,e);var i=t.prototype;return i.start=function(){},i.update=function(e){},i.show_score=function(e,t){var o=this,r=this.node.getComponent(a);u.stopAllByTarget(r),f.setSpriteAlpha(r,1),this.lb_score.string=""+e,this.lb_score.color=t,this.add_lb_score.color=t;var n=this.lb_score.node.parent;u.stopAllByTarget(n),n.setScale(.1,.1),n.setPosition(0,0),p(n).to(.2,{scale:this.targetScale}).to(.1,{scale:l.ONE}).to(1,{position:this.targetPos}).union().call((function(){f.TweenAlphaAni(r,0,1).call((function(){o.removeThis()})).start()})).start()},i.removeThis=function(){b.instance.remove_node(this.node)},t}(h)).prototype,"lb_score",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(v.prototype,"add_lb_score",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=v))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/ScoreEffectsAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tools.ts","./AudioManager.ts","./ResourceManger.ts"],(function(t){var e,o,n,i,a,r,s,c,l,u,p,h,f,b,m,d,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Sprite,c=t.Node,l=t.Label,u=t.Vec3,p=t.Tween,h=t.UIOpacity,f=t.tween,b=t.Component},function(t){m=t.Tools},function(t){d=t.AudioManager},function(t){y=t.default}],execute:function(){var g,A,v,w,F,_,C,S,T;a._RF.push({},"5f5abvjH5NCtJERNFl5mfGI","ScoreEffectsAction",void 0);var E=r.ccclass,k=r.property;t("ScoreEffectsAction",(g=E("ScoreEffectsAction"),A=k(s),v=k(c),w=k(l),g((C=e((_=function(t){function e(){for(var e,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"hitFont",C,i(e)),n(e,"comboContainer",S,i(e)),n(e,"combo_label_number",T,i(e)),e.fromPos1=new u(0,700,0),e}o(e,t);var a=e.prototype;return a.start=function(){this.node.active=!1},a.update=function(t){},a.showCombo=function(t){this.node.active=!0;var e=6;if(t>1){switch(t){case 2:case 3:e=1;break;case 4:case 5:e=2;break;case 6:case 7:e=3;break;case 8:case 9:e=4;break;case 10:case 11:e=5;break;default:e=6}t>3&&d.instance.play_shot(e-1+""),this.hitFont.node.active=!0,y.instance.setSpriteFromUI("score_ef_"+e,this.hitFont),p.stopAllByTarget(this.hitFont.node);var o=this.hitFont.node.getComponent(h);p.stopAllByTarget(o),this.hitFont.node.setPosition(this.fromPos1),m.setSpriteAlpha(o,1),f(this.hitFont.node).to(.1,{position:new u(0,409,0)}).to(.2,{scale:new u(1.5,1.5)}).to(.1,{scale:u.ONE}).delay(1).union().call((function(){m.TweenAlphaAni(o,0,1).start()})).start()}else this.hitFont.node.active=!1;var n=this.comboContainer.getComponent(h);p.stopAllByTarget(this.comboContainer),p.stopAllByTarget(n),this.combo_label_number.string=t+"",m.setSpriteAlpha(n,1),this.comboContainer.setScale(new u(.1,.1,.1)),f(this.comboContainer).to(.2,{scale:new u(1.5,1.5)}).to(.1,{scale:u.ONE}).delay(.5).union().call((function(){m.TweenAlphaAni(n,0,1).start()})).start()},e}(b)).prototype,"hitFont",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(_.prototype,"comboContainer",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(_.prototype,"combo_label_number",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=_))||F));a._RF.pop()}}}));

System.register("chunks:///_virtual/ScoreLayerAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NumberAction.ts","./Global.ts","./ResourceManger.ts","./Tools.ts","./EventsManager.ts","./ScoreEffectsAction.ts","./ResourcePool.ts","./ScoreAction.ts","./Enums.ts","./XStorage.ts"],(function(e){var o,r,t,n,c,s,i,_,a,l,u,f,p,b,h,y,g,d,v;return{setters:[function(e){o=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){c=e.cclegacy,s=e._decorator,i=e.Label,_=e.Sprite,a=e.Component},function(e){l=e.NumberAction},function(e){u=e.Global},function(e){f=e.default},function(e){p=e.Tools},function(e){b=e.EventsManager},function(e){h=e.ScoreEffectsAction},function(e){y=e.ResourcePool},function(e){g=e.ScoreAction},function(e){d=e.EventTyps},function(e){v=e.XStorage}],execute:function(){var S,w,m,E,L,R,A,x,O,C,P,z,F;c._RF.push({},"ff005NFkExOE7qcE6iwI1ox","ScoreLayerAction",void 0);var I=s.ccclass,T=s.property;e("ScoreLayerAction",(S=I("ScoreLayerAction"),w=T(l),m=T(i),E=T(i),L=T(h),R=T(_),S((O=o((x=function(e){function o(){for(var o,r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return o=e.call.apply(e,[this].concat(c))||this,t(o,"cur_score",O,n(o)),t(o,"next_lvl_score",C,n(o)),t(o,"p_lvl_score",P,n(o)),t(o,"score_effects_action",z,n(o)),t(o,"progress_bar",F,n(o)),o}r(o,e);var c=o.prototype;return c.onLoad=function(){b.Ins.addListener(d.ROLL_UPDATE_SCORE,this.roll_update_score,this),b.Ins.addListener(d.SHOW_SCORE_EFFECTS,this.show_score_effects,this),b.Ins.addListener(d.SHOW_FLY_SCORE_by_index,this.show_fly_score_by_index,this),b.Ins.addListener(d.SHOW_FLY_SCORE_by_score,this.show_fly_score_by_score,this)},c.start=function(){},c.update=function(e){},c.roll_update_score=function(){var e=v.get_cur_score();this.cur_score.targetNumber=e,this.cur_score.startRoll();var o=f.instance.get_max_score();this.progress_bar.fillRange=e%o/o;var r=(v.get_cur_lvl()+1)*o;this.next_lvl_score.string=p.getNumberShow(r),this.p_lvl_score.string=p.getNumberShow(r-o)},c.show_fly_score_by_index=function(e,o){var r=f.instance.get_data_type_score(e);this.show_fly_score_by_score(r,o)},c.show_fly_score_by_score=function(e,o){y.instance.create_by_Pool("Score",u.ui_layer_action.node.worldPosition,u.ui_layer_action.node).then((function(r){var t;null==(t=r.getComponent(g))||t.show_score(e,p.colors[o[0]]),v.record_score(v.get_cur_score()+e),b.Ins.dispatch(d.ROLL_UPDATE_SCORE);var n=v.get_cur_score(),c=f.instance.get_max_score();v.record_best_score(),n>=c&&(v.record_score(0),v.next_level(),u.ui_layer_action.show_win("Win"))}))},c.show_score_effects=function(){u.combo>0&&this.score_effects_action.showCombo(u.combo)},o}(a)).prototype,"cur_score",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=o(x.prototype,"next_lvl_score",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=o(x.prototype,"p_lvl_score",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=o(x.prototype,"score_effects_action",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=o(x.prototype,"progress_bar",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=x))||A));c._RF.pop()}}}));

System.register("chunks:///_virtual/SettingAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseWindows.ts","./AudioManager.ts","./Global.ts","./XStorage.ts","./EventsManager.ts","./Enums.ts"],(function(n){var t,e,o,r,s,i,c,a,u,p,l,f,_,d,h,w;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,o=n.initializerDefineProperty,r=n.assertThisInitialized,s=n.asyncToGenerator,i=n.regeneratorRuntime},function(n){c=n.cclegacy,a=n._decorator,u=n.Node},function(n){p=n.BaseWindows},function(n){l=n.AudioManager},function(n){f=n.Global},function(n){_=n.XStorage},function(n){d=n.EventsManager},function(n){h=n.GAME_STATE,w=n.EventTyps}],execute:function(){var v,y,g,A,b;c._RF.push({},"33964So0K9P5Jy0cQtk9Smt","SettingAction",void 0);var S=a.ccclass,m=a.property;n("SettingAction",(v=S("SettingAction"),y=m(u),v((b=t((A=function(n){function t(){for(var t,e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];return t=n.call.apply(n,[this].concat(s))||this,o(t,"sound_x",b,r(t)),t}e(t,n);var c=t.prototype;return c.start=function(){},c.update=function(n){},c.show_windows=function(){n.prototype.show_windows.call(this),this.sound_x.active=!f.open_sound},c.on_btn_sound=function(){f.open_sound=!f.open_sound,this.sound_x.active=!f.open_sound},c.close_windows=function(){var t=s(i().mark((function t(e){var o=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){console.log("close_windows>>>>>>>>>>>>>"),n.prototype.close_windows.call(o,e),t(null)})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),c.on_btn_continue=function(){var n=s(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l.instance.play_shot("btn_1"),n.next=3,this.close_windows(h.START);case 3:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),c.on_btn_refrush_game=function(){var n=s(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l.instance.play_shot("btn_1"),n.next=3,this.close_windows(h.READY);case 3:_.record_cur_lvl(0),_.record_score(0),d.Ins.dispatch(w.RESTART_GAME);case 6:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),t}(p)).prototype,"sound_x",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=A))||g));c._RF.pop()}}}));

System.register("chunks:///_virtual/SiderAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BytePlantform.ts","./Global.ts","./XStorage.ts","./TipsManagerAction.ts","./TipsAction.ts","./EventsManager.ts","./Enums.ts","./BaseWindows.ts"],(function(t){var n,i,e,o,s,r,a,c,l,_,d,g,f,u,h,p,b;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,a=t.Label,c=t.Widget},function(t){l=t.BytePlantform},function(t){_=t.Global},function(t){d=t.XStorage},function(t){g=t.TipsManagerAction},function(t){f=t.TIPS_TYPE},function(t){u=t.EventsManager},function(t){h=t.EventTyps,p=t.GAME_STATE},function(t){b=t.BaseWindows}],execute:function(){var w,y,v,m,A,S,T;s._RF.push({},"e33af2MqUpB0oZ1YgRI0scp","SiderAction",void 0);var I=r.ccclass,E=r.property;t("SiderPageAction",(w=I("SiderAction"),y=E({type:a}),v=E({type:a}),w((S=n((A=function(t){function n(){for(var n,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return n=t.call.apply(t,[this].concat(s))||this,e(n,"btn_label",S,o(n)),e(n,"gift_coins_label",T,o(n)),n}i(n,t);var s=n.prototype;return s.onLoad=function(){this.node.active=!1,u.Ins.addListener(h.DOUYIN_SILDER_show_refrush_data,this.refrush_data,this)},s.start=function(){},s.update=function(t){},s.show_windows=function(n){t.prototype.show_windows.call(this),this.node.active=!0,this.node.setPosition(0,0),this.node.getComponent(c)&&(this.node.getComponent(c).right=0,this.node.getComponent(c).left=0,this.node.getComponent(c).top=0,this.node.getComponent(c).bottom=0),this.refrush_data()},s.close_windows=function(n){t.prototype.close_windows.call(this,n)},s.refrush_data=function(){console.log("刷新 refrush_data   event"),this.gift_coins_label.string="+"+_.gift_coins,0==d.get_gift()?this.btn_label.string="跳转侧边栏":1==d.get_gift()?this.btn_label.string="领取奖励":this.btn_label.string="跳转侧边栏"},s.btn_run=function(){console.log("btn_run"),0==d.get_gift()?this.add_siderbar():1==d.get_gift()?this.get_gift():this.add_siderbar()},s.get_gift=function(){g.show("获取奖励"+_.gift_coins,f.OK),d.record_gift(2),d.record_coins(d.get_cur_coins()+_.gift_coins),u.Ins.dispatch(h.UPDATE_COIN),u.Ins.dispatch(h.DOUYIN_SILDER_show_gift_btn),this.close_windows(p.START)},s.add_siderbar=function(){console.log("开始添加 add_siderbar"),l.ins.navigate_to_douyin((function(t){t?console.log("add_siderbar 添加侧边栏跳转成功"):console.log("add_siderbar 跳转失败")}))},n}(b)).prototype,"btn_label",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=n(A.prototype,"gift_coins_label",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=A))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/SilderManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BytePlantform.ts","./Global.ts","./XStorage.ts","./EventsManager.ts","./Enums.ts"],(function(n){var e,t,o,i,s,c,r,a,l,_,u,f,d;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){s=n.cclegacy,c=n._decorator,r=n.Node,a=n.Component},function(n){l=n.BytePlantform},function(n){_=n.Global},function(n){u=n.XStorage},function(n){f=n.EventsManager},function(n){d=n.EventTyps}],execute:function(){var g,h,p,b,y;s._RF.push({},"c0711A/xmJLdpcQpQldQO14","SilderManager",void 0);var v=c.ccclass,S=c.property;n("SilderManager",(g=v("SilderManager"),h=S({type:r}),g((y=e((b=function(n){function e(){for(var e,t=arguments.length,s=new Array(t),c=0;c<t;c++)s[c]=arguments[c];return e=n.call.apply(n,[this].concat(s))||this,o(e,"btn_sider",y,i(e)),e}t(e,n);var s=e.prototype;return s.onLoad=function(){f.Ins.addListener(d.DOUYIN_SILDER_show_gift_btn,this.show_gift_btn,this)},s.start=function(){this.check_douyin()},s.update=function(n){},s.btn_checkSideBar=function(){console.log("开始检查 检查侧边栏"),l.ins.check_side_bar((function(n){n?console.log("checkSideBar 检查侧边栏 success"):console.log("checkSideBar 跳转失败 fail")}))},s.open_side_page=function(){_.ui_layer_action.show_win("Slider")},s.check_douyin=function(){this.show_gift_btn();var n=this;l.ins.check_side_bar((function(e){e?(console.log("check_douyin 检查侧边栏 success,可以使用侧边栏"),n.listenFromDouyi()):console.log("check_douyin 跳转失败 fail,结束判断")}))},s.show_gift_btn=function(){console.log("刷新 奖励按钮      event"),this.btn_sider.active=!1;var n=this;2==u.get_gift()?(this.btn_sider.active=!1,console.log("show_gift_btn 领取过奖励 不显示 ")):l.ins.check_side_bar((function(e){e?(console.log("show_gift_btn 检查侧边栏 success显示 "),n.btn_sider.active=!0):(console.log("show_gift_btn 检查侧边栏  fail "),n.btn_sider.active=!1)}))},s.listenFromDouyi=function(){2!=u.get_gift()?l.ins.listen_douyin((function(n){n?(console.log("main 从侧边栏调过来，可以奖励用户了！"),u.get_gift()<1&&(u.record_gift(1),console.log("add_siderbar 添加侧边栏跳转成功,记录数据 1"),f.Ins.dispatch(d.DOUYIN_SILDER_show_refrush_data))):console.log("main 不是从侧边栏调过来")})):console.log("check_douyin2 侧边栏奖励领取过，直接返回")},e}(a)).prototype,"btn_sider",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b))||p));s._RF.pop()}}}));

System.register("chunks:///_virtual/TargetAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./AudioManager.ts","./Tools.ts","./ResourcePool.ts","./EventsManager.ts","./Enums.ts","./XStorage.ts","./AreaData.ts"],(function(t){var e,o,n,i,s,r,c,a,l,h,_,u,f,b,p,d,g,v,E,m,y,w,C,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized,s=t.createForOfIteratorHelperLoose,r=t.asyncToGenerator,c=t.regeneratorRuntime},function(t){a=t.cclegacy,l=t._decorator,h=t.Label,_=t.UITransform,u=t.Tween,f=t.tween,b=t.Vec3,p=t.Input,d=t.Component},function(t){g=t.Global},function(t){v=t.AudioManager},function(t){E=t.Tools},function(t){m=t.ResourcePool},function(t){y=t.EventsManager},function(t){w=t.EventTyps},function(t){C=t.XStorage},function(t){T=t.AreaData}],execute:function(){var A,I,O,P,k;a._RF.push({},"d30d93d1JJCEIEMI/tS3Gg8","TargetAction",void 0);var z=l.ccclass,L=l.property;t("TargetAction",(A=z("TargetAction"),I=L(h),A((k=e((P=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,n(e,"coin_label",k,i(e)),e.bombEffect=void 0,e.sizeCheckBomb=void 0,e.color=-1,e.resultArrs=[],e}o(e,t);var a=e.prototype;return a.start=function(){this.coin_label.string="X"+g.target_coins_tools},a.update=function(t){},a.on_click_target=function(){var t=this,e=g.ui_layer_action.node;this.bombEffect?console.log("场景中有炸弹，不重新生成"):m.instance.create_by_Pool("Target",this.node.worldPosition,e).then((function(o){t.bombEffect=o,t.sizeCheckBomb||(t.sizeCheckBomb=E.createRect(o));var n=e.getComponent(_).convertToNodeSpaceAR(e.worldPosition);u.stopAllByTarget(t.bombEffect),f(t.bombEffect).to(.1,{scale:new b(.55,.55,1)}).to(.3,{position:n},{easing:"quadInOut"}).call((function(){t.get_select_color()})).start(),t.target_show()}))},a.target_show=function(){var t=g.ui_layer_action.node;t.on(p.EventType.TOUCH_MOVE,this.touch_move,this),t.on(p.EventType.TOUCH_END,this.touch_end,this),t.on(p.EventType.TOUCH_CANCEL,this.touch_end,this),this.bombEffect.active=!0},a.touch_move=function(t){this.update_pos(t.getUIDelta().x,t.getUIDelta().y),this.get_select_color()},a.update_pos=function(t,e){E.createRect(this.bombEffect,this.sizeCheckBomb);var o=this.bombEffect.getWorldPosition(),n=t+o.x,i=e+o.y,s=T.getIns().get_rect();if(s){var r=s.x+.5*this.sizeCheckBomb.width,c=s.x+s.width-.5*this.sizeCheckBomb.width,a=s.y+s.height-.5*this.sizeCheckBomb.height-2*g.CELL_SIZE;n<r&&(n=r),n>c&&(n=c),i>a&&(i=a),this.bombEffect.setWorldPosition(n,i,0)}},a.touch_end=function(t){E.createRect(this.bombEffect,this.sizeCheckBomb),this.sizeCheckBomb.intersects(T.getIns().get_rect())?(this.stop_all_cell_tween(),this.get_select_color(),this.drop(),this.reset()):this.reset()},a.reset=function(){this.bombEffect.active=!1;var t=g.ui_layer_action.node;t.off(p.EventType.TOUCH_MOVE,this.touch_move,this),t.off(p.EventType.TOUCH_END,this.touch_end,this),t.off(p.EventType.TOUCH_CANCEL,this.touch_end,this),m.instance.remove_node(this.bombEffect),this.bombEffect=null,this.color=-1,this.stop_all_cell_tween()},a.get_select_color=function(){var t=r(c().mark((function t(){var e=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,o){e.color=-1;for(var n,i=e.bombEffect.worldPosition,r=T.getIns().get_area_cells(),c=s(r);!(n=c()).done;){var a=n.value;a&&a.forEach((function(t){t&&b.distance(t.node.worldPosition,i)<=5&&t.color>-1&&(e.color=t.color)}))}e.find_cell_by_color()})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a.find_cell_by_color=function(){var t=this,e=T.getIns().get_area_cells();this.resultArrs=[];for(var o,n=s(e);!(o=n()).done;){var i=o.value;i&&i.forEach((function(e){e&&t.color==e.color&&t.resultArrs.push(e)}))}this.stop_all_cell_tween(),this.show_all_cell_tween()},a.show_all_cell_tween=function(){this.resultArrs.forEach((function(t){t.show_flash_tween()}))},a.stop_all_cell_tween=function(){for(var t,e=T.getIns().get_area_cells(),o=s(e);!(t=o()).done;){var n=t.value;n&&n.forEach((function(t){t&&t.close_flash_tween()}))}},a.drop=function(){if(0!=this.resultArrs.length){var t=C.get_cur_coins()-g.target_coins_tools;if(t<0)return console.log("使用道具，不够钱"),void g.ui_layer_action.show_win("VideoTips");C.record_coins(t),y.Ins.dispatch(w.UPDATE_COIN);var e=this.resultArrs;v.instance.play_shot("bomb"),g.combo++,y.Ins.dispatch(w.SHOW_FLY_SCORE_by_score,e.length,[0]),y.Ins.dispatch(w.SHOW_SCORE_EFFECTS),y.Ins.dispatch(w.CLEAR_CELLS,e)}},e}(d)).prototype,"coin_label",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=P))||O));a._RF.pop()}}}));

System.register("chunks:///_virtual/TempData.ts",["cc"],(function(t){var i,o;return{setters:[function(t){i=t.cclegacy,o=t._decorator}],execute:function(){i._RF.push({},"9033bGQL4VHob82iZnWfACK","TempData",void 0);o.ccclass,o.property,t("TempDataCell",(function(t,i,o,s){this.x=void 0,this.y=void 0,this.color=void 0,this.dark=void 0,this.x=t,this.y=i,this.color=o,this.dark=s})),t("TempDataBlock",(function(t,i,o){this.index=void 0,this.block_type=void 0,this.colors=void 0,this.index=t,this.block_type=i,this.colors=o}));i._RF.pop()}}}));

System.register("chunks:///_virtual/TipsAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourcePool.ts"],(function(e){var t,n,o,i,r,a,l,s,c,u,p,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Label,s=e.Node,c=e.tween,u=e.Vec3,p=e.Component},function(e){d=e.ResourcePool}],execute:function(){var f,_,h,v,b,w,y,g,A;r._RF.push({},"3081a/zSTFKJ6GapiA9tKou","TipsAction",void 0);var O=a.ccclass,k=a.property,T=e("TIPS_TYPE",function(e){return e[e.COMMON=0]="COMMON",e[e.OK=1]="OK",e[e.WARN=2]="WARN",e}({}));e("TipsAction",(f=O("TipsAction"),_=k({type:l}),h=k({type:s}),v=k({type:s}),f((y=t((w=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"level_label",y,i(t)),o(t,"ok_node",g,i(t)),o(t,"warn_node",A,i(t)),t}n(t,e);var r=t.prototype;return r.start=function(){},r.set_default=function(){this.node.setPosition(0,-250),this.node.active=!0},r.update=function(e){},r.show=function(e,t){switch(this.ok_node&&(this.ok_node.active=!1),this.warn_node&&(this.warn_node.active=!1),t){case T.OK:this.ok_node&&(this.ok_node.active=!0);break;case T.WARN:this.warn_node&&(this.warn_node.active=!0)}var n=this;n.level_label.string=e,n.set_default(),c(n.node).to(.35,{position:new u(0,0,0)},{easing:"quadInOut"}).delay(1).to(.1,{position:new u(0,200,0)},{easing:"quadInOut"}).call((function(){d.instance.remove_node(n.node)})).start()},t}(p)).prototype,"level_label",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(w.prototype,"ok_node",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(w.prototype,"warn_node",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=w))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/TipsManagerAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourcePool.ts","./TipsAction.ts"],(function(n){var o,t,e,i,c,s,r;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy,e=n._decorator,i=n.director,c=n.Component},function(n){s=n.ResourcePool},function(n){r=n.TipsAction}],execute:function(){var a,u;t._RF.push({},"ccd52KcLDZLvLkBjdwnMVMI","TipsManagerAction",void 0);var p=e.ccclass;e.property,n("TipsManagerAction",p("TipsManagerAction")(((u=function(n){function t(){return n.apply(this,arguments)||this}o(t,n);var e=t.prototype;return e.onLoad=function(){t.instance=this,i.addPersistRootNode(this.node)},e.update=function(n){},t.show=function(n,o){var e=t.instance.node;s.instance.create_by_Pool("Tips",e.worldPosition,e).then((function(t){var e=t.getComponent(r);e&&e.show(n,o)}))},t}(c)).instance=null,a=u))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/Tools.ts",["cc","./Global.ts"],(function(n){var r,e,t,o,i,a,c;return{setters:[function(n){r=n.cclegacy,e=n._decorator,t=n.Color,o=n.UITransform,i=n.Rect,a=n.tween},function(n){c=n.Global}],execute:function(){var u,l;r._RF.push({},"290f8GfYCZGHYteG22XHMLx","Tools",void 0);var h=e.ccclass;e.property,n("Tools",h("Tools")(((l=function(){function n(){}return n.createRect=function(n,r){var e=n.getComponent(o);if(e){var t=n.worldPosition;return r?(r.x=t.x-e.width*e.anchorX,r.y=t.y-e.height*e.anchorY,r.width=e.width,r.height=e.height,r):new i(t.x-e.width*e.anchorX,t.y-e.height*e.anchorY,e.width,e.height)}return null},n.setSpriteAlpha=function(n,r){n&&(n.opacity=255*r)},n.insertArr=function(n,r){n||(n=[]),n[n.length]=r},n.createNullMatrix=function(n,r){return Array(n).fill(null).map((function(){return Array(r).fill(null)}))},n.getRowsByArr=function(r,e){if(r&&r.length>0){for(var t=r.length,o=[],i=0;i<t;i++)n.insertArr(o,r[i][e]);return o}return null},n.findSameColorFromAround=function(n,r){for(var e=c.GRID_WIDTH_NUM,t=c.GRID_HEIGHT_NUM,o=this.directions,i=o.length,a=[],u=0;u<i;u++){var l=o[u],h=this.addDir(n,l);if(!(h[0]<0||h[0]>=e||h[1]<0||h[1]>=t)){var f=r[h[1]][h[0]];f&&a.push(f)}}return a},n.addDir=function(n,r){return[n[0]+r[0],n[1]+r[1]]},n.TweenAlphaAni=function(n,r,e){if(n)return a(n).to(e,{opacity:255*r})},n.getNumberShow=function(n){if(0===n)return"0";for(var r=["","K","M","B","T","Q"],e=0,t=Math.abs(n);t>=1e3&&e<r.length-1;)t/=1e3,e++;var o=t.toFixed(2).replace(/\.?0+$/,"");return o.endsWith(".")&&(o=o.replace(".","")),(n<0?"-":"")+o+r[e]},n.random_between_floor=function(n,r){var e=Math.random()*(r-n)+n;return Math.floor(e)},n}()).WHIET_COLOR=t.WHITE,l.colors=[new t(255,21,21),new t(64,255,39),new t(41,99,255),new t(232,255,55),new t(102,17,211),new t(223,114,29),new t(62,228,228),new t(206,206,206),new t(209,124,196),new t(5,160,160)],l.colors_dark=[new t(180,10,10),new t(60,225,38),new t(38,90,225),new t(212,225,60),new t(82,12,172),new t(193,102,31),new t(53,188,188),new t(176,176,176),new t(184,90,168),new t(37,124,124)],l.directions=[[-1,-1],[0,-1],[1,-1],[-1,0],[1,0],[-1,1],[0,1],[1,1]],u=l))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/UILayerAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./ResourcePool.ts","./BaseWindows.ts","./AudioManager.ts"],(function(n){var o,t,e,i,c,s,r,a,u;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy,e=n._decorator,i=n.Vec3,c=n.Component},function(n){s=n.Global},function(n){r=n.ResourcePool},function(n){a=n.BaseWindows},function(n){u=n.AudioManager}],execute:function(){var l;t._RF.push({},"4acd7xASdFPVIxh7/yCWqcP","UILayerAction",void 0);var d=e.ccclass;e.property,n("UILayerAction",d("UILayerAction")(l=function(n){function t(){for(var o,t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return(o=n.call.apply(n,[this].concat(e))||this).windows=void 0,o}o(t,n);var e=t.prototype;return e.onLoad=function(){s.ui_layer_action=this,this.windows=new Map},e.start=function(){},e.update=function(n){},e.show_win=function(n,o){var t=this;void 0===o&&(o=null),u.instance.play_shot("btn_1");var e=this.windows.get(n);if(e)return e.show_windows(o),e;r.instance.create_by_Pool(n,i.ZERO,this.node).then((function(e){var i=e.getComponent(a);return t.windows.set(n,i),i.show_windows(o),i})).catch((function(n){console.log(n)}))},t}(c))||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/VideoTipsAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseWindows.ts","./AudioManager.ts","./XStorage.ts","./EventsManager.ts","./Enums.ts","./AdManger.ts","./Global.ts","./TipsManagerAction.ts","./TipsAction.ts"],(function(n){var t,i,o,c,s,e,a,l,r,u,_,p,d,w,f,h,b;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,o=n.initializerDefineProperty,c=n.assertThisInitialized},function(n){s=n.cclegacy,e=n._decorator,a=n.Label},function(n){l=n.BaseWindows},function(n){r=n.AudioManager},function(n){u=n.XStorage},function(n){_=n.EventsManager},function(n){p=n.GAME_STATE,d=n.EventTyps},function(n){w=n.AdManger},function(n){f=n.Global},function(n){h=n.TipsManagerAction},function(n){b=n.TIPS_TYPE}],execute:function(){var g,T,A,v,y;s._RF.push({},"e130ae7wQhOtLjZZDOCtEoV","VideoTipsAction",void 0);var k=e.ccclass,M=e.property;n("VideoTipsAction",(g=k("VideoTipsAction"),T=M(a),g((y=t((v=function(n){function t(){for(var t,i=arguments.length,s=new Array(i),e=0;e<i;e++)s[e]=arguments[e];return t=n.call.apply(n,[this].concat(s))||this,o(t,"msg_label",y,c(t)),t.call_back=void 0,t}i(t,n);var s=t.prototype;return s.start=function(){this.msg_label.string="免费领取"+f.watch_video_coins+"宝石"},s.update=function(n){},s.show_windows=function(t){void 0===t&&(t=null),n.prototype.show_windows.call(this),this.call_back=t},s.close_windows=function(t){n.prototype.close_windows.call(this,t)},s.on_click_btn_continue=function(){r.instance.play_shot("btn_1"),this.close_windows(p.START);var n=this;n.call_back&&(n.call_back(),n.call_back=null)},s.on_click_btn_video=function(){r.instance.play_shot("btn_1");var n=this;w.show_video((function(t){1==t?(h.show("获取奖励成功",b.OK),u.record_coins(u.get_cur_coins()+f.watch_video_coins),_.Ins.dispatch(d.UPDATE_COIN),n.close_windows(p.START)):(h.show("获取奖励失败",b.WARN),n.close_windows(p.START)),n.call_back&&(n.call_back(),n.call_back=null)}))},t}(l)).prototype,"msg_label",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=v))||A));s._RF.pop()}}}));

System.register("chunks:///_virtual/WinAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ColorAction.ts","./AudioManager.ts","./BaseWindows.ts","./XStorage.ts","./EventsManager.ts","./Enums.ts","./Global.ts","./AdManger.ts","./TipsManagerAction.ts","./TipsAction.ts"],(function(n){var t,i,o,s,e,c,a,r,l,_,u,p,d,h,f,w,A,T,b;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,o=n.initializerDefineProperty,s=n.assertThisInitialized},function(n){e=n.cclegacy,c=n._decorator,a=n.Label,r=n.ParticleSystem2D},function(n){l=n.ColorAction},function(n){_=n.AudioManager},function(n){u=n.BaseWindows},function(n){p=n.XStorage},function(n){d=n.EventsManager},function(n){h=n.GAME_STATE,f=n.EventTyps},function(n){w=n.Global},function(n){A=n.AdManger},function(n){T=n.TipsManagerAction},function(n){b=n.TIPS_TYPE}],execute:function(){var g,y,m,E,S,v,M,P,W;e._RF.push({},"548d50Pd5hDBpCrI6S9NiGD","WinAction",void 0);var R=c.ccclass,I=c.property;n("WinAction",(g=R("WinAction"),y=I(a),m=I(l),E=I(r),g((M=t((v=function(n){function t(){for(var t,i=arguments.length,e=new Array(i),c=0;c<i;c++)e[c]=arguments[c];return t=n.call.apply(n,[this].concat(e))||this,o(t,"coin_label",M,s(t)),o(t,"color_action",P,s(t)),o(t,"particle",W,s(t)),t.random_coins=0,t.random_ret=0,t}i(t,n);var e=t.prototype;return e.start=function(){this.color_action&&this.color_action.init_data(this)},e.update=function(n){},e.update_progress=function(n){this.random_coins=w.win_coins*n,this.coin_label&&(this.coin_label.string=this.random_coins+"")},e.show_windows=function(){n.prototype.show_windows.call(this),_.instance.play_shot("upgrade"),this.particle.resetSystem(),this.coin_label.string=w.win_coins+""},e.close_windows=function(t){n.prototype.close_windows.call(this,t)},e.on_click_btn_continue=function(){_.instance.play_shot("btn_1"),this.close_windows(h.START),d.Ins.dispatch(f.PLAY_START_TWEEN)},e.on_click_btn_award=function(){var n=this;_.instance.play_shot("btn_1"),this.random_ret=this.random_coins;var t=this;A.show_video((function(i){1==i?(T.show("获取奖励成功",b.OK),p.record_coins(p.get_cur_coins()+n.random_ret),d.Ins.dispatch(f.UPDATE_COIN),n.close_windows(h.START),d.Ins.dispatch(f.PLAY_START_TWEEN)):(T.show("获取奖励失败",b.WARN),t.close_windows(h.START),d.Ins.dispatch(f.PLAY_START_TWEEN))}))},t}(u)).prototype,"coin_label",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(v.prototype,"color_action",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(v.prototype,"particle",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=v))||S));e._RF.pop()}}}));

System.register("chunks:///_virtual/WxPlatform.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./Global.ts","./Tools.ts"],(function(t){var o,i,c,e,n,s;return{setters:[function(t){o=t.createClass},function(t){i=t.cclegacy,c=t._decorator},function(t){e=t.WECHAT},function(t){n=t.Global},function(t){s=t.Tools}],execute:function(){var a,r;i._RF.push({},"e541cHdFYVM77FPTjJ9gayc","WxPlatform",void 0);var l=c.ccclass;c.property,t("WxPlatform",l("WxPlatform")(((r=function(){function t(){this.wx=window.wx,this.pic=[{id:"84l4VgDeQZ+R2QqpibSNYg==",url:"https://mmocgame.qpic.cn/wechatgame/ibbKY7Jv7ASqsSMBJA5KAYPQCrovmBCx5MyffGbiaAJQfDDSyoTKaZ8YhOMkqVLsju/0"},{id:"LhmP8rziRiew8PBc/lVJHg==",url:"https://mmocgame.qpic.cn/wechatgame/ibotg8KzdzXQIk1E3CZFqly1fkuT0LORZ0YACKMwiblytuj9Aj1a3pvzspOib2ciaHwZ/0"},{id:"eVHb33MsTOmvwkcFlaJc2Q==",url:"https://mmocgame.qpic.cn/wechatgame/VTGJ9sV7zbYzmMQumA2DvQHQmXs5sI750ZpEyU2Q3SKaPUneSfDGcVGyFXBCICn2/0"},{id:"aD9k2tmXRGyke+5sr+fzww==",url:"https://mmocgame.qpic.cn/wechatgame/vnZykRa9B0g18aIpbIDLXNCic1BvpPuJEIjc0Xjf5SwcGpxV0BcmPcWk4vRDjY5fP/0"},{id:"RNk8TJtgQJ+H6tylz8/6pw==",url:"https://mmocgame.qpic.cn/wechatgame/sESCWcr5Zlmu23YQWYQialPHG8dxLF7Tl4Hv7U0Lrs3wZnGkSrcEV3cpiauW4bibGyJ/0"},{id:"p1z1WUNNQN+oxq8nAQnW6w==",url:"https://mmocgame.qpic.cn/wechatgame/WicPqJpD3POQPHJbrEw6Kj9DpaFE3NGR12pR2kRoRdLdfJ1Bfibh9Mib2xMHicodVoTO/0"},{id:"l5Mu+ThoS0SU8tX980bOBg==",url:"https://mmocgame.qpic.cn/wechatgame/EEGZff8O4XHI5yvKibDK0xxvpcnQrrD3V3d3ljGia83ibLWfL2f1Za3xibicaq8RlsVeE/0"},{id:"/A+pksBIQLeRKsONIrzRYA==",url:"https://mmocgame.qpic.cn/wechatgame/a9b7WszNHJw8XibMu0BNfmuWWu2ar7yRutX4xpMic61DibKGYcHiczBJB4gAqiaQFVXvl/0"},{id:"eIKI6dB1ShuaWC29mjCc9g==",url:"https://mmocgame.qpic.cn/wechatgame/KFDCxibxcuJCqONcJmibzxKjHX18oib97hicJyjAvUBHMzLlzAwRjqibrW8QLnUFNSzCQ/0"},{id:"hG8PxOhmSPiiLtulY9zkHQ==",url:"https://mmocgame.qpic.cn/wechatgame/GwSdgKwvXxjxegwNUKejbR3I56DeIIqTmaCjsStUehknbCX0MFicCGePOvt5M2Oicib/0"},{id:"KP02lv/qSyOXOoCPh1I9gA==",url:"https://mmocgame.qpic.cn/wechatgame/9U34X6oRIQwwpyN760QAjljNZGs1WJQfrULfNnpK0fOmtm6hbv5KveV2xtp5xic8v/0"},{id:"qMWrC2W9Sr6aizsnTmMQVw==",url:"https://mmocgame.qpic.cn/wechatgame/x9tzjOhpWf78DrsnWpmv9hdpBr5LxicmZl71iaayD2nUvHOlsYMMvAXicwEL6ZuIneD/0"},{id:"++uQ5z6eQti7P4EUTNNPkg==",url:"https://mmocgame.qpic.cn/wechatgame/9aa5bdbJNB9eYrAmkOmFeqfOicjFQOYWRjLPI1ibjpMUjpJBpAZIMJY4ia4bOjFI5BL/0"},{id:"9AXEiRpSQ6ysrQjlekK12g==",url:"https://mmocgame.qpic.cn/wechatgame/WXIOCKvd6fZhTQicBcjm7jFhchPDhovFXHShWcXMKjdgibQlp2Md5gVVPNhdHFv3pF/0"}],this.avatar=void 0,this.name_Label=void 0,this.systemInfo=void 0,this.screenWidth=void 0,this.screenHeight=void 0,this.userInfo=void 0,this.rewardVideo=void 0,this.custom_arr=[],this.custom_show_status=!1,this.banner=void 0,this.banner_show_status=!1}var i=t.prototype;return i.wechat_get_user_info=function(){console.log("---------- 执行 wechat_get_user_info",e)},i.login=function(){console.log("22222 login ---------- 执行 wechat_get_user_info",e)},i.setAvatar=function(t){},i.wechat_setting=function(){console.log("wechat_setting",e)},i.show_interstitial=function(t){console.log("显示差评广告》〉》〉》〉》〉》〉》〉》")},i.show_reward_video=function(t){var o=this,i=this,c=n.ad_video_id;null!=i.rewardVideo&&i.rewardVideo.offClose(s);var e=this.wx.createRewardedVideoAd({adUnitId:c.trim()});i.rewardVideo=e,e.load().then((function(){o.wx.showToast({title:"看完视频领奖励",icon:"success",duration:1500,mask:!1,success:function(){},fail:function(){},complete:function(){}}),console.log("视频 广告加载成功"),e.show()})),e.onError((function(i){console.log("激励视频 广告显示失败",i),o.wx.showToast({title:"请稍后再试",icon:"fail",duration:1500,mask:!1,success:function(){},fail:function(){},complete:function(){}}),t(2)}));var s=function o(i){i&&i.isEnded?(console.log("res:  ",i),t(1),e.offClose(o)):(console.log("播放中退出"),t(0))};e.onClose(s)},i.destory_custom=function(){this.custom_arr.forEach((function(t){try{t.destroy()}catch(t){console.log("关闭 custom error...",t)}console.log("关闭 custom ...")})),this.custom_arr=[]},i.hide_custom=function(){console.log("隐藏销毁 cusTom"),this.custom_show_status=!1,this.destory_custom()},i.show_custom_ad=function(){if(0!=n.ad_custom_id.length){var t=n.ad_custom_id[s.random_between_floor(0,n.ad_custom_id.length)];this.custom_show_status=!0,console.log("ad_custom_id  原生模板 ID:",t)}},i.hide_banner=function(){this.banner_show_status=!1,null!=this.banner&&(this.banner.destroy(),this.banner=null,console.log("关闭 banner..."))},i.show_banner=function(t){},i.show_share=function(){this.get_random_pic();console.log("分享开始")},i.get_random_pic=function(){var t=null;try{t=this.pic[s.random_between_floor(0,this.pic.length)]}catch(t){console.log("get_random_pic error:",t)}return this.pic||(t=this.pic[0]),t},i.wx_show_modal=function(){console.log("funcation is wx_show_modal",e)},o(t,null,[{key:"ins",get:function(){return this._ins||(this._ins=new t),this._ins}}]),t}())._ins=void 0,a=r))||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/XStorage.ts",["cc"],(function(e){var r,t;return{setters:[function(e){r=e.cclegacy,t=e._decorator}],execute:function(){var o;r._RF.push({},"28205YrwEFOxZA1PE6aFKC4","XStorage",void 0);var l=t.ccclass;t.property,e("XStorage",l("XStorage")(o=function(){function e(){}return e.previous_level=function(){var r=e.get_cur_lvl()-1;return r<1&&(r=1),e.record_cur_lvl(r),r},e.next_level=function(){var r=e.get_cur_lvl()+1;return e.record_cur_lvl(r),r},e.get_history_lvl=function(){var e=localStorage.getItem("history_lvl");return e?Number(e):(localStorage.setItem("history_lvl","1"),1)},e.get_cur_lvl=function(){var e=localStorage.getItem("cur_lvl");return e?Number(e):(localStorage.setItem("cur_lvl","0"),0)},e.get_best_score=function(){var e=localStorage.getItem("best_score");return e?Number(e):(localStorage.setItem("best_score","0"),0)},e.record_cur_lvl=function(e){localStorage.setItem("cur_lvl",e+"");var r=localStorage.getItem("history_lvl");r?e>Number(r)&&localStorage.setItem("history_lvl",e+""):localStorage.setItem("history_lvl",e+"")},e.get_cur_coins=function(){var e=localStorage.getItem("cur_coins");if(e){var r=Number(e);return r<0&&(r=0),r}return localStorage.setItem("cur_coins","0"),0},e.record_coins=function(e){localStorage.setItem("cur_coins",e+"")},e.get_cur_score=function(){var e=localStorage.getItem("cur_score");if(e){var r=Number(e);return r<0&&(r=0),r}return localStorage.setItem("cur_score","0"),0},e.record_score=function(e){localStorage.setItem("cur_score",e+"")},e.record_best_score=function(){var r=e.get_history_lvl();if(e.get_cur_lvl()>=r){var t=e.get_best_score(),o=e.get_cur_score();o>t&&localStorage.setItem("best_score",o+"")}},e.is_new_player=function(){var e=localStorage.getItem("is_new_player");return e?0!=Number(e):(localStorage.setItem("is_new_player","1"),!0)},e.is_old_player=function(){localStorage.setItem("is_new_player","0")},e.save_cells=function(e){var r=JSON.stringify(e);localStorage.setItem("cells_arr",r)},e.load_cells=function(){var e=localStorage.getItem("cells_arr");return e?JSON.parse(e):(localStorage.setItem("cells_arr",JSON.stringify([])),[])},e.save_blocks=function(e){var r=JSON.stringify(e);localStorage.setItem("blocks_arr",r)},e.load_blocks=function(){var e=localStorage.getItem("blocks_arr");return e?JSON.parse(e):(localStorage.setItem("blocks_arr",JSON.stringify([])),[])},e.get_gift=function(){var e=localStorage.getItem("gift");return e?Number(e):(localStorage.setItem("gift","0"),0)},e.record_gift=function(e){localStorage.setItem("gift",e+"")},e}())||o);r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});