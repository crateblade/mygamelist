System.register("chunks:///_virtual/AdManger.ts",["cc","./WxPlatform.ts","./BytePlantform.ts"],(function(o){var t,s,n,e,a;return{setters:[function(o){t=o.cclegacy,s=o._decorator,n=o.sys},function(o){e=o.WxPlatform},function(o){a=o.BytePlantform}],execute:function(){var r;t._RF.push({},"a41c7SeY1dENrQpFBTpJwtG","AdManger",void 0);var c=s.ccclass;s.property,o("AdManger",c("AdManger")(r=function(){function o(){}return o.show_interstial=function(o){switch(n.platform){case n.Platform.WECHAT_GAME:e.ins.show_interstitial(1);break;case n.Platform.BYTEDANCE_MINI_GAME:a.ins.show_interstitial(1)}},o.show_video=function(o){switch(n.platform){case n.Platform.WECHAT_GAME:e.ins.show_reward_video((function(t){1==t?(o(t),console.log("show_video 获取奖励成功")):(o(t),console.log("show_video 获取奖励失败"))}));break;case n.Platform.BYTEDANCE_MINI_GAME:a.ins.ShowAdvertisements((function(t){1==t?(o(t),console.log("show_video 获取奖励成功")):(o(t),console.log("show_video 获取奖励失败"))}));break;case n.Platform.MOBILE_BROWSER:case n.Platform.DESKTOP_BROWSER:o(1);break;default:o(0)}},o.show_banner=function(){switch(n.platform){case n.Platform.BYTEDANCE_MINI_GAME:a.ins.show_banner()}},o.show_custom=function(){switch(n.platform){case n.Platform.WECHAT_GAME:e.ins.show_custom_ad()}},o.close_ad=function(){switch(n.platform){case n.Platform.WECHAT_GAME:e.ins.hide_banner(),e.ins.hide_custom();break;case n.Platform.BYTEDANCE_MINI_GAME:a.ins.hide_banner()}},o}())||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/AreaData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./Tools.ts","./EventsManager.ts","./Enums.ts","./AudioManager.ts","./ResourcePool.ts","./BlockAction.ts"],(function(e){var n,t,r,a,c,o,i,s,l,u,_,f,h,p,g,v,m,d,b;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,c=e.asyncToGenerator,o=e.regeneratorRuntime,i=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy,l=e._decorator,u=e.Node,_=e.Component,f=e.Color},function(e){h=e.Global},function(e){p=e.Tools},function(e){g=e.EventsManager},function(e){v=e.EventTyps},function(e){m=e.AudioManager},function(e){d=e.ResourcePool},function(e){b=e.BlockAction}],execute:function(){var k,w,E,x,y,I,C,L;s._RF.push({},"99491KQcT9AY7gkUtvCCmhG","AreaData",void 0);var A=l.ccclass,T=l.property;e("AreaData",(k=A("AreaData"),w=T(u),E=T([u]),k(((L=function(e){function n(){for(var n,t=arguments.length,c=new Array(t),o=0;o<t;o++)c[o]=arguments[o];return n=e.call.apply(e,[this].concat(c))||this,r(n,"game_area",I,a(n)),r(n,"block_arr",C,a(n)),n.game_area_cells=[],n.game_area_rect=void 0,n}t(n,e);var s=n.prototype;return s.onLoad=function(){n.Ins=this,g.Ins.addListener(v.EVENT_CLEAR_ALL_CELLS,this.event_clear_all_cells,this),g.Ins.addListener(v.CLEAR_CELLS,this.event_clear_cells,this)},s.start=function(){},s.update=function(e){},n.getIns=function(){return n.Ins},s.init_game_once=function(){this.game_area_cells=p.createNullMatrix(h.GRID_HEIGHT_NUM,h.GRID_WIDTH_NUM),this.game_area_rect=p.createRect(this.game_area)},s.get_area_cells=function(){return this.game_area_cells},s.set_area_cells=function(e){this.game_area_cells=e},s.get_rect=function(){return this.game_area_rect},s.get_area_node=function(){return this.game_area},s.event_clear_all_cells=function(){var e=c(o().mark((function e(){var n,t,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],t=i(this.get_area_cells());!(r=t()).done;)(a=r.value)&&a.forEach((function(e){e&&n.push(e)}));return h.combo++,g.Ins.dispatch(v.SHOW_FLY_SCORE_by_score,n.length,[0]),e.next=6,this.event_clear_cells(n);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.waitTime=function(e){var n=this;return new Promise((function(t,r){n.scheduleOnce((function(){t(!0)}),e)}))},s.event_clear_cells=function(){var e=c(o().mark((function e(n,t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.Ins.dispatch(v.SHOW_SCORE_EFFECTS),m.instance.play_shot("delete"),this.clear_cells(n,t);case 3:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),s.clear_cells=function(){var e=c(o().mark((function e(t,r){var a,c,s,l,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.isClearing=!0,a=100;case 3:if(!(t.length>0)){e.next=16;break}if(!(t.length>a)){e.next=12;break}for(c=t.slice(0,a),t.splice(0,a),s=i(c);!(l=s()).done;)(u=l.value)&&u.remove_with_animation(r);return e.next=10,n.getIns().waitTime(0);case 10:e.next=14;break;case 12:t.forEach((function(e){e&&e.remove_with_animation(r)})),t.length=0;case 14:e.next=3;break;case 16:n.isClearing=!1;case 17:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),s.clean_game=function(){var e=c(o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){n.getIns().get_area_cells().forEach((function(e){e.forEach((function(e){e&&d.instance.remove_node(e.node)}))})),t.clean_blockarr(),e(!0)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.clean_blockarr=function(){var e=c(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=0;n<this.block_arr.length;n++)this.block_arr[n].children.forEach((function(e){e.getComponent(b).clean_block(),d.instance.remove_node(e)}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.restart_clean_block_clean_cells=function(){var e=c(o().mark((function e(){var t,r,a,c,s,l,u,_,h,p,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n.getIns().clean_blockarr(),t=[],r=i(n.getIns().get_area_cells());!(a=r()).done;)(c=a.value)&&c.forEach((function(e){e&&t.push(e)}));if(t=t.reverse(),s=[].concat(t),l=420,!(t.length>0)){e.next=21;break}u=!0;case 8:if(!u){e.next=21;break}if(!(t.length>l)){e.next=17;break}for(_=t.slice(0,l),t.splice(0,l),h=i(_);!(p=h()).done;)(g=p.value)&&g.reset_color(new f(255,255,255));return e.next=15,n.getIns().waitTime(0);case 15:e.next=19;break;case 17:t.forEach((function(e){e&&e.reset_color(new f(255,255,255))})),u=!1;case 19:e.next=8;break;case 21:return e.next=23,n.getIns().clear_cells(s);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n}(_)).Ins=null,L.isClearing=void 0,I=n((y=L).prototype,"game_area",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=n(y.prototype,"block_arr",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=y))||x));s._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts"],(function(i){var o,n,e,t,a,u;return{setters:[function(i){o=i.createClass},function(i){n=i.cclegacy,e=i.Node,t=i.director,a=i.AudioSource},function(i){u=i.Global}],execute:function(){n._RF.push({},"fca79uWzLRMpJamzHvPPZhz","AudioManager",void 0),i("AudioManager",function(){function i(){this.audio_source=null,this.audio_source_2=null,this.clip_map={}}var n=i.prototype;return n.init=function(){var i=new e("AudioManager");t.getScene().addChild(i),this.audio_source=i.addComponent(a),this.audio_source.playOnAwake=!1,this.audio_source.volume=1,t.addPersistRootNode(i);var o=new e("AudioManager");t.getScene().addChild(o),this.audio_source_2=o.addComponent(a),this.audio_source_2.playOnAwake=!1,this.audio_source_2.volume=1,t.addPersistRootNode(o)},n.add_clip=function(i,o){this.clip_map[i]=o},n.play_shot=function(i){if(u.open_sound){var o=this.clip_map[i];o&&this.audio_source.playOneShot(o)}},n.play_shot_2=function(i){if(u.open_sound){var o=this.clip_map[i];o&&this.audio_source_2.playOneShot(o)}},o(i,null,[{key:"instance",get:function(){return this._instance||(this._instance=new i,this._instance.init()),this._instance}}]),i}())._instance=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/BaseWindows.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AdManger.ts","./Enums.ts","./Global.ts"],(function(t){var n,e,o,i,s,c,a,r,l,u,w,h,d;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,c=t._decorator,a=t.Node,r=t.Vec3,l=t.tween,u=t.Component},function(t){w=t.AdManger},function(t){h=t.GAME_STATE},function(t){d=t.Global}],execute:function(){var _,f,p,m,v;s._RF.push({},"f8591ZooUFCBLHXbePEjYjO","BaseWindows",void 0);var g=c.ccclass,y=c.property;t("BaseWindows",(_=g("BaseWindows"),f=y(a),_((v=n((m=function(t){function n(){for(var n,e=arguments.length,s=new Array(e),c=0;c<e;c++)s[c]=arguments[c];return n=t.call.apply(t,[this].concat(s))||this,o(n,"content",v,i(n)),n.window_name="",n}e(n,t);var s=n.prototype;return s.start=function(){},s.update=function(t){},s.set_window_name=function(t){this.window_name=t},s.show_windows=function(t){this.node.active=!0,this.node.setSiblingIndex(this.node.parent.children.length-1),this.show_content_tween(),d.set_game_state(h.Pause,"BaseWindows.show>"+this.window_name),"HomeAction"==this.window_name||w.show_custom()},s.show_content_tween=function(){this.content&&(this.content.setScale(new r(.35,.35,.35)),l(this.content).to(.2,{scale:r.ONE}).call((function(){})).start())},s.close_windows=function(t){var n=this;this.content&&this.content.active?(this.content.setScale(new r(1,1,1)),l(this.content).to(.2,{scale:r.ZERO}).call((function(){n.node.active=!1})).start()):this.node.active=!1,d.set_game_state(t,"BaseWindows.close"),w.show_interstial(),w.close_ad()},n}(u)).prototype,"content",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=m))||p));s._RF.pop()}}}));

System.register("chunks:///_virtual/BlockAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CellAction.ts","./ResourceManger.ts","./ResourcePool.ts","./Tools.ts","./Global.ts","./EventsManager.ts","./AudioManager.ts","./Enums.ts","./AreaData.ts","./ToolsColor.ts"],(function(t){var e,o,i,n,s,r,c,a,l,_,h,u,d,f,k,b,p,g,y,E,v,x,w,C,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){c=t.cclegacy,a=t._decorator,l=t.CCInteger,_=t.Size,h=t.Vec3,u=t.Input,d=t.Component,f=t.Tween,k=t.tween},function(t){b=t.CellAction},function(t){p=t.default},function(t){g=t.ResourcePool},function(t){y=t.Tools},function(t){E=t.Global},function(t){v=t.EventsManager},function(t){x=t.AudioManager},function(t){w=t.EventTyps},function(t){C=t.AreaData},function(t){L=t.ToolsColor}],execute:function(){var m,z,A,S,T;c._RF.push({},"79b476FQE1E3rHMbDvdDFo8","BlockAction",void 0);var I=a.ccclass,M=a.property;t("BlockAction",(m=I("BlockAction"),z=M(l),m((T=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))||this).is_ok=void 0,e.defalut_pos=void 0,e.is_select=void 0,e.block_size=new _,e.cell_array=[],e.block_color_arr=void 0,i(e,"block_type_index",T,n(e)),e.offset_v3=new h(0,165,0),e}o(e,t);var c=e.prototype;return c.start=function(){this.node.on(u.EventType.TOUCH_START,this.touch_begin,this),this.node.on(u.EventType.TOUCH_MOVE,this.touch_move,this),this.node.on(u.EventType.TOUCH_END,this.touch_end,this),this.node.on(u.EventType.TOUCH_CANCEL,this.touch_end,this)},c.init_block=function(){var t=s(r().mark((function t(e){var o,i,n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.is_ok=!1,this.block_size=new _,this.node.setScale(1,1),this.clean_block(),o=L.get_block_cell_colors_arr_index(e),i=p.instance.get_data_type_length(),n=Math.floor(Math.random()*i),t.next=9,this.create_all_cell(n,o);case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),c.temp_to_all_block=function(t,e){this.is_ok=!1,this.block_size=new _,this.node.setScale(1,1),this.clean_block(),this.create_all_cell(t,e)},c.create_all_cell=function(){var t=s(r().mark((function t(e,o){var i,n,s,c,a,l,_,u,d,b,g=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.block_color_arr=o,this.block_type_index=e,i=p.instance.get_data_type_cells(e),n=this.node.getWorldPosition(),s=12*E.CELL_SIZE-.5*E.CELL_SIZE,!i){t.next=42;break}c=i.length/E.BASE_CELL_NUMBER,a=new h,l=[],_=0;case 10:if(!(_<c)){t.next=28;break}u=0;case 12:if(!(u<E.BASE_CELL_NUMBER)){t.next=25;break}if(d=_*E.BASE_CELL_NUMBER+u,!(b=i[d])){t.next=22;break}if(a.x=n.x+u*E.CELL_SIZE-s,a.y=n.y-(_*E.CELL_SIZE-s),y.insertArr(l,this.create_cell(a.clone(),o[b-1],1==Math.floor(20*Math.random()))),l.length%300!=0){t.next=22;break}return t.next=22,C.getIns().waitTime(0);case 22:u++,t.next=12;break;case 25:_++,t.next=10;break;case 28:Promise.all(l).then((function(){f.stopAllByTarget(g.node),g.node.setScale(.1,.1,1),k(g.node).to(.2,{scale:new h(.6,.6,1)}).call((function(){g.is_ok=!0})).start()})),t.t0=e,t.next=0===t.t0?32:1===t.t0?35:38;break;case 32:return this.block_size.width=16,this.block_size.height=16,t.abrupt("break",40);case 35:return this.block_size.width=24,this.block_size.height=7,t.abrupt("break",40);case 38:this.block_size.width=24,this.block_size.height=14;case 40:this.block_size.width=this.block_size.width*E.CELL_SIZE,this.block_size.height=this.block_size.height*E.CELL_SIZE;case 42:case"end":return t.stop()}}),t,this)})));return function(e,o){return t.apply(this,arguments)}}(),c.create_cell=function(t,e,o){var i=this;return new Promise((function(n,s){g.instance.create_by_Pool("Cell",t,i.node).then((function(t){var s=t.getComponent(b);s&&s.init_cell(e,o),y.insertArr(i.cell_array,s),n(s)})).catch((function(t){console.log(t),s(t)}))}))},c.touch_begin=function(t){this.is_ok&&(this.is_select=!0,this.defalut_pos=this.node.getWorldPosition(),this.node.setScale(1,1),this.node.setWorldPosition(this.node.worldPosition.add(this.offset_v3)),this.update_block_(t.getUIDelta().x,t.getUIDelta().y))},c.touch_move=function(t){this.is_ok&&this.is_select&&this.update_block_(t.getUIDelta().x,t.getUIDelta().y)},c.update_block_=function(t,e){var o=this.node.getWorldPosition(),i=t+o.x,n=e+o.y,s=C.getIns().get_rect();if(s){var r=s.x+.5*this.block_size.width,c=s.x+s.width-.5*this.block_size.width,a=s.y+s.height-.5*this.block_size.height-2*E.CELL_SIZE;i<r&&(i=r),i>c&&(i=c),n>a&&(n=a),this.node.setWorldPosition(i,n,0)}},c.touch_end=function(){if(this.is_ok){for(var t=!0,e=0;e<this.cell_array.length;e++)if(!this.cell_array[e].check_area_drop()){this.reset(),t=!1;break}this.is_select=!1,t&&(this.cell_array.forEach((function(t){t.add_to_game_area()})),this.cell_array=[],this.node.removeFromParent(),g.instance.remove_node(this.node),x.instance.play_shot("down"),v.Ins.dispatch(w.DRAG_ONE_OVER,this.block_type_index,this.block_color_arr),v.Ins.dispatch(w.SHOW_FLY_SCORE_by_index,this.block_type_index,this.block_color_arr))}},c.clean_block=function(){for(var t=0;t<this.cell_array.length;t++)g.instance.remove_node(this.cell_array[t].node);this.cell_array=[]},c.reset=function(){this.node.setScale(.6,.6),this.node.setWorldPosition(this.defalut_pos)},c.update=function(t){},e}(d)).prototype,"block_type_index",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=S))||A));c._RF.pop()}}}));

System.register("chunks:///_virtual/BombAction.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,e,i,n,c,r,a,l,s;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){c=t.cclegacy,r=t._decorator,a=t.Node,l=t.Animation,s=t.Component}],execute:function(){var b,f,u,p,m,h,_;c._RF.push({},"cd717NXdR5GmbhVi4wtD2PG","BombAction",void 0);var v=r.ccclass,y=r.property;t("BombAction",(b=v("BombAction"),f=y(a),u=y(a),b((h=o((m=function(t){function o(){for(var o,e=arguments.length,c=new Array(e),r=0;r<e;r++)c[r]=arguments[r];return o=t.call.apply(t,[this].concat(c))||this,i(o,"boom",h,n(o)),i(o,"bomb_effect",_,n(o)),o.call_f=void 0,o.call_root=void 0,o}e(o,t);var c=o.prototype;return c.start=function(){this.show_bomb()},c.update=function(t){},c.show_bomb=function(){this.boom.active=!0,this.bomb_effect.active=!1},c.show_effect=function(t,o){this.call_f=t,this.call_root=o,this.boom.active=!1,this.bomb_effect.active=!0;var e=this.bomb_effect.getComponent(l);e&&(e.once(l.EventType.FINISHED,this.call_f,this.call_root),e.play())},o}(s)).prototype,"boom",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=o(m.prototype,"bomb_effect",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=m))||p));c._RF.pop()}}}));

System.register("chunks:///_virtual/BottomAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./AudioManager.ts","./Tools.ts","./BombAction.ts","./ResourcePool.ts","./EventsManager.ts","./Enums.ts","./XStorage.ts","./AreaData.ts"],(function(t){var o,e,n,i,s,r,c,a,_,l,h,u,b,d,f,m,p,v,g,w,y,E,T,C,A;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized,s=t.createForOfIteratorHelperLoose,r=t.asyncToGenerator,c=t.regeneratorRuntime},function(t){a=t.cclegacy,_=t._decorator,l=t.Label,h=t.UITransform,u=t.Tween,b=t.tween,d=t.Vec3,f=t.Input,m=t.Component},function(t){p=t.Global},function(t){v=t.AudioManager},function(t){g=t.Tools},function(t){w=t.BombAction},function(t){y=t.ResourcePool},function(t){E=t.EventsManager},function(t){T=t.EventTyps},function(t){C=t.XStorage},function(t){A=t.AreaData}],execute:function(){var I,O,P,z,L;a._RF.push({},"542f3bns+JGnJDilVlRNIOC","BottomAction",void 0);var R=_.ccclass,D=_.property;t("BottomAction",(I=R("BottomAction"),O=D(l),I((L=o((z=function(t){function o(){for(var o,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return o=t.call.apply(t,[this].concat(s))||this,n(o,"coin_label",L,i(o)),o.bomb_node=void 0,o.bomb_size=void 0,o.can_touch=!1,o.resultArrs=[],o}e(o,t);var a=o.prototype;return a.start=function(){this.coin_label.string="X"+p.bomb_coins_tools},a.update=function(t){},a.on_click_bomb=function(){var t=this,o=p.ui_layer_action.node;this.bomb_node?console.log("场景中有炸弹，不重新生成"):y.instance.create_by_Pool("Bomb",this.node.worldPosition,o).then((function(e){t.bomb_node=e,t.bomb_size||(t.bomb_size=g.createRect(e));var n=o.getComponent(h).convertToNodeSpaceAR(o.worldPosition);u.stopAllByTarget(t.bomb_node),b(t.bomb_node).to(.1,{scale:new d(.55,.55,1)}).to(.3,{position:n},{easing:"quadInOut"}).call((function(){t.get_select_color()})).start(),t.show_bomb()}))},a.show_bomb=function(){var t=p.ui_layer_action.node;t.on(f.EventType.TOUCH_MOVE,this.touch_move,this),t.on(f.EventType.TOUCH_END,this.touch_end,this),t.on(f.EventType.TOUCH_CANCEL,this.touch_end,this),this.bomb_node.active=!0;var o=this.bomb_node.getComponent(w);o&&o.show_bomb(),this.can_touch=!0},a.touch_move=function(t){this.update_bomb(t.getUIDelta().x,t.getUIDelta().y),this.get_select_color()},a.update_bomb=function(t,o){g.createRect(this.bomb_node,this.bomb_size);var e=this.bomb_node.getWorldPosition(),n=t+e.x,i=o+e.y,s=A.getIns().get_rect();if(s){var r=s.x+.5*this.bomb_size.width,c=s.x+s.width-.5*this.bomb_size.width,a=s.y+s.height-.5*this.bomb_size.height-2*p.CELL_SIZE;n<r&&(n=r),n>c&&(n=c),i>a&&(i=a),this.bomb_node.setWorldPosition(n,i,0)}},a.touch_end=function(t){if(this.can_touch){this.can_touch=!1;var o=this;if(this.scheduleOnce((function(){o.can_touch=!0}),1),C.get_cur_coins()-p.bomb_coins_tools<0)return console.log("使用道具，不够钱"),p.ui_layer_action.show_win("VideoTips"),void this.reset();if(g.createRect(this.bomb_node,this.bomb_size),this.bomb_size.intersects(A.getIns().get_rect())){this.stop_all_cell_tween(),this.get_select_color();var e=this.bomb_node.getComponent(w);e&&(this.drop(),e.show_effect(this.reset,this),C.record_coins(C.get_cur_coins()-p.bomb_coins_tools),E.Ins.dispatch(T.UPDATE_COIN))}else this.reset()}},a.reset=function(){this.bomb_node.active=!1;var t=p.ui_layer_action.node;t.off(f.EventType.TOUCH_MOVE,this.touch_move,this),t.off(f.EventType.TOUCH_END,this.touch_end,this),t.off(f.EventType.TOUCH_CANCEL,this.touch_end,this),y.instance.remove_node(this.bomb_node),this.bomb_node=null,this.stop_all_cell_tween()},a.drop=function(){v.instance.play_shot("bomb");for(var t,o=this.bomb_node.worldPosition,e=A.getIns().get_area_cells(),n=this.bomb_node.getComponent(h).width,i=[],r=s(e);!(t=r()).done;){var c=t.value;c&&c.forEach((function(t){t&&d.distance(t.node.worldPosition,o)<=n&&i.push(t)}))}p.combo++,E.Ins.dispatch(T.SHOW_FLY_SCORE_by_score,i.length,[0]),E.Ins.dispatch(T.CLEAR_CELLS,i)},a.get_select_color=function(){var t=r(c().mark((function t(){var o=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,e){var n=o.bomb_node.worldPosition;o.resultArrs=[];for(var i,r=A.getIns().get_area_cells(),c=o.bomb_node.getComponent(h).width,a=s(r);!(i=a()).done;){var _=i.value;_&&_.forEach((function(t){t&&d.distance(t.node.worldPosition,n)<=c&&o.resultArrs.push(t)}))}o.stop_all_cell_tween(),o.show_all_cell_tween()})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a.show_all_cell_tween=function(){this.resultArrs.forEach((function(t){t.show_flash_tween()}))},a.stop_all_cell_tween=function(){for(var t,o=A.getIns().get_area_cells(),e=s(o);!(t=e()).done;){var n=t.value;n&&n.forEach((function(t){t&&t.close_flash_tween()}))}},o}(m)).prototype,"coin_label",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=z))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/BytePlantform.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./Global.ts"],(function(n){var t,o,e,i,s,l,c;return{setters:[function(n){t=n.inheritsLoose,o=n.createClass},function(n){e=n.cclegacy,i=n._decorator,s=n.Component},function(n){l=n.BYTEDANCE},function(n){c=n.Global}],execute:function(){var a,r;e._RF.push({},"0125fxhvIBCNbSAgBDQjVve","BytePlantform",void 0);var u=i.ccclass;i.property,n("BytePlantform",u("BytePlantform")(((r=function(n){function e(){for(var t,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(t=n.call.apply(n,[this].concat(e))||this).tt=window.tt,t.banner=void 0,t.banner_show_status=!1,t}t(e,n);var i=e.prototype;return i.is_douyin=function(){return l},i.listen_douyin=function(n,t){if(this.is_douyin()){this.tt.onShow((function(o){console.log("onShow data  res:",o),"021036"===o.scene?null==n||n.call(t,!0):null==n||n.call(t,!1)}));var o=this.tt.getLaunchOptionsSync();o&&"021036"===o.scene&&(null==n||n.call(t,!0))}else null==n||n.call(t,!1)},i.check_side_bar=function(n,t){this.is_douyin()?this.tt.checkScene({scene:"sidebar",success:function(o){console.log("check scene success: ",o,o.isExist),null==n||n.call(t,o.isExist)},fail:function(o){console.log("check scene fail:",o,o),null==n||n.call(t,!1)}}):null==n||n.call(t,!1)},i.navigate_to_douyin=function(n,t){if(!this.is_douyin())return console.log("not douyin platform!"),void(null==n||n.call(t,!1));this.tt.navigateToScene({scene:"sidebar",success:function(){console.log("navigate success"),null==n||n.call(t,!0)},fail:function(o){console.log("navigate failed reason:",o),null==n||n.call(t,!1)}})},i.bytedance_setting=function(){console.log("BYTEDANCE_setting",l)},i.show_interstitial=function(n){void 0===n&&(n=0);var t=c.ad_intersitial_id;console.log("显示插屏广告》〉》〉》〉》〉》〉》〉》",t);var o=this.tt.createInterstitialAd({adUnitId:t.trim()});o&&(o.load().then((function(){o.show().then((function(){console.log("插屏广告展示成功")}))})).catch((function(n){console.log(n)})),setTimeout((function(){o.show().catch((function(n){console.log("插屏广告展示失败",n)}))}),1e3*n))},i.ShowAdvertisements=function(n){var t,o,e=c.ad_video_id;console.log("显示视频广告》〉》〉》〉》〉》〉》〉》",e);var i=this.tt.createRewardedVideoAd({adUnitId:e.trim()});i.onClose((function t(o){o.isEnded?(n(1),console.log("注销广告关闭监听1 "),i.offClose(t)):(console.log("注销广告关闭监听0 "),n(0))})),null==(t=i.show())||t.then((function(){console.log("视频广告展示")})),null==(o=i.onError())||o.then((function(){console.log("广告无法播放"),n(2)}))},i.hide_banner=function(){this.banner_show_status=!1,null!=this.banner&&(this.banner.destroy(),this.banner=null,console.log("关闭 banner..."))},i.show_banner=function(n){var t=this;if(null!=this.banner)return this.banner.destroy(),void(this.banner=null);this.banner_show_status=!0;var o=c.ad_banner_id,e=this.tt.getSystemInfoSync(),i=e.windowWidth,s=e.windowHeight;console.log("showBanner start ad_banner_id::",o.trim(),i,s);var l=this.tt.getSystemInfoSync(),a=l.windowWidth,r=l.windowHeight,u=this.tt.createBannerAd({adUnitId:o.trim(),style:{width:200,top:0}});u.style.left=(a-200)/2,u.onResize((function(n){console.log(n.width,n.height),u.style.top=r-n.height,u.style.left=(a-n.width)/2}));var h=this;u.onLoad((function(){console.log("banner 222 广告加载成功"),t.banner=u,t.banner_show_status?u.show().then((function(){console.log("广告显示成功"),setTimeout((function(){h.hide_banner(),console.log("广告隐藏")}),2e3)})).catch((function(n){console.log("广告组件出现问题",n)})):(console.log("错误出发，关闭bannner"),t.hide_banner())})),u.onError((function(n){console.log("banner 广告加载错误",n)}))},o(e,null,[{key:"ins",get:function(){return this._ins||(this._ins=new e),this._ins}}]),e}(s))._ins=void 0,a=r))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/CellAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tools.ts","./Global.ts","./ResourcePool.ts","./AreaData.ts","./Enums.ts"],(function(t){var e,o,i,s,n,r,a,l,_,c,h,d,p,u,f,g,v,w,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){n=t.cclegacy,r=t._decorator,a=t.Node,l=t.Vec2,_=t.Vec3,c=t.Tween,h=t.UITransform,d=t.UIOpacity,p=t.Sprite,u=t.Component},function(t){f=t.Tools},function(t){g=t.Global},function(t){v=t.ResourcePool},function(t){w=t.AreaData},function(t){y=t.DIR}],execute:function(){var I,m,D,E,b,C,T,L,N;n._RF.push({},"42fe1r1FZRDD4HIcIeb2DgN","CellAction",void 0);var R=r.ccclass,A=r.property;t("CellAction",(I=R("CellAction"),m=A(a),D=A(a),E=A(a),I((T=e((C=function(t){function e(){for(var e,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).cell_rect=void 0,e.color=void 0,e.is_dark=void 0,e.in_area=void 0,e.isFinded=void 0,e.pos=void 0,e.target_pos=new l,i(e,"tips_node",T,s(e)),i(e,"data_node",L,s(e)),i(e,"dark_node",N,s(e)),e.flashTween=null,e.can_show_tween=!1,e.tween_time=0,e}o(e,t);var n=e.prototype;return n.init_cell=function(t,e){this.node.setScale(_.ONE),c.stopAllByTarget(this.node),this.in_area=!1,this.color=t,this.is_dark=e,this.reset_color(g.colors[t]),this.dark_node.active=!!e;var o=this.node.getComponent(h);o.width=g.CELL_SIZE,o.height=g.CELL_SIZE,this.close_flash_tween(),this.tips_node.active=!1},n.check_area_drop=function(){this.cell_rect=f.createRect(this.node,this.cell_rect);var t=w.getIns().get_rect();if(this.cell_rect.intersects(t)){var e=this.node.worldPosition,o=Math.floor((e.x-t.x)/g.CELL_SIZE),i=g.GRID_HEIGHT_NUM-1-Math.floor((e.y-t.y)/g.CELL_SIZE);try{if(i>-1&&o>-1&&!w.getIns().get_area_cells()[i][o])return this.target_pos.x=o,this.target_pos.y=i,!0}catch(t){return!1}}return!1},n.set_target_pos=function(t){this.target_pos=t},n.add_to_game_area=function(){w.getIns().get_area_cells()[this.target_pos.y][this.target_pos.x]=this;var t=this.target_pos.x,e=this.target_pos.y;this.pos=[t,e];var o=w.getIns().get_rect(),i=g.CELL_SIZE,s=.5*i;this.node.setWorldPosition(new _(o.x+t*i+s,o.y+(g.GRID_HEIGHT_NUM-e)*i+s-i,0)),this.in_area=!0,this.node.setParent(w.getIns().get_area_node(),!0)},n.update_pos=function(){if(this.in_area){var t=w.getIns().get_area_cells(),e=g.GRID_WIDTH_NUM,o=g.GRID_HEIGHT_NUM;if(this.pos){var i=this.pos[0],s=this.pos[1];if(s+1<o&&!t[s+1][i])return t[s][i]=null,t[s+1][i]=this,this.pos[1]+=1,this.move_to(y.DOWN),!0;if(i-1>=0&&s+1<o&&!t[s+1][i-1])return t[s][i]=null,t[s+1][i-1]=this,this.pos[1]+=1,this.pos[0]-=1,this.move_to(y.LEFT_DOWN),!0;if(i+1<e&&s+1<o&&!t[s+1][i+1])return t[s][i]=null,t[s+1][i+1]=this,this.pos[1]+=1,this.pos[0]+=1,this.move_to(y.RIGHT_DOWN),!0}}return!1},n.move_to=function(t){var e=this.node.getWorldPosition(),o=g.CELL_SIZE;switch(t){case y.DOWN:this.node.setWorldPosition(e.x,e.y-o,e.z);break;case y.LEFT_DOWN:this.node.setWorldPosition(e.x-o,e.y-o,e.z);break;case y.RIGHT_DOWN:this.node.setWorldPosition(e.x+o,e.y-o,e.z)}},n.find_by_color_=function(t){var e=this;if(!this.isFinded){this.isFinded=!0;var o=f.findSameColorFromAround(this.pos,w.getIns().get_area_cells());t.add_same_color_cell(this),o.forEach((function(o){o&&o.color==e.color&&o.find_by_color_(t)}))}},n.remove_with_animation=function(t){v.instance.remove_node(this.node),w.getIns().get_area_cells()[this.pos[1]][this.pos[0]]=null},n.refresh_tween=function(t){if(this.can_show_tween){if(this.tween_time+=t,this.tween_time+=Math.random(),!(this.tween_time<2)){this.tween_time=0,this.tips_node.active||(this.tips_node.active=!0);var e=this.tips_node.getComponent(d);e.opacity<255?e.opacity=255:e.opacity=50}}else this.tips_node.active&&(this.tips_node.active=!1)},n.show_flash_tween=function(){this.can_show_tween=!0},n.close_flash_tween=function(){this.can_show_tween=!1},n.reset_color=function(t){var e=this.data_node.getComponent(p);c.stopAllByTarget(this.getComponent(h));var o=this.getComponent(d);f.setSpriteAlpha(o,1),c.stopAllByTarget(o),e.color=t},e}(u)).prototype,"tips_node",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(C.prototype,"data_node",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(C.prototype,"dark_node",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=C))||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/CoinLayerAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./XStorage.ts","./ResourcePool.ts","./Tools.ts","./Enums.ts","./EventsManager.ts","./AudioManager.ts"],(function(n){var t,o,i,e,c,r,s,a,u,l,_,p,f,d,h,y,g,v,w;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,i=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){c=n.cclegacy,r=n._decorator,s=n.Node,a=n.Label,u=n.UIOpacity,l=n.Vec3,_=n.tween,p=n.Component},function(n){f=n.Global},function(n){d=n.XStorage},function(n){h=n.ResourcePool},function(n){y=n.Tools},function(n){g=n.EventTyps},function(n){v=n.EventsManager},function(n){w=n.AudioManager}],execute:function(){var b,P,A,C,m,I,L;c._RF.push({},"2897amZOOZGg5oZGsWV5pGb","CoinLayerAction",void 0);var M=r.ccclass,O=r.property;n("CoinAction",(b=M("CoinAction"),P=O(s),A=O(a),b((I=t((m=function(n){function t(){for(var t,o=arguments.length,c=new Array(o),r=0;r<o;r++)c[r]=arguments[r];return t=n.call.apply(n,[this].concat(c))||this,i(t,"coin_sprite",I,e(t)),i(t,"coin_count",L,e(t)),t}o(t,n);var c=t.prototype;return c.onLoad=function(){v.Ins.addListener(g.UPDATE_COIN,this.update_coin,this),v.Ins.addListener(g.SYN_COIN,this.syn_coin,this)},c.start=function(){},c.update=function(n){},c.syn_coin=function(){this.coin_count.string=d.get_cur_coins()+""},c.update_coin=function(){var n=this;if(""!=this.coin_count.string){var t=Number(this.coin_count.string),o=d.get_cur_coins()-t;o>0?(this.show_coin_add_tween(o),this.scheduleOnce((function(){n.coin_count.string=d.get_cur_coins()+""}),2.8)):this.coin_count.string=d.get_cur_coins()+""}else this.coin_count.string=d.get_cur_coins()+""},c.show_coin_add_tween=function(n){var t=this,o=f.ui_layer_action.node;w.instance.play_shot("coin_1"),h.instance.create_by_Pool("Coin",o.worldPosition,o).then((function(n){var o=n.getComponent(u);y.setSpriteAlpha(o,0),y.TweenAlphaAni(o,1,.5).call((function(){for(var n=1;n<3;n++)t.createMoney(new l(45*n,0,0),n),t.createMoney(new l(45*-n,0,0),n+1)})).delay(.3).call((function(){t.fly(n,0)})).start()}))},c.createMoney=function(n,t){var o=this,i=f.ui_layer_action.node;h.instance.create_by_Pool("Coin",i.worldPosition,i).then((function(i){var e=i.getComponent(u);y.setSpriteAlpha(e,1),_(i).to(.3,{position:n}).call((function(){o.fly(i,t)})).start()}))},c.fly=function(n,t){var o=this.coin_sprite.worldPosition.clone();o.y-=80,o.x+=50;var i=n.getComponent(u);_(n).delay(.2*t).to(.5,{worldPosition:o},{easing:"quadIn"}).to(.2,{worldPosition:this.coin_sprite.worldPosition},{easing:"quadIn"}).call((function(){_(i).to(.3,{opacity:0}).start(),w.instance.play_shot("coin_2")})).union().start()},t}(p)).prototype,"coin_sprite",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(m.prototype,"coin_count",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=m))||C));c._RF.pop()}}}));

System.register("chunks:///_virtual/ColorAction.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,n,r,i;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,r=o._decorator,i=o.Component}],execute:function(){var c;n._RF.push({},"5fd84HIJehPGogB0a6/lmBD","ColorAction",void 0);var e=r.ccclass;r.property,o("ColorAction",e("ColorAction")(c=function(o){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=o.call.apply(o,[this].concat(r))||this).root=void 0,t}t(n,o);var r=n.prototype;return r.start=function(){},r.update=function(o){},r.stop_ani=function(){},r.init_data=function(o){this.root=o},r.cur_=function(o){this.root&&this.node.active&&this.root.update_progress(o)},n}(i))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/Enums.ts",["cc"],(function(_){var E,S,R,L,O,t;return{setters:[function(_){E=_.cclegacy,S=_.JsonAsset,R=_.Prefab,L=_.AudioClip,O=_.SpriteFrame,t=_.SpriteAtlas}],execute:function(){E._RF.push({},"b4260AoEPdAULaKYLL8eFH9","Enums",void 0);_("EventTyps",{DRAG_ONE_OVER:"DRAG_ONE_OVER",LOAD_ASSETS_OVER:"LOAD_ASSETS_OVER",ROLL_UPDATE_SCORE:"ROLL_UPDATE_SCORE",UPDATE_COIN:"UPDATE_COIN",SYN_COIN:"SYN_COIN",SHOW_FLY_SCORE_by_index:"SHOW_FLY_SCORE_by_index",SHOW_FLY_SCORE_by_score:"SHOW_FLY_SCORE_by_score",SHOW_SCORE_EFFECTS:"SHOW_SCORE_EFFECTS",CLEAR_CELLS:"CLEAR_CELLS",EVENT_CLEAR_ALL_CELLS:"EVENT_CLEAR_ALL_CELLS",RESTART_GAME:"RESTART_GAME",PLAY_START_TWEEN:"PLAY_START_TWEEN",RERUSH_SHOW_GG:"RERUSH_SHOW_GG",UPGRADE_LVL:"UPGRADE_LVL",DOUYIN_SILDER_show_gift_btn:"DOUYIN_SILDER_show_gift_btn",DOUYIN_SILDER_show_refrush_data:"DOUYIN_SILDER_refrush_data"}),_("DIR",function(_){return _[_.DOWN=0]="DOWN",_[_.LEFT_DOWN=1]="LEFT_DOWN",_[_.RIGHT_DOWN=2]="RIGHT_DOWN",_}({})),_("GAME_STATE",function(_){return _[_.READY=0]="READY",_[_.START=1]="START",_[_.END=2]="END",_[_.Pause=3]="Pause",_}({})),_("AssetType",{Json:{type:S,path:"jsons/"},Prefab:{type:R,path:"prefabs/"},Sound:{type:L,path:"sounds/"},Ui:{type:O,path:"ui/"},Atlas:{type:t,path:"atlas/"}});E._RF.pop()}}}));

System.register("chunks:///_virtual/EventsManager.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){var e;n._RF.push({},"ae2d8XUGyJL2J3FBs1kfsxE","EventsManager",void 0);var r=t("EventsManager",function(){function t(){this.dict={}}var n=t.prototype;return n.addListener=function(t,n,e){var r=this.dict[t];null==r&&(r=new Array,this.dict[t]=r);for(var i=0,a=r.length;i<a;i++)if(r[i][0]==n&&r[i][1]==e)return;r.push([n,e])},n.removeListener=function(t,n,e){var r=this.dict[t];if(null!=r){for(var i=0,a=r.length;i<a;i++)if(r[i][0]==n&&r[i][1]==e){r.splice(i,1);break}0==r.length&&(this.dict[t]=null,delete this.dict[t])}},n.dispatch=function(t){if(null!=this.dict[t]){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];this.dealMsg(t,void 0,e)}},n.dealMsg=function(t,n){for(var e,r=this.dict[t],i=0,a=r.length,s=null,c=arguments.length,l=new Array(c>2?c-2:0),u=2;u<c;u++)l[u-2]=arguments[u];for(;i<a;){var h;if(s=r[i],!n||n&&n==s[1])e=(h=s[0]).apply.apply(h,[s[1]].concat(l));r.length!=a&&(a=r.length,i--),i++}return e},t}());e=r,r.Ins=new e,n._RF.pop()}}}));

System.register("chunks:///_virtual/Global.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enums.ts","./XStorage.ts","./EventsManager.ts"],(function(n){var e,_,t,s,o,a,c,l;return{setters:[function(n){e=n.createClass},function(n){_=n.cclegacy,t=n._decorator,s=n.Color},function(n){o=n.GAME_STATE,a=n.EventTyps},function(n){c=n.XStorage},function(n){l=n.EventsManager}],execute:function(){var i,r;_._RF.push({},"8e1071sXHZO17V47hp321Wd","Global",void 0);var u=t.ccclass;t.property,n("Global",u("Global")(((r=function(){function n(){}return n.init_once=function(){(n.is_new_player=c.is_new_player(),n.is_new_player)&&(0==c.get_cur_coins()&&(c.record_coins(n.new_player_default_coin),l.Ins.dispatch(a.UPDATE_COIN)))},n.set_old_player=function(){c.is_old_player(),n.is_new_player=c.is_new_player()},n.set_game_state=function(e,_){n.game_stat=e},n.get_state_info_msg=function(){return n._game_state==o.READY?"READY":n._game_state==o.START?"START":n._game_state==o.END?"END":n._game_state==o.Pause?"Pause":"--"},e(n,null,[{key:"_game_state",get:function(){return n.game_stat}}]),n}()).loaded=!1,r.loading_rate=0,r.curColorNum=4,r.GRID_HEIGHT_NUM=106,r.GRID_WIDTH_NUM=84,r.GRID_DEAD_ROW=85,r.BASE_CELL_NUMBER=24,r.CELL_SIZE=7,r.combo=0,r.game_stat=o.READY,r.ui_layer_action=void 0,r.win_coins=10,r.lose_coins_tools=100,r.bomb_coins_tools=50,r.target_coins_tools=50,r.watch_video_coins=20,r.gift_coins=100,r.new_player_default_coin=70,r.every_lvl_max_score=25001,r.open_sound=!0,r.is_new_player=!1,r.ad_intersitial_id="adunit-877b93ffa0735727",r.ad_video_id="adunit-66f14362012d3692",r.ad_banner_id=void 0,r.ad_custom_id=["adunit-e82fe192ca3ac3a1","adunit-5284a0c41694165b"],r.colors=[new s(255,0,0),new s(0,255,0),new s(0,0,247),new s(255,255,0),new s(202,202,202),new s(223,114,29),new s(0,255,255),new s(255,255,255),new s(209,124,196),new s(5,160,160)],r.directions=[[-1,-1],[0,-1],[1,-1],[-1,0],[1,0],[-1,1],[0,1],[1,1]],r.json_data='{\n    "types":[\n        {\n            "score":25,\n            "cells":      [\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,\n                0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,\n                0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,\n                0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,\n                0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,\n                0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,\n                0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,\n                0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,\n                0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,\n                0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,\n                0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,\n                0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,\n                0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,\n                0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,\n                0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,\n                0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\n                ]\n        },\n        {\n            "score":23,\n            "cells":    [\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]\n        },\n        {\n            "score":22,\n            "cells":  [\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]\n        },\n        {\n            "score":22,\n            "cells": [\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]\n        },\n        {\n            "score":22,\n            "cells": [\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\n                ]\n        },\n       {\n        "score":22,\n        "cells":  [\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n            0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n            0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n            0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n            0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n            0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n            0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,\n            1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n            1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n            1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n            1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n            1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n            1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n            1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]\n       },\n       {\n        \n            "score":21,\n            "cells":  [\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,\n                1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]\n       },\n       {\n        "score":21,\n        "cells":  [          \n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,\n            1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,\n            1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,\n            1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,\n            1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,\n            1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,\n            1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\n        ]\n       }\n       \n\n    ]\n\n}',i=r))||i);_._RF.pop()}}}));

System.register("chunks:///_virtual/GridGame.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,o,r,s,n,a,l,c,h,p,d,g,u,v,f,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,s=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,a=e._decorator,l=e.SpriteFrame,c=e.input,h=e.Input,p=e.Node,d=e.Sprite,g=e.UITransform,u=e.Vec3,v=e.tween,f=e.Color,S=e.Component}],execute:function(){var m,z,M,w,y;n._RF.push({},"7795aoPsfNF2IylZXdsmOJk","GridGame",void 0);var T=a.ccclass,I=a.property;e("GridGame",(m=T("GridGame"),z=I({type:l}),m((y=t((w=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return t=e.call.apply(e,[this].concat(s))||this,o(t,"gridImage",y,r(t)),t.gridSize=20,t.cellSize=30,t.gap=10,t.gridNodes=[],t.activeTweens=new Map,t.radius=100,t}i(t,e);var n=t.prototype;return n.start=function(){this.gridImage?(this.createGrid(),c.on(h.EventType.MOUSE_MOVE,this.onMouseMove,this)):console.error("请在编辑器中为 gridImage 赋值 SpriteFrame!")},n.createGrid=function(){for(var e=this.gridSize*(this.cellSize+this.gap)-this.gap,t=this.gridSize*(this.cellSize+this.gap)-this.gap,i=-e/2+this.cellSize/2,o=t/2-this.cellSize/2,r=0;r<this.gridSize;r++){this.gridNodes[r]=[];for(var s=0;s<this.gridSize;s++){var n=new p("Cell_"+r+"_"+s);n.parent=this.node;var a=i+s*(this.cellSize+this.gap),l=o-r*(this.cellSize+this.gap);n.setPosition(a,l,0);var c=n.addComponent(d);c.spriteFrame=this.gridImage,c.sizeMode=d.SizeMode.CUSTOM,n.addComponent(g).setContentSize(this.cellSize,this.cellSize),c.color.set(255,255,255,255),this.gridNodes[r][s]=n}}},n.onMouseMove=function(e){var t=this.node.getComponent(g);if(t){var i=e.getUILocation(),o=t.convertToNodeSpaceAR(new u(i.x,i.y,0));console.log("onMouseMove>>>",o),this.stopAllTweens();for(var r=0;r<this.gridSize;r++)for(var s=0;s<this.gridSize;s++){var n=this.gridNodes[r][s],a=n.getPosition();u.distance(o,a)<=this.radius&&this.startBlink(n)}}},n.onMouseLeave=function(e){this.stopAllTweens()},n.startBlink=function(e){if(!this.activeTweens.has(e)){var t=e.getComponent(d),i=v(t).to(.5,{color:new f(255,255,255,128)}).to(.5,{color:new f(255,255,255,255)}).union().repeatForever().start();this.activeTweens.set(e,i)}},n.stopAllTweens=function(){for(var e,t=s(this.activeTweens.entries());!(e=t()).done;){var i=e.value,o=i[0];i[1].stop(),o.getComponent(d).color.set(255,255,255,255)}this.activeTweens.clear()},n.onDestroy=function(){this.stopAllTweens(),c.off(h.EventType.MOUSE_MOVE,this.onMouseMove,this)},t}(S)).prototype,"gridImage",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=w))||M));n._RF.pop()}}}));

System.register("chunks:///_virtual/HomeAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourceManger.ts","./Enums.ts","./Global.ts","./EventsManager.ts","./WxPlatform.ts","./BytePlantform.ts","./BaseWindows.ts"],(function(e){var t,n,r,o,a,i,s,c,l,u,d,f,p,_,h,m,w,v,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,l=e.Sprite,u=e.Label},function(e){d=e.default},function(e){f=e.EventTyps,p=e.GAME_STATE,_=e.AssetType},function(e){h=e.Global},function(e){m=e.EventsManager},function(e){w=e.WxPlatform},function(e){v=e.BytePlantform},function(e){y=e.BaseWindows}],execute:function(){var g,b,A,x,E,S,R;s._RF.push({},"62aec4QD/FNrbU4o4PqTwd0","HomeAction",void 0);var T=c.ccclass,k=c.property;e("HomeAction",(g=T("HomeAction"),b=k(l),A=k(u),g((S=t((E=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,r(t,"load",S,o(t)),r(t,"ld_rate",R,o(t)),t.call_back=void 0,t}n(t,e);var s=t.prototype;return s.onLoad=function(){m.Ins.addListener(f.LOAD_ASSETS_OVER,this.loaded_completed,this)},s.start=function(){var e=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.show_windows=function(){var t=a(i().mark((function t(n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=null),this.set_window_name("HomeAction"),e.prototype.show_windows.call(this),this.call_back=n,w.ins.wechat_setting(),v.ins.bytedance_setting(),t.next=8,this.loadRes();case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.close_windows=function(){var t=a(i().mark((function t(n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.prototype.close_windows.call(this,n);case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.loadRes=function(){var e=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.instance.make_json_replace_config(),e.next=3,d.instance.load_bundle("remote",.2);case 3:return e.next=5,d.instance.load_resource("remote",_.Atlas,.1);case 5:return e.next=7,d.instance.load_resource("remote",_.Prefab,.3);case 7:return e.next=9,d.instance.load_resource("remote",_.Sound,.2);case 9:return e.next=11,d.instance.load_resource("remote",_.Ui,.2);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.loaded_completed=function(){h.loaded=!0;var e=this;this.scheduleOnce((function(){e.close_windows(p.READY),e.call_back()}),.5)},s.update=function(e){this.load.fillRange=h.loading_rate,this.ld_rate&&(this.ld_rate.string=Math.floor(100*h.loading_rate)+""),h.loading_rate>.99999&&(h.loading_rate=1),h.loading_rate>=1&&(m.Ins.dispatch(f.LOAD_ASSETS_OVER),m.Ins.removeListener(f.LOAD_ASSETS_OVER,this.loaded_completed,this))},t}(y)).prototype,"load",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(E.prototype,"ld_rate",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=E))||x));s._RF.pop()}}}));

System.register("chunks:///_virtual/LimitedCollect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TipsManagerAction.ts","./TipsAction.ts","./XStorage.ts","./EventsManager.ts","./Enums.ts"],(function(t){var e,i,o,n,a,s,l,r,c,u,h,d,p,m,f,g,C,_,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,l=t.Label,r=t.Button,c=t.Node,u=t.tween,h=t.Vec3,d=t.Animation,p=t.isValid,m=t.Component},function(t){f=t.TipsManagerAction},function(t){g=t.TIPS_TYPE},function(t){C=t.XStorage},function(t){_=t.EventsManager},function(t){v=t.EventTyps}],execute:function(){var y,T,I,L,S,D,w,A,E;a._RF.push({},"3799ed5yJNAErQuqnUYmZLn","LimitedCollect",void 0);var b=s.ccclass,B=s.property,U=6e5,M="LAST_COLLECT_DATE",N="DAILY_COLLECT_COUNT",O="LAST_COLLECT_TIME",R="USER_DIAMONDS";t("LimitedCollect",(y=b("LimitedCollect"),T=B(l),I=B(r),L=B(c),y((w=e((D=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,o(e,"statusLabel",w,n(e)),o(e,"collectButton",A,n(e)),o(e,"dou_2_animation_node",E,n(e)),e.userDiamonds=0,e.dailyCount=0,e.lastCollectTime=0,e}i(e,t);var a=e.prototype;return a.onLoad=function(){this.collectButton&&this.collectButton.node.on(r.EventType.CLICK,this.onCollectButtonClick,this)},a.start=function(){var t=this;this.node.active=!0,this.loadLocalData(),this.checkAndResetDailyData(),this.startUpdateLoop(),this.show_this_();var e=this;this.node.active&&this.scheduleOnce((function(){e.node.active&&u(t.node).to(.15,{scale:new h(2,2,2)}).to(.15,{scale:new h(1,1,1)}).call((function(){})).start()}),5)},a.onDestroy=function(){this.unschedule(this.updateUI)},a.padZero=function(t){return("0"+String(t)).slice(-2)},a.getFormattedDate=function(t){var e=t.getFullYear(),i=t.getMonth()+1,o=t.getDate();return e+"-"+this.padZero(i)+"-"+this.padZero(o)},a.loadLocalData=function(){this.userDiamonds=parseInt(localStorage.getItem(R)||"0"),this.dailyCount=parseInt(localStorage.getItem(N)||"0"),this.lastCollectTime=parseInt(localStorage.getItem(O)||"0"),0===this.lastCollectTime&&this.dailyCount>0&&(this.lastCollectTime=1)},a.checkAndResetDailyData=function(){var t=this.getFormattedDate(new Date);localStorage.getItem(M)!==t&&(this.dailyCount=0,this.lastCollectTime=0,localStorage.setItem(N,"0"),localStorage.setItem(O,"0"),localStorage.setItem(M,t),console.log("已跨天，每日领取次数重置。"))},a.startUpdateLoop=function(){this.schedule(this.updateUI,1),this.updateUI()},a.updateUI=function(){if(this.dailyCount>=6)this.setButtonState(!1,"领取");else{if(this.lastCollectTime>0){var t=Date.now()-this.lastCollectTime,e=U-t;if(e>1e3){var i=Math.ceil(e/1e3),o=Math.floor(i/60),n=i%60,a=this.padZero(o),s=this.padZero(n);return void this.setButtonState(!1,a+":"+s)}}if(this.setButtonState(!0,"领取"),this.dou_2_animation_node){var l=this.dou_2_animation_node.getComponent(d);l&&(l.once(d.EventType.FINISHED,(function(){}),this),l.play())}}},a.setButtonState=function(t,e){p(this.statusLabel)&&(this.statusLabel.string=e)},a.show_this_=function(){var t=this;if(this.dailyCount>=6){var e=this.node.position;u(this.node).to(.15,{position:new h(e.x+300,e.y,1)}).call((function(){t.node.active=!1})).start()}else t.node.active=!0},a.onCollectButtonClick=function(){if(this.dailyCount>=6)return f.show("明天再来哦",g.WARN),void this.show_this_();var t=Date.now();this.lastCollectTime>0&&t-this.lastCollectTime<U?f.show("等一会别急",g.WARN):(this.userDiamonds+=10,this.dailyCount+=1,this.lastCollectTime=t,localStorage.setItem(R,this.userDiamonds.toString()),localStorage.setItem(N,this.dailyCount.toString()),localStorage.setItem(O,this.lastCollectTime.toString()),C.record_coins(C.get_cur_coins()+10),_.Ins.dispatch(v.UPDATE_COIN),this.updateUI(),this.show_this_())},e}(m)).prototype,"statusLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(D.prototype,"collectButton",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(D.prototype,"dou_2_animation_node",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=D))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/LoseAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseWindows.ts","./XStorage.ts","./EventsManager.ts","./Enums.ts","./Global.ts","./LoseContent_1_Action.ts","./LoseContent_2_Action.ts","./AreaData.ts"],(function(t){var n,e,o,i,s,c,r,a,_,l,u,h,p,f,w,d,g,b,y,v;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,s=t.asyncToGenerator,c=t.regeneratorRuntime},function(t){r=t.cclegacy,a=t._decorator,_=t.Node,l=t.UIOpacity,u=t.tween},function(t){h=t.BaseWindows},function(t){p=t.XStorage},function(t){f=t.EventsManager},function(t){w=t.GAME_STATE,d=t.EventTyps},function(t){g=t.Global},function(t){b=t.LoseContent_1_Action},function(t){y=t.LoseContent_2_Action},function(t){v=t.AreaData}],execute:function(){var A,m,E,L,D,T,C,M,S;r._RF.push({},"d3aafJMF9NESb9HYi/uvnj0","LoseAction",void 0);var z=a.ccclass,G=a.property;t("LoseAction",(A=z("LoseAction"),m=G(b),E=G(y),L=G(_),A((C=n((T=function(t){function n(){for(var n,e=arguments.length,s=new Array(e),c=0;c<e;c++)s[c]=arguments[c];return(n=t.call.apply(t,[this].concat(s))||this).random_coins=0,o(n,"content_1",C,i(n)),o(n,"content_2",M,i(n)),o(n,"bg_node",S,i(n)),n}e(n,t);var r=n.prototype;return r.start=function(){},r.update=function(t){},r.show_windows=function(){t.prototype.show_windows.call(this),this.bg_node&&(this.bg_node.getComponent(l).opacity=255),this.content_2.close_content(),this.content_1.show_content(this),this.content=this.content_1.node,this.show_content_tween()},r.show_content_2=function(){this.content_1.close_content(),this.content_2.show_content(this),this.content=this.content_2.node,this.show_content_tween(),g.set_game_state(w.END,"LoseAction")},r.close_windows=function(n){t.prototype.close_windows.call(this,n)},r.waitTime=function(t){var n=this;return new Promise((function(e,o){n.scheduleOnce((function(){e(!0)}),t)}))},r.show_content_3=function(){var t=s(c().mark((function t(){var n,e,o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p.record_cur_lvl(0),p.record_score(0),n=this,this.content_1.close_content(),this.content_2.close_content(),this.bg_node&&(e=this.bg_node.getComponent(l),u(e).to(.5,{opacity:50}).start()),o=Date.now(),t.next=9,v.getIns().restart_clean_block_clean_cells();case 9:console.log("lost action times:",Date.now()-o),n.close_windows(w.END),f.Ins.dispatch(d.RESTART_GAME);case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n}(h)).prototype,"content_1",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=n(T.prototype,"content_2",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=n(T.prototype,"bg_node",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=T))||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/LoseContent_1_Action.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./AudioManager.ts","./EventsManager.ts","./Enums.ts","./XStorage.ts","./AdManger.ts","./TipsManagerAction.ts","./TipsAction.ts"],(function(t){var n,i,o,e,c,a,s,r,_,l,f,u,h,p,d,m,v,b,g;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){c=t.cclegacy,a=t._decorator,s=t.Label,r=t.Node,_=t.Animation,l=t.Component},function(t){f=t.Global},function(t){u=t.AudioManager},function(t){h=t.EventsManager},function(t){p=t.EventTyps,d=t.GAME_STATE},function(t){m=t.XStorage},function(t){v=t.AdManger},function(t){b=t.TipsManagerAction},function(t){g=t.TIPS_TYPE}],execute:function(){var y,A,w,T,E,L,M,C,S;c._RF.push({},"93b46rG1qVM5Izzar/5tsSL","LoseContent_1_Action",void 0);var z=a.ccclass,I=a.property;t("LoseContent_1_Action",(y=z("LoseContent_1_Action"),A=I(s),w=I(s),T=I(r),y((M=n((L=function(t){function n(){for(var n,i=arguments.length,c=new Array(i),a=0;a<i;a++)c[a]=arguments[a];return n=t.call.apply(t,[this].concat(c))||this,o(n,"time",M,e(n)),o(n,"coin_label",C,e(n)),o(n,"close_btn_node",S,e(n)),n.root=void 0,n.effect_animation=void 0,n}i(n,t);var c=n.prototype;return c.start=function(){},c.update=function(t){},c.cur_=function(t){u.instance.play_shot("ztime")},c.close_content=function(){this.node.active=!1},c.show_content=function(t){var n=this;this.coin_label.string=f.lose_coins_tools+"",this.root=t,this.node.active=!0,this.effect_animation=this.node.getComponent(_);var i=this;this.effect_animation&&(this.effect_animation.once(_.EventType.FINISHED,(function(t){console.log("倒计时结束",t),i.effect_animation=null,n.root.show_content_2()}),this),this.effect_animation.play()),this.close_btn_node.active=!1,this.scheduleOnce((function(){i.close_btn_node.active=!0}),1)},c.on_click_close=function(){this.effect_animation&&(this.effect_animation.stop(),this.effect_animation=null),this.root.show_content_2()},c.on_click_continue_by_video=function(){var t=this;this.effect_animation&&this.effect_animation.pause();var n=this;v.show_video((function(i){1==i?(console.log("on_click_continue_by_video 获取奖励成功"),b.show("获取奖励成功",g.OK),n.reward()):(b.show("获取奖励失败",g.WARN),t.effect_animation&&(t.effect_animation.play(),console.log("看视频失败，继续播放")))}))},c.on_click_continue_by_coin=function(){this.effect_animation&&this.effect_animation.pause();var t=this,n=m.get_cur_coins()-f.lose_coins_tools;if(n<0)return console.log("lose 界面  使用道具，不够钱"),void f.ui_layer_action.show_win("VideoTips",(function(){t.effect_animation&&t.effect_animation.play()}));m.record_coins(n),h.Ins.dispatch(p.UPDATE_COIN),this.reward()},c.reward=function(){this.root.close_windows(d.START),this.effect_animation&&(this.effect_animation.stop(),this.effect_animation=null),h.Ins.dispatch(p.EVENT_CLEAR_ALL_CELLS)},n}(l)).prototype,"time",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=n(L.prototype,"coin_label",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=n(L.prototype,"close_btn_node",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=L))||E));c._RF.pop()}}}));

System.register("chunks:///_virtual/LoseContent_2_Action.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./XStorage.ts","./Global.ts"],(function(t){var e,n,o,r,i,c,s,a,u,l,_,p,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized,i=t.asyncToGenerator,c=t.regeneratorRuntime},function(t){s=t.cclegacy,a=t._decorator,u=t.Label,l=t.Component},function(t){_=t.AudioManager},function(t){p=t.XStorage},function(t){f=t.Global}],execute:function(){var h,v,b,g,y,d,m;s._RF.push({},"636bfkFXHxPu6694FXSImNb","LoseContent_2_Action",void 0);var w=a.ccclass,A=a.property;t("LoseContent_2_Action",(h=w("LoseContent_2_Action"),v=A(u),b=A(u),h((d=e((y=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i))||this,o(e,"cur_score",d,r(e)),o(e,"best_score",m,r(e)),e.root=void 0,e}n(e,t);var s=e.prototype;return s.start=function(){},s.update=function(t){},s.close_content=function(){this.node.active=!1},s.show_content=function(t){this.root=t,this.node.active=!0;var e=f.every_lvl_max_score;this.cur_score.string=p.get_cur_score()+e*p.get_cur_lvl()+"",this.best_score.string=p.get_best_score()+e*p.get_history_lvl()+"",_.instance.play_shot("over")},s.on_click_restart=function(){var t=i(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_.instance.play_shot("btn_1"),this.root.show_content_3();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(l)).prototype,"cur_score",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=e(y.prototype,"best_score",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=y))||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/LotteryAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseWindows.ts","./TipsManagerAction.ts","./TipsAction.ts","./XStorage.ts","./EventsManager.ts","./Enums.ts","./AudioManager.ts"],(function(t){var e,n,i,a,o,r,l,s,c,u,p,d,b,g,h,f,_,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,l=t.Node,s=t.Label,c=t.math,u=t.tween},function(t){p=t.BaseWindows},function(t){d=t.TipsManagerAction},function(t){b=t.TIPS_TYPE},function(t){g=t.XStorage},function(t){h=t.EventsManager},function(t){f=t.EventTyps,_=t.GAME_STATE},function(t){y=t.AudioManager}],execute:function(){var T,R,A,v,m,w,E,H,z,S,I,D,N,F,L,M,O,P,k;o._RF.push({},"f7c22VtWiRCz4yMrD9DX24G","LotteryAction",void 0);var C=r.ccclass,G=r.property,X=function(t){return t[t.FIRST=1]="FIRST",t[t.SECOND=2]="SECOND",t[t.THIRD=3]="THIRD",t[t.FOURTH=4]="FOURTH",t[t.FIFTH=5]="FIFTH",t[t.SIXTH=6]="SIXTH",t[t.SEVENTH=7]="SEVENTH",t[t.EIGHTH=8]="EIGHTH",t}(X||{}),U=[{type:X.FIRST,name:"一等奖",centerAngle:22.5,data:20},{type:X.SECOND,name:"二等奖",centerAngle:67.5,data:30},{type:X.THIRD,name:"三等奖",centerAngle:112.5,data:40},{type:X.FOURTH,name:"四等奖",centerAngle:157.5,data:50},{type:X.FIFTH,name:"五等奖",centerAngle:202.5,data:60},{type:X.SIXTH,name:"六等奖",centerAngle:247.5,data:70},{type:X.SEVENTH,name:"七等奖",centerAngle:292.5,data:80},{type:X.EIGHTH,name:"八等奖",centerAngle:337.5,data:90}];t("LotteryAction",(T=C("LotteryAction"),R=G({type:l,tooltip:"实际进行旋转的转盘节点 (例如：Turntable Sprite)"}),A=G({type:l,tooltip:"点击抽奖的按钮节点"}),v=G({type:l,tooltip:"点击抽奖的按钮节点"}),m=G({type:s,tooltip:"显示最终中奖结果的 Label 组件"}),w=G({type:[l],tooltip:"转盘上 8 个奖项的文字节点 (按1-8等奖顺序)"}),E=G({slide:!0,range:[100,300,10],step:10,tooltip:"奖项文字距离转盘中心的径向距离"}),H=G({slide:!0,range:[3,5,1],step:1,tooltip:"转盘至少旋转的圈数"}),z=G({slide:!0,range:[2.5,5,.1],step:.1,tooltip:"转盘旋转总时长 (秒)"}),T((D=e((I=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,i(e,"turntableNode",D,a(e)),i(e,"btn_lottery",N,a(e)),i(e,"btn_close",F,a(e)),i(e,"resultLabel",L,a(e)),i(e,"prizeTextNodes",M,a(e)),i(e,"radialDistance",O,a(e)),i(e,"minRotationRounds",P,a(e)),i(e,"rotationDuration",k,a(e)),e.isRotating=!1,e.call_back=void 0,e}n(e,t);var o=e.prototype;return o.start=function(){this.update_button(),this.initializePrizeLabels()},o.initializePrizeLabels=function(){for(var t=0;t<U.length;t++){var e=this.prizeTextNodes[t],n=U[t],i=e.getComponent(s);i&&(i.string=n.data+"",i.horizontalAlign=s.HorizontalAlign.CENTER,i.verticalAlign=s.VerticalAlign.CENTER,i.fontSize=30,i.isBold=!0);var a=c.toRadian(n.centerAngle),o=this.radialDistance*Math.cos(a),r=this.radialDistance*Math.sin(a);e.setPosition(o,r);var l=n.centerAngle-90;l<0&&(l+=360),e.angle=l}},o.on_start_lottery=function(){if(!this.isRotating){this.isRotating=!0;var t=this.simulatePrizeResult(),e=this.turntableNode.angle,n=this.calculateTargetAngle(t,e);this.runRotation(n,t)}},o.calculateTargetAngle=function(t,e){var n=90-U[t-1].centerAngle;n<0&&(n+=360);var i=n-e%360;return i<=0&&(i+=360),360*this.minRotationRounds+i},o.simulatePrizeResult=function(){return Math.floor(8*Math.random())+1},o.runRotation=function(t,e){var n=this;u(this.turntableNode).by(this.rotationDuration,{angle:t},{easing:"quadInOut"}).call((function(){n.onRotationFinished(e)})).start()},o.onRotationFinished=function(t){this.isRotating=!1;var e=this.turntableNode.angle;this.turntableNode.angle=e%360;var n=U[t-1].data;d.show("恭喜哦😄",b.OK),g.record_coins(g.get_cur_coins()+n),g.recode_last_lottery_date(),h.Ins.dispatch(f.RERUSH_SHOW_GG),h.Ins.dispatch(f.UPDATE_COIN),this.update_button()},o.update_button=function(){g.check_can_lottery()?(this.btn_lottery.active=!0,this.resultLabel.node.active=!1):(this.btn_lottery.active=!1,this.resultLabel.node.active=!0)},o.show_windows=function(e){void 0===e&&(e=null),t.prototype.show_windows.call(this),this.call_back=e,this.update_button(),this.btn_close&&(this.btn_close.active=!0)},o.close_windows=function(e){t.prototype.close_windows.call(this,e)},o.on_click_btn_continue=function(){y.instance.play_shot("btn_1"),this.close_windows(_.START);var t=this;t.call_back&&(t.call_back(),t.call_back=null),this.btn_close&&(this.btn_close.active=!1)},e}(p)).prototype,"turntableNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(I.prototype,"btn_lottery",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(I.prototype,"btn_close",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(I.prototype,"resultLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(I.prototype,"prizeTextNodes",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=e(I.prototype,"radialDistance",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),P=e(I.prototype,"minRotationRounds",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),k=e(I.prototype,"rotationDuration",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3.5}}),S=I))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AreaData.ts","./AudioManager.ts","./BaseWindows.ts","./BlockAction.ts","./BombAction.ts","./BottomAction.ts","./CellAction.ts","./CoinLayerAction.ts","./ColorAction.ts","./Enums.ts","./EventsManager.ts","./Global.ts","./GridGame.ts","./HomeAction.ts","./LimitedCollect.ts","./LoseAction.ts","./LoseContent_1_Action.ts","./LoseContent_2_Action.ts","./LotteryAction.ts","./MainAction.ts","./NewPlayerAction.ts","./NumberAction.ts","./NumberTexture.ts","./Position.ts","./ResourceManger.ts","./ResourcePool.ts","./ScoreAction.ts","./ScoreEffectsAction.ts","./ScoreLayerAction.ts","./SettingAction.ts","./SiderAction.ts","./SilderManager.ts","./TargetAction.ts","./TempData.ts","./TipsAction.ts","./TipsManagerAction.ts","./Tools.ts","./ToolsColor.ts","./UILayerAction.ts","./VideoTipsAction.ts","./WinAction.ts","./XStorage.ts","./AdManger.ts","./BytePlantform.ts","./WxPlatform.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tools.ts","./Global.ts","./ResourcePool.ts","./BlockAction.ts","./EventsManager.ts","./Enums.ts","./CellAction.ts","./AreaData.ts","./NewPlayerAction.ts","./XStorage.ts","./TempData.ts","./TipsAction.ts","./TipsManagerAction.ts","./AudioManager.ts"],(function(e){var t,n,r,a,o,i,s,c,_,l,u,h,p,f,g,d,b,v,m,k,w,y,I,x,R,E,A,T,D,S,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.asyncToGenerator,i=e.regeneratorRuntime,s=e.createForOfIteratorHelperLoose},function(e){c=e.cclegacy,_=e._decorator,l=e.Node,u=e.Prefab,h=e.Vec3,p=e.Vec2,f=e.tween,g=e.Component},function(e){d=e.Tools},function(e){b=e.Global},function(e){v=e.ResourcePool},function(e){m=e.BlockAction},function(e){k=e.EventsManager},function(e){w=e.EventTyps,y=e.GAME_STATE},function(e){I=e.CellAction},function(e){x=e.AreaData},function(e){R=e.NewPlayerAction},function(e){E=e.XStorage},function(e){A=e.TempDataCell,T=e.TempDataBlock},function(e){D=e.TIPS_TYPE},function(e){S=e.TipsManagerAction},function(e){L=e.AudioManager}],execute:function(){var O,P,G,M,H,C,N,U,W,Y,z,B,F;c._RF.push({},"17133iap3ZKnq6nWby2Z96e","MainAction",void 0);var V=_.ccclass,Z=_.property;e("MainAction",(O=V("MainAction"),P=Z(l),G=Z(l),M=Z(R),H=Z(u),C=Z(l),O((W=t((U=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,r(t,"top_node",W,a(t)),r(t,"bottom_node",Y,a(t)),r(t,"new_plyer_action",z,a(t)),r(t,"home_prefab",B,a(t)),t.loop_times=-1,r(t,"gg_node",F,a(t)),t.loaded_storage_game_data=!1,t.same_cell_arr=[],t.save_time=0,t}n(t,e);var c=t.prototype;return c.onLoad=function(){k.Ins.addListener(w.DRAG_ONE_OVER,this.on_drop_over,this),k.Ins.addListener(w.RESTART_GAME,this.restart_game,this),k.Ins.addListener(w.PLAY_START_TWEEN,this.play_start_tween,this),k.Ins.addListener(w.RERUSH_SHOW_GG,this.rerush_gg,this),k.Ins.addListener(w.UPGRADE_LVL,this.upgrade_lvl,this)},c.start=function(){var e=this;v.instance.set_prefab("Home",this.home_prefab),b.ui_layer_action.show_win("Home",(function(){x.getIns().init_game_once(),b.init_once(),e.restart_game()}))},c.restart_game=function(){var e=o(i().mark((function e(){var t=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.set_game_state(y.READY,"Main"),this.play_start_tween(),e.next=4,x.getIns().clean_game().then((function(e){console.log("restart clean_game return data"),x.getIns().set_area_cells(d.createNullMatrix(b.GRID_HEIGHT_NUM,b.GRID_WIDTH_NUM)),t.loaded_storage_game_data?t.create_3_block():t.init_load_game_data(),k.Ins.dispatch(w.ROLL_UPDATE_SCORE),k.Ins.dispatch(w.SYN_COIN),k.Ins.dispatch(w.RERUSH_SHOW_GG),b.set_game_state(y.START,"Main"),S.show("开始游戏",D.OK),L.instance.play_shot("ding")}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.init_load_game_data=function(){var e=this;this.loaded_storage_game_data=!0,E.load_cells().forEach((function(t){var n=t.color,r=t.dark;v.instance.create_by_Pool("Cell",h.ZERO,e.node).then((function(e){var a=e.getComponent(I);a&&a.init_cell(n,r);var o=new p(t.y,t.x);a.set_target_pos(o),a.add_to_game_area()}))}));var t=E.load_blocks();t.length>0?t.forEach((function(e){var t=e.index,n=e.block_type,r=e.colors,a=x.getIns().block_arr[t];v.instance.create_by_Pool("Block",a.getWorldPosition(),a).then((function(e){var t=e.getComponent(m);t&&t.temp_to_all_block(n,r)}))})):this.create_3_block()},c.play_start_tween=function(){this.top_node.setPosition(0,150,0),this.bottom_node.setPosition(0,-250,0),f(this.top_node).to(.6,{position:h.ZERO},{easing:"circOut"}).call((function(){})).start(),f(this.bottom_node).to(.9,{position:h.ZERO},{easing:"circOut"}).call((function(){})).start()},c.create_3_block=function(){var e=o(i().mark((function e(){var t,n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<x.getIns().block_arr.length)){e.next=9;break}return e.next=4,this.create_1_block(x.getIns().block_arr[t],t);case 4:return e.next=6,x.getIns().waitTime(0);case 6:t++,e.next=1;break;case 9:b.is_new_player&&this.scheduleOnce((function(){n.new_plyer_action.show_finger(x.getIns().block_arr[0].worldPosition.clone())}),1);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.create_1_block=function(){var e=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){v.instance.create_by_Pool("Block",t.getWorldPosition(),t).then((function(t){var r=t.getComponent(m);r&&r.init_block(n),e(r)})).catch((function(e){console.log(e),r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),c.update=function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b._game_state!=y.START||x.isClearing){e.next=11;break}return e.next=3,this.update_logic();case 3:return e.next=5,this.update_logic();case 5:return e.next=7,this.update_logic();case 7:return e.next=9,this.update_logic();case 9:return e.next=11,this.update_tween(t);case 11:if(b._game_state!=y.START||x.isClearing){e.next=14;break}return e.next=14,this.update_save(t);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),c.update_tween=function(){var e=o(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=x.getIns().get_area_cells(),r=s(n);!(a=r()).done;)(o=a.value)&&o.forEach((function(e){e&&e.refresh_tween(t)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.update_logic=function(){var e=o(i().mark((function e(){var t,n,r,a,o,s,c,_;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=x.getIns().get_area_cells(),n=b.GRID_HEIGHT_NUM,r=b.GRID_WIDTH_NUM,a=Math.ceil(r/2),o=!1,s=n-1;s>=0;s--)for(c=0;c<a;c++)(_=t[s][c])&&_.update_pos()&&(o=!0),(_=t[s][r-c-1])&&_.update_pos()&&(o=!0);if(o?(this.loop_times=7,this.unschedule(this.check_over)):this.loop_times>=0&&this.loop_times--,0!=this.loop_times){e.next=15;break}return e.next=10,this.check_color();case 10:if(!e.sent){e.next=14;break}this.unschedule(this.check_over),e.next=15;break;case 14:this.scheduleOnce(this.check_over,1);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.check_over=function(){for(var e=x.getIns().get_area_cells()[b.GRID_HEIGHT_NUM-b.GRID_DEAD_ROW],t=e.length,n=!1,r=0;r<t;r++)if(e[r]){console.log("游戏结束----------------------------------------"),n=!0;break}n&&b.ui_layer_action.show_win("Lose")},c.add_same_color_cell=function(e){var t=e.color;this.same_cell_arr[t]||(this.same_cell_arr[t]=[]);var n=this.same_cell_arr[t];n.indexOf(e)<0&&d.insertArr(n,e)},c.check_color=function(){var e=o(i().mark((function e(){var t,n,r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=x.getIns().get_area_cells())&&0!=t.length){e.next=3;break}return e.abrupt("return",!1);case 3:if(t.forEach((function(e){e.forEach((function(e){e&&(e.isFinded=!1)}))})),this.same_cell_arr=[],!(n=d.getRowsByArr(t,0))){e.next=25;break}r=n.length,a=!1,o=0;case 10:if(!(o<r)){e.next=23;break}if(!(s=n[o])){e.next=20;break}if(s.isFinded){e.next=20;break}return this.same_cell_arr=[],s.find_by_color_(this),e.next=18,this.check_col();case 18:e.sent&&(a=!0);case 20:o++,e.next=10;break;case 23:if(!a){e.next=25;break}return e.abrupt("return",!0);case 25:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.reset_combo=function(){b.combo=0},c.check_col=function(){var e=o(i().mark((function e(){var t,n,r,a,o,c,_,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.same_cell_arr){e.next=24;break}t=b.GRID_WIDTH_NUM,n=s(this.same_cell_arr);case 3:if((r=n()).done){e.next=24;break}if(a=r.value){e.next=7;break}return e.abrupt("continue",22);case 7:o=s(a);case 8:if((c=o()).done){e.next=22;break}if(!(_=c.value)||_.pos[0]!=t-1){e.next=20;break}return a.sort((function(e,n){return e.pos[0]*t+e.pos[1]>n.pos[0]*t+n.pos[1]?-1:1})),l=a.length,b.combo++,k.Ins.dispatch(w.SHOW_FLY_SCORE_by_score,l,[_.color]),this.unschedule(this.check_over),k.Ins.dispatch(w.CLEAR_CELLS,a),this.unschedule(this.reset_combo),this.scheduleOnce(this.reset_combo,5),e.abrupt("return",!0);case 20:e.next=8;break;case 22:e.next=3;break;case 24:return e.abrupt("return",!1);case 25:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.on_drop_over=function(e,t){b.is_new_player&&(b.set_old_player(),this.new_plyer_action.hide());for(var n=0,r=0;r<x.getIns().block_arr.length;r++)n+=x.getIns().block_arr[r].children.length;0==n&&this.create_3_block(),this.save_time=5},c.update_save=function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.save_time+=t,!(this.save_time<5)){e.next=3;break}return e.abrupt("return");case 3:this.save_time=0,this.save_area_data();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),c.save_area_data=function(){for(var e=x.getIns().get_area_cells(),t=[],n=0;n<e.length;n++)for(var r=e[n],a=0;a<r.length;a++){var o=r[a];o&&t.push(new A(n,a,o.color,o.is_dark))}E.save_cells(t);for(var i=[],s=0;s<x.getIns().block_arr.length;s++)if(x.getIns().block_arr[s].children.length>0){var c=x.getIns().block_arr[s].children[0].getComponent(m),_=c.block_type_index,l=c.block_color_arr;i.push(new T(s,_,l))}E.save_blocks(i)},c.rerush_gg=function(){this.gg_node&&(E.check_can_lottery()?this.gg_node.active=!0:this.gg_node.active=!1)},c.upgrade_lvl=function(){k.Ins.dispatch(w.RERUSH_SHOW_GG)},c.on_click_lottery=function(){b.ui_layer_action.show_win("Lottery")},c.test_lose_windows=function(){b.ui_layer_action.show_win("Lose")},c.test_win_windows=function(){b.ui_layer_action.show_win("Win"),k.Ins.dispatch(w.UPGRADE_LVL)},c.on_click_setting=function(){b.ui_layer_action.show_win("Setting")},c.on_click_video_tips=function(){b.ui_layer_action.show_win("VideoTips")},c.test_save=function(){for(var e=x.getIns().get_area_cells(),t=[],n=0;n<e.length;n++)for(var r=e[n],a=0;a<r.length;a++){var o=r[a];o&&t.push(new A(n,a,o.color,o.is_dark))}E.save_cells(t);for(var i=[],s=0;s<x.getIns().block_arr.length;s++)if(x.getIns().block_arr[s].children.length>0){var c=x.getIns().block_arr[s].children[0].getComponent(m),_=c.block_type_index,l=c.block_color_arr;i.push(new T(s,_,l))}E.save_blocks(i)},c.test_import=function(){},c.test_tips=function(){var e=E.get_last_lottery_date();console.log("tips d>",null==e,e)},c.test_show_game_state=function(){var e="";e=b._game_state==y.READY?"READY":b._game_state==y.START?"START":b._game_state==y.END?"END":b._game_state==y.Pause?"Pause":"--",console.log("game status :",e)},c.test_upgrade=function(){var e=E.get_cur_lvl();E.record_cur_lvl(e+1),k.Ins.dispatch(w.ROLL_UPDATE_SCORE),k.Ins.dispatch(w.SYN_COIN)},t}(g)).prototype,"top_node",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(U.prototype,"bottom_node",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(U.prototype,"new_plyer_action",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(U.prototype,"home_prefab",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(U.prototype,"gg_node",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=U))||N));c._RF.pop()}}}));

System.register("chunks:///_virtual/NewPlayerAction.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,r,o,s,a,c,l,f,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,a=t.Node,c=t.Tween,l=t.UITransform,f=t.tween,u=t.Component}],execute:function(){var p,h,g,d,v;o._RF.push({},"ed736X/SkxJvJpaTCC91wSR","NewPlayerAction",void 0);var y=s.ccclass,w=s.property;t("NewPlayerAction",(p=y("NewPlayerAction"),h=w(a),p((v=e((d=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,n(e,"finger",v,r(e)),e.targetPos=void 0,e}i(e,t);var o=e.prototype;return o.start=function(){this.targetPos=this.finger.worldPosition.clone(),this.finger.active=!1},o.update=function(t){},o.hide=function(){c.stopAllByTarget(this.finger),this.node.active=!1,this.finger.active=!1},o.show_finger=function(t){this.node.active=!0,this.finger.active=!0;var e=this.finger.getComponent(l).contentSize;return t.x+=.5*e.x,t.y-=.5*e.y,this.node.active=!0,c.stopAllByTarget(this.finger),this.node.setWorldPosition(t),f(this.finger).to(.8,{worldPosition:this.targetPos}).to(.8,{worldPosition:t}).union().repeatForever().start(),!0},e}(u)).prototype,"finger",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=d))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/NumberAction.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var t,e,i,n,o,u,l,s;return{setters:[function(r){t=r.applyDecoratedDescriptor,e=r.inheritsLoose,i=r.initializerDefineProperty,n=r.assertThisInitialized},function(r){o=r.cclegacy,u=r._decorator,l=r.tween,s=r.Label}],execute:function(){var a,c,b,h;o._RF.push({},"012e4HpGLpI9ryT1qpmBmLe","NumberAction",void 0);var m=u.ccclass,g=u.property;r("NumberAction",m("NumberAction")((b=t((c=function(r){function t(){for(var t,e=arguments.length,o=new Array(e),u=0;u<e;u++)o[u]=arguments[u];return t=r.call.apply(r,[this].concat(o))||this,i(t,"targetNumber",b,n(t)),i(t,"rollSpeed",h,n(t)),t._currentNumber=0,t._isRolling=!1,t}e(t,r);var o=t.prototype;return o.startRoll=function(){this._isRolling||(this._isRolling=!0,this._rollToTargetNumber())},o._rollToTargetNumber=function(){for(var r=this.targetNumber>this._currentNumber?1:-1,t=Math.ceil(Math.abs(this.targetNumber-this._currentNumber)/this.rollSpeed),e=0;e<t;e++)if(this._currentNumber+=r,this.string=this._currentNumber.toString(),this._currentNumber>=this.targetNumber){this._currentNumber=this.targetNumber,this.string=this.targetNumber.toString(),this._isRolling=!1;break}this._isRolling&&l(this).delay(.05).call(this._rollToTargetNumber.bind(this)).start()},t}(s)).prototype,"targetNumber",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=t(c.prototype,"rollSpeed",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),a=c))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/NumberTexture.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,n,o,c,u,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,u=e.RichText,a=e.Component}],execute:function(){var s,l,p,f,h;o._RF.push({},"2d887MD67BLOKBm3K4tAKa5","NumberTexture",void 0);var m=c.ccclass,x=c.property;e("NumberTexture",(s=m("NumberTexture"),l=x(u),s((h=t((f=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,i(t,"richText",h,n(t)),t}r(t,e);var o=t.prototype;return o.start=function(){},o.update=function(e){},o.setNum=function(e){for(var t=(e+"").split(""),r="",i=0;i<t.length;i++)r+='<img src="'+t[i]+'"/>';this.richText.string=r},t}(a)).prototype,"richText",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/Position.ts",["cc"],(function(){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"2d6ddj/LhZNn7DajTtw+3a2","Position",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceManger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enums.ts","./Global.ts","./ResourcePool.ts","./AudioManager.ts"],(function(n){var e,t,r,o,a,s,i,c,u;return{setters:[function(n){e=n.createClass,t=n.asyncToGenerator,r=n.regeneratorRuntime},function(n){o=n.cclegacy,a=n.assetManager},function(n){s=n.AssetType},function(n){i=n.Global},function(n){c=n.ResourcePool},function(n){u=n.AudioManager}],execute:function(){o._RF.push({},"37753Pvwx5Oc6PYZBSpgeAn","ResourceManger",void 0),n("default",function(){function n(){this.bundle_map={},this.clip_map={},this._atlasMap={},this._json_config={},this._uiMap={}}var o=n.prototype;return o.load_bundle=function(){var n=t(r().mark((function n(e,t){var o=this;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return void 0===t&&(t=0),n.abrupt("return",new Promise((function(n,r){a.loadBundle(e,(function(r,a){r?console.error(e+" --------------------------load errors>>>",r):(o.bundle_map[e]=a,i.loading_rate=i.loading_rate+t,n&&n())}))})));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),o.load_resource=function(){var n=t(r().mark((function n(e,t,o){var a,l=this;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return void 0===o&&(o=0),a=[],n.abrupt("return",new Promise((function(n,r){l.bundle_map[e].loadDir(t.path,t.type,(function(n,e){var t=o*n/e;a.push(t),1==a.length?i.loading_rate=i.loading_rate+t:i.loading_rate=i.loading_rate+(a[a.length-1]-a[a.length-2])}),(function(r,o){try{r?(console.error("load_resource error >>>",e+">>"+t.path," err>",r,"assets>",o),n&&n()):(null==o||o.forEach((function(n){switch(t){case s.Prefab:c.instance.set_prefab(n.data.name,n);break;case s.Sound:l.clip_map[n.name]=n,u.instance.add_clip(n.name,n);break;case s.Ui:l._uiMap[n.name]=n;break;case s.Atlas:l._atlasMap[n.name]||(l._atlasMap[n.name]=n);break;case s.Json:l._json_config[n.name]||(l._json_config[n.name]=n.json)}})),n&&n())}catch(n){console.log("catch:",e+">>"+t.path+"loaded error:",n)}}))})));case 3:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}(),o.get_clip=function(n){return this.clip_map[n]},o.get_ui=function(n){return this._uiMap[n]},o.get_data_type=function(n){console.log("get_json 2>>>",this._json_config),console.log("get_json 3>>>",this._json_config.config.types);var e=this._json_config.config.types;e.forEach((function(n){console.log("element.cells >>>",n.cells)})),console.log("types_arr[1]>>> ",e[1].cells)},o.get_data_type_length=function(){return this._json_config.config.types.length},o.get_data_type_cells=function(n){return this._json_config.config.types[n].cells},o.get_data_type_score=function(n){return this._json_config.config.types[n].score},o.get_println_config=function(){console.log("get_println_config"),console.log(this._json_config)},o.get_spriteframe=function(n){return this._atlasMap.comboNumber.getSpriteFrame(n)},o.setSpriteFromAtlas=function(){var n=t(r().mark((function n(e,t){var o=this;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,r){var a=o.get_spriteframe(e);t.spriteFrame=a,n(t)})));case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),o.setSpriteFromUI=function(){var n=t(r().mark((function n(e,t){var o=this;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,r){var a=o.get_ui(e);t.spriteFrame=a,n(t)})));case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),o.make_json_replace_config=function(){var n=t(r().mark((function n(){var e;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=JSON.parse(i.json_data),this._json_config.config=e;case 2:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),e(n,null,[{key:"instance",get:function(){return this.rm||(this.rm=new n),this.rm}}]),n}()).rm=null,o._RF.pop()}}}));

System.register("chunks:///_virtual/ResourcePool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tools.ts"],(function(e){var o,t,r,n,i;return{setters:[function(e){o=e.createClass},function(e){t=e.cclegacy,r=e._decorator,n=e.instantiate},function(e){i=e.Tools}],execute:function(){var s,a;t._RF.push({},"462ccl/oSpNGZml32AtZZ4v","ResourcePool",void 0);var c=r.ccclass;r.property,e("ResourcePool",c("ResourcePool")(((a=function(){function e(){this.prefab_pool={},this._poolRemoveNode=new Map,this._poolActive=new Map}var t=e.prototype;return t.set_prefab=function(e,o){this.prefab_pool[e]=o},t.get_prefab=function(e){return this.prefab_pool[e]},t.create_by_Pool=function(e,o,t,r){var n=this;return void 0===r&&(r=!0),new Promise((function(s,a){var c,p=n._poolRemoveNode.get(e),l=n._poolActive.get(e);l||(l=[],n._poolActive.set(e,l)),p&&p.length>0?(c=p.shift(),l.indexOf(c)<0&&i.insertArr(l,c),c.active=!0,c.setParent(t,r),c.setWorldPosition(o),s(c)):n.create_new_node(e,o,t,r).then((function(e){c=e,l.indexOf(c)<0&&i.insertArr(l,c),s(c)}))}))},t.create_new_node=function(e,o,t,r){var i=this;return void 0===r&&(r=!0),new Promise((function(s,a){var c=i.prefab_pool[e];if(c){var p=n(c);p?(p.setWorldPosition(o),p.setParent(t,r),p.name=e,s(p)):a("Failed to instantiate prefab.")}else a("Failed to load prefab data.")}))},t.remove_node=function(e){var o=e.name;e.active=!1,e.removeFromParent();var t=this._poolActive.get(o);if(t){var r=t.indexOf(e);r>-1&&t.splice(r,1)}var n=this._poolRemoveNode.get(o);n||(n=[],this._poolRemoveNode.set(o,n)),n.indexOf(e)<0&&i.insertArr(n,e)},o(e,null,[{key:"instance",get:function(){return this.rp||(this.rp=new e,this.rp._poolRemoveNode=new Map,this.rp._poolActive=new Map),this.rp}}]),e}()).rp=void 0,s=a))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/ScoreAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tools.ts","./ResourcePool.ts"],(function(e){var t,o,r,n,i,c,s,l,a,u,p,h,f,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,c=e._decorator,s=e.Label,l=e.Vec3,a=e.UIOpacity,u=e.Tween,p=e.tween,h=e.Component},function(e){f=e.Tools},function(e){b=e.ResourcePool}],execute:function(){var _,d,g,y,v,A,S;i._RF.push({},"126bfVRSCBBO6tlgYAj7gLZ","ScoreAction",void 0);var w=c.ccclass,T=c.property;e("ScoreAction",(_=w("ScoreAction"),d=T(s),g=T(s),_((A=t((v=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return t=e.call.apply(e,[this].concat(i))||this,r(t,"lb_score",A,n(t)),r(t,"add_lb_score",S,n(t)),t.targetScale=new l(1.2,1.2,1),t.targetPos=new l(0,300,1),t}o(t,e);var i=t.prototype;return i.start=function(){},i.update=function(e){},i.show_score=function(e,t){var o=this,r=this.node.getComponent(a);u.stopAllByTarget(r),f.setSpriteAlpha(r,1),this.lb_score.string=""+e,this.lb_score.color=t,this.add_lb_score.color=t;var n=this.lb_score.node.parent;u.stopAllByTarget(n),n.setScale(.1,.1),n.setPosition(0,0),p(n).to(.2,{scale:this.targetScale}).to(.1,{scale:l.ONE}).to(1,{position:this.targetPos}).union().call((function(){f.TweenAlphaAni(r,0,1).call((function(){o.removeThis()})).start()})).start()},i.removeThis=function(){b.instance.remove_node(this.node)},t}(h)).prototype,"lb_score",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(v.prototype,"add_lb_score",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=v))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/ScoreEffectsAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tools.ts","./AudioManager.ts","./ResourceManger.ts"],(function(t){var e,o,n,i,a,r,s,c,l,u,p,h,f,b,m,d,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Sprite,c=t.Node,l=t.Label,u=t.Vec3,p=t.Tween,h=t.UIOpacity,f=t.tween,b=t.Component},function(t){m=t.Tools},function(t){d=t.AudioManager},function(t){y=t.default}],execute:function(){var g,A,v,w,_,F,C,S,T;a._RF.push({},"5f5abvjH5NCtJERNFl5mfGI","ScoreEffectsAction",void 0);var E=r.ccclass,k=r.property;t("ScoreEffectsAction",(g=E("ScoreEffectsAction"),A=k(s),v=k(c),w=k(l),g((C=e((F=function(t){function e(){for(var e,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"hitFont",C,i(e)),n(e,"comboContainer",S,i(e)),n(e,"combo_label_number",T,i(e)),e.fromPos1=new u(0,700,0),e}o(e,t);var a=e.prototype;return a.start=function(){this.node.active=!1},a.update=function(t){},a.showCombo=function(t){this.node.active=!0;var e=6;if(t>1){switch(t){case 2:case 3:e=1;break;case 4:case 5:e=2;break;case 6:case 7:e=3;break;case 8:case 9:e=4;break;case 10:case 11:e=5;break;default:e=6}t>3&&d.instance.play_shot_2(e-1+""),this.hitFont.node.active=!0,y.instance.setSpriteFromUI("score_ef_"+e,this.hitFont),p.stopAllByTarget(this.hitFont.node);var o=this.hitFont.node.getComponent(h);p.stopAllByTarget(o),this.hitFont.node.setPosition(this.fromPos1),m.setSpriteAlpha(o,1),f(this.hitFont.node).to(.1,{position:new u(0,409,0)}).to(.2,{scale:new u(1.5,1.5)}).to(.1,{scale:u.ONE}).delay(1).union().call((function(){m.TweenAlphaAni(o,0,1).start()})).start()}else this.hitFont.node.active=!1;var n=this.comboContainer.getComponent(h);p.stopAllByTarget(this.comboContainer),p.stopAllByTarget(n),this.combo_label_number.string=t+"",m.setSpriteAlpha(n,1),this.comboContainer.setScale(new u(.1,.1,.1)),f(this.comboContainer).to(.2,{scale:new u(1.5,1.5)}).to(.1,{scale:u.ONE}).delay(.5).union().call((function(){m.TweenAlphaAni(n,0,1).start()})).start()},e}(b)).prototype,"hitFont",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(F.prototype,"comboContainer",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(F.prototype,"combo_label_number",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=F))||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/ScoreLayerAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NumberAction.ts","./Global.ts","./ResourceManger.ts","./Tools.ts","./EventsManager.ts","./ScoreEffectsAction.ts","./ResourcePool.ts","./ScoreAction.ts","./Enums.ts","./XStorage.ts"],(function(e){var t,r,o,n,i,c,s,_,l,a,u,f,p,b,h,y,g,d,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,c=e._decorator,s=e.Label,_=e.Sprite,l=e.Component},function(e){a=e.NumberAction},function(e){u=e.Global},function(e){f=e.default},function(e){p=e.Tools},function(e){b=e.EventsManager},function(e){h=e.ScoreEffectsAction},function(e){y=e.ResourcePool},function(e){g=e.ScoreAction},function(e){d=e.EventTyps},function(e){v=e.XStorage}],execute:function(){var S,m,w,L,E,x,R,A,O,I,z,C,F,P,N,T,D;i._RF.push({},"ff005NFkExOE7qcE6iwI1ox","ScoreLayerAction",void 0);var U=c.ccclass,H=c.property;e("ScoreLayerAction",(S=U("ScoreLayerAction"),m=H(a),w=H(s),L=H(_),E=H(s),x=H(_),R=H(h),A=H(_),S((z=t((I=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return t=e.call.apply(e,[this].concat(i))||this,o(t,"cur_score",z,n(t)),o(t,"next_lvl_score",C,n(t)),o(t,"unit_next",F,n(t)),o(t,"p_lvl_score",P,n(t)),o(t,"unit_p",N,n(t)),o(t,"score_effects_action",T,n(t)),o(t,"progress_bar",D,n(t)),t}r(t,e);var i=t.prototype;return i.onLoad=function(){b.Ins.addListener(d.ROLL_UPDATE_SCORE,this.roll_update_score,this),b.Ins.addListener(d.SHOW_SCORE_EFFECTS,this.show_score_effects,this),b.Ins.addListener(d.SHOW_FLY_SCORE_by_index,this.show_fly_score_by_index,this),b.Ins.addListener(d.SHOW_FLY_SCORE_by_score,this.show_fly_score_by_score,this)},i.start=function(){},i.update=function(e){},i.roll_update_score=function(){var e=v.get_cur_score();this.cur_score.targetNumber=e,this.cur_score.startRoll();var t=u.every_lvl_max_score;this.progress_bar.fillRange=e%t/t;var r=(v.get_cur_lvl()+1)*t;this.next_lvl_score.string=p.getNumberShow_1(r),f.instance.setSpriteFromUI("unit_"+p.getNumberShow_2(r),this.unit_next);var o=r-t;this.p_lvl_score.string=p.getNumberShow_1(o),f.instance.setSpriteFromUI("unit_"+p.getNumberShow_2(o),this.unit_p)},i.show_fly_score_by_index=function(e,t){var r=f.instance.get_data_type_score(e);this.show_fly_score_by_score(r,t)},i.show_fly_score_by_score=function(e,t){y.instance.create_by_Pool("Score",u.ui_layer_action.node.worldPosition,u.ui_layer_action.node).then((function(r){var o;null==(o=r.getComponent(g))||o.show_score(e,u.colors[t[0]]),v.record_score(v.get_cur_score()+e),b.Ins.dispatch(d.ROLL_UPDATE_SCORE);var n=v.get_cur_score(),i=u.every_lvl_max_score;v.record_best_score(),n>=i&&(v.record_score(0),v.next_level(),u.ui_layer_action.show_win("Win"),b.Ins.dispatch(d.UPGRADE_LVL))}))},i.show_score_effects=function(){u.combo>0&&this.score_effects_action.showCombo(u.combo)},t}(l)).prototype,"cur_score",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(I.prototype,"next_lvl_score",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(I.prototype,"unit_next",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(I.prototype,"p_lvl_score",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(I.prototype,"unit_p",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(I.prototype,"score_effects_action",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(I.prototype,"progress_bar",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=I))||O));i._RF.pop()}}}));

System.register("chunks:///_virtual/SettingAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseWindows.ts","./AudioManager.ts","./Global.ts","./XStorage.ts","./EventsManager.ts","./Enums.ts","./AreaData.ts"],(function(n){var t,e,o,r,s,i,c,a,u,l,p,_,f,d,h,w,v;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,o=n.initializerDefineProperty,r=n.assertThisInitialized,s=n.asyncToGenerator,i=n.regeneratorRuntime},function(n){c=n.cclegacy,a=n._decorator,u=n.Node},function(n){l=n.BaseWindows},function(n){p=n.AudioManager},function(n){_=n.Global},function(n){f=n.XStorage},function(n){d=n.EventsManager},function(n){h=n.GAME_STATE,w=n.EventTyps},function(n){v=n.AreaData}],execute:function(){var g,y,b,A,m;c._RF.push({},"33964So0K9P5Jy0cQtk9Smt","SettingAction",void 0);var S=a.ccclass,x=a.property;n("SettingAction",(g=S("SettingAction"),y=x(u),g((m=t((A=function(n){function t(){for(var t,e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];return t=n.call.apply(n,[this].concat(s))||this,o(t,"sound_x",m,r(t)),t}e(t,n);var c=t.prototype;return c.start=function(){},c.update=function(n){},c.show_windows=function(){n.prototype.show_windows.call(this),this.sound_x.active=!_.open_sound,this.content&&(this.content.active=!0)},c.on_btn_sound=function(){_.open_sound=!_.open_sound,this.sound_x.active=!_.open_sound},c.close_windows=function(){var t=s(i().mark((function t(e){var o=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){console.log("close_windows>>>>>>>>>>>>>"),n.prototype.close_windows.call(o,e),t(null)})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),c.on_btn_continue=function(){var n=s(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return p.instance.play_shot("btn_1"),n.next=3,this.close_windows(h.START);case 3:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),c.on_btn_refrush_game=function(){var n=s(i().mark((function n(){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return p.instance.play_shot("btn_1"),f.record_cur_lvl(0),f.record_score(0),this.content&&(this.content.active=!1),t=Date.now(),n.next=7,v.getIns().restart_clean_block_clean_cells();case 7:console.log("on_btn_refrush_game times:",Date.now()-t),this.close_windows(h.END),d.Ins.dispatch(w.RESTART_GAME);case 10:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),t}(l)).prototype,"sound_x",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=A))||b));c._RF.pop()}}}));

System.register("chunks:///_virtual/SiderAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BytePlantform.ts","./Global.ts","./XStorage.ts","./TipsManagerAction.ts","./TipsAction.ts","./EventsManager.ts","./Enums.ts","./BaseWindows.ts"],(function(t){var n,i,e,o,s,r,a,c,l,_,d,g,f,u,h,p,b;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,a=t.Label,c=t.Widget},function(t){l=t.BytePlantform},function(t){_=t.Global},function(t){d=t.XStorage},function(t){g=t.TipsManagerAction},function(t){f=t.TIPS_TYPE},function(t){u=t.EventsManager},function(t){h=t.EventTyps,p=t.GAME_STATE},function(t){b=t.BaseWindows}],execute:function(){var w,y,v,m,A,S,T;s._RF.push({},"e33af2MqUpB0oZ1YgRI0scp","SiderAction",void 0);var I=r.ccclass,E=r.property;t("SiderPageAction",(w=I("SiderAction"),y=E({type:a}),v=E({type:a}),w((S=n((A=function(t){function n(){for(var n,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return n=t.call.apply(t,[this].concat(s))||this,e(n,"btn_label",S,o(n)),e(n,"gift_coins_label",T,o(n)),n}i(n,t);var s=n.prototype;return s.onLoad=function(){this.node.active=!1,u.Ins.addListener(h.DOUYIN_SILDER_show_refrush_data,this.refrush_data,this)},s.start=function(){},s.update=function(t){},s.show_windows=function(n){t.prototype.show_windows.call(this),this.node.active=!0,this.node.setPosition(0,0),this.node.getComponent(c)&&(this.node.getComponent(c).right=0,this.node.getComponent(c).left=0,this.node.getComponent(c).top=0,this.node.getComponent(c).bottom=0),this.refrush_data()},s.close_windows=function(n){t.prototype.close_windows.call(this,n)},s.refrush_data=function(){console.log("刷新 refrush_data   event"),this.gift_coins_label.string="+"+_.gift_coins,0==d.get_gift()?this.btn_label.string="跳转侧边栏":1==d.get_gift()?this.btn_label.string="领取奖励":this.btn_label.string="跳转侧边栏"},s.btn_run=function(){console.log("btn_run"),0==d.get_gift()?this.add_siderbar():1==d.get_gift()?this.get_gift():this.add_siderbar()},s.get_gift=function(){g.show("获取奖励"+_.gift_coins,f.OK),d.record_gift(2),d.record_coins(d.get_cur_coins()+_.gift_coins),u.Ins.dispatch(h.UPDATE_COIN),u.Ins.dispatch(h.DOUYIN_SILDER_show_gift_btn),this.close_windows(p.START)},s.add_siderbar=function(){console.log("开始添加 add_siderbar"),l.ins.navigate_to_douyin((function(t){t?console.log("add_siderbar 添加侧边栏跳转成功"):console.log("add_siderbar 跳转失败")}))},n}(b)).prototype,"btn_label",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=n(A.prototype,"gift_coins_label",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=A))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/SilderManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BytePlantform.ts","./Global.ts","./XStorage.ts","./EventsManager.ts","./Enums.ts"],(function(n){var e,t,o,i,s,c,r,a,l,_,u,f,d;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){s=n.cclegacy,c=n._decorator,r=n.Node,a=n.Component},function(n){l=n.BytePlantform},function(n){_=n.Global},function(n){u=n.XStorage},function(n){f=n.EventsManager},function(n){d=n.EventTyps}],execute:function(){var g,h,p,b,y;s._RF.push({},"c0711A/xmJLdpcQpQldQO14","SilderManager",void 0);var v=c.ccclass,S=c.property;n("SilderManager",(g=v("SilderManager"),h=S({type:r}),g((y=e((b=function(n){function e(){for(var e,t=arguments.length,s=new Array(t),c=0;c<t;c++)s[c]=arguments[c];return e=n.call.apply(n,[this].concat(s))||this,o(e,"btn_sider",y,i(e)),e}t(e,n);var s=e.prototype;return s.onLoad=function(){f.Ins.addListener(d.DOUYIN_SILDER_show_gift_btn,this.show_gift_btn,this)},s.start=function(){this.check_douyin()},s.update=function(n){},s.btn_checkSideBar=function(){console.log("开始检查 检查侧边栏"),l.ins.check_side_bar((function(n){n?console.log("checkSideBar 检查侧边栏 success"):console.log("checkSideBar 跳转失败 fail")}))},s.open_side_page=function(){_.ui_layer_action.show_win("Slider")},s.check_douyin=function(){this.show_gift_btn();var n=this;l.ins.check_side_bar((function(e){e?(console.log("check_douyin 检查侧边栏 success,可以使用侧边栏"),n.listenFromDouyi()):console.log("check_douyin 跳转失败 fail,结束判断")}))},s.show_gift_btn=function(){console.log("刷新 奖励按钮      event"),this.btn_sider.active=!1;var n=this;2==u.get_gift()?(this.btn_sider.active=!1,console.log("show_gift_btn 领取过奖励 不显示 ")):l.ins.check_side_bar((function(e){e?(console.log("show_gift_btn 检查侧边栏 success显示 "),n.btn_sider.active=!0):(console.log("show_gift_btn 检查侧边栏  fail "),n.btn_sider.active=!1)}))},s.listenFromDouyi=function(){2!=u.get_gift()?l.ins.listen_douyin((function(n){n?(console.log("main 从侧边栏调过来，可以奖励用户了！"),u.get_gift()<1&&(u.record_gift(1),console.log("add_siderbar 添加侧边栏跳转成功,记录数据 1"),f.Ins.dispatch(d.DOUYIN_SILDER_show_refrush_data))):console.log("main 不是从侧边栏调过来")})):console.log("check_douyin2 侧边栏奖励领取过，直接返回")},e}(a)).prototype,"btn_sider",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b))||p));s._RF.pop()}}}));

System.register("chunks:///_virtual/TargetAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./AudioManager.ts","./Tools.ts","./ResourcePool.ts","./EventsManager.ts","./Enums.ts","./XStorage.ts","./AreaData.ts"],(function(t){var e,o,n,i,r,s,c,a,l,h,_,u,f,b,p,d,g,v,E,m,y,w,T,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.createForOfIteratorHelperLoose,s=t.asyncToGenerator,c=t.regeneratorRuntime},function(t){a=t.cclegacy,l=t._decorator,h=t.Label,_=t.UITransform,u=t.Tween,f=t.tween,b=t.Vec3,p=t.Input,d=t.Component},function(t){g=t.Global},function(t){v=t.AudioManager},function(t){E=t.Tools},function(t){m=t.ResourcePool},function(t){y=t.EventsManager},function(t){w=t.EventTyps},function(t){T=t.XStorage},function(t){C=t.AreaData}],execute:function(){var A,I,O,P,k;a._RF.push({},"d30d93d1JJCEIEMI/tS3Gg8","TargetAction",void 0);var z=l.ccclass,L=l.property;t("TargetAction",(A=z("TargetAction"),I=L(h),A((k=e((P=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(e,"coin_label",k,i(e)),e.bombEffect=void 0,e.sizeCheckBomb=void 0,e.color=-1,e.resultArrs=[],e}o(e,t);var a=e.prototype;return a.start=function(){this.coin_label.string="X"+g.target_coins_tools},a.update=function(t){},a.on_click_target=function(){var t=this,e=g.ui_layer_action.node;this.bombEffect?console.log("场景中有炸弹，不重新生成"):m.instance.create_by_Pool("Target",this.node.worldPosition,e).then((function(o){t.bombEffect=o,t.sizeCheckBomb||(t.sizeCheckBomb=E.createRect(o));var n=e.getComponent(_).convertToNodeSpaceAR(e.worldPosition);u.stopAllByTarget(t.bombEffect),f(t.bombEffect).to(.1,{scale:new b(.55,.55,1)}).to(.3,{position:n},{easing:"quadInOut"}).call((function(){t.get_select_color()})).start(),t.target_show()}))},a.target_show=function(){var t=g.ui_layer_action.node;t.on(p.EventType.TOUCH_MOVE,this.touch_move,this),t.on(p.EventType.TOUCH_END,this.touch_end,this),t.on(p.EventType.TOUCH_CANCEL,this.touch_end,this),this.bombEffect.active=!0},a.touch_move=function(t){this.update_pos(t.getUIDelta().x,t.getUIDelta().y),this.get_select_color()},a.update_pos=function(t,e){E.createRect(this.bombEffect,this.sizeCheckBomb);var o=this.bombEffect.getWorldPosition(),n=t+o.x,i=e+o.y,r=C.getIns().get_rect();if(r){var s=r.x+.5*this.sizeCheckBomb.width,c=r.x+r.width-.5*this.sizeCheckBomb.width,a=r.y+r.height-.5*this.sizeCheckBomb.height-2*g.CELL_SIZE;n<s&&(n=s),n>c&&(n=c),i>a&&(i=a),this.bombEffect.setWorldPosition(n,i,0)}},a.touch_end=function(t){E.createRect(this.bombEffect,this.sizeCheckBomb),this.sizeCheckBomb.intersects(C.getIns().get_rect())?(this.stop_all_cell_tween(),this.get_select_color(),this.drop(),this.reset()):this.reset()},a.reset=function(){this.bombEffect.active=!1;var t=g.ui_layer_action.node;t.off(p.EventType.TOUCH_MOVE,this.touch_move,this),t.off(p.EventType.TOUCH_END,this.touch_end,this),t.off(p.EventType.TOUCH_CANCEL,this.touch_end,this),m.instance.remove_node(this.bombEffect),this.bombEffect=null,this.color=-1,this.stop_all_cell_tween()},a.get_select_color=function(){var t=s(c().mark((function t(){var e=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,o){e.color=-1;for(var n,i=e.bombEffect.worldPosition,s=C.getIns().get_area_cells(),c=r(s);!(n=c()).done;){var a=n.value;a&&a.forEach((function(t){t&&b.distance(t.node.worldPosition,i)<=5&&t.color>-1&&(e.color=t.color)}))}e.find_cell_by_color()})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a.find_cell_by_color=function(){var t=this,e=C.getIns().get_area_cells();this.resultArrs=[];for(var o,n=r(e);!(o=n()).done;){var i=o.value;i&&i.forEach((function(e){e&&t.color==e.color&&t.resultArrs.push(e)}))}this.stop_all_cell_tween(),this.show_all_cell_tween()},a.show_all_cell_tween=function(){this.resultArrs.forEach((function(t){t.show_flash_tween()}))},a.stop_all_cell_tween=function(){for(var t,e=C.getIns().get_area_cells(),o=r(e);!(t=o()).done;){var n=t.value;n&&n.forEach((function(t){t&&t.close_flash_tween()}))}},a.drop=function(){if(0!=this.resultArrs.length){var t=T.get_cur_coins()-g.target_coins_tools;if(t<0)return console.log("使用道具，不够钱"),void g.ui_layer_action.show_win("VideoTips");T.record_coins(t),y.Ins.dispatch(w.UPDATE_COIN);var e=this.resultArrs;v.instance.play_shot("bomb"),g.combo++,y.Ins.dispatch(w.SHOW_FLY_SCORE_by_score,e.length,[0]),y.Ins.dispatch(w.CLEAR_CELLS,e)}},e}(d)).prototype,"coin_label",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=P))||O));a._RF.pop()}}}));

System.register("chunks:///_virtual/TempData.ts",["cc"],(function(t){var i,o;return{setters:[function(t){i=t.cclegacy,o=t._decorator}],execute:function(){i._RF.push({},"9033bGQL4VHob82iZnWfACK","TempData",void 0);o.ccclass,o.property,t("TempDataCell",(function(t,i,o,s){this.x=void 0,this.y=void 0,this.color=void 0,this.dark=void 0,this.x=t,this.y=i,this.color=o,this.dark=s})),t("TempDataBlock",(function(t,i,o){this.index=void 0,this.block_type=void 0,this.colors=void 0,this.index=t,this.block_type=i,this.colors=o}));i._RF.pop()}}}));

System.register("chunks:///_virtual/TipsAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourcePool.ts"],(function(e){var t,n,o,i,r,a,l,s,c,u,p,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Label,s=e.Node,c=e.tween,u=e.Vec3,p=e.Component},function(e){d=e.ResourcePool}],execute:function(){var f,_,h,v,b,w,y,g,A;r._RF.push({},"3081a/zSTFKJ6GapiA9tKou","TipsAction",void 0);var O=a.ccclass,k=a.property,T=e("TIPS_TYPE",function(e){return e[e.COMMON=0]="COMMON",e[e.OK=1]="OK",e[e.WARN=2]="WARN",e}({}));e("TipsAction",(f=O("TipsAction"),_=k({type:l}),h=k({type:s}),v=k({type:s}),f((y=t((w=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"level_label",y,i(t)),o(t,"ok_node",g,i(t)),o(t,"warn_node",A,i(t)),t}n(t,e);var r=t.prototype;return r.start=function(){},r.set_default=function(){this.node.setPosition(0,-250),this.node.active=!0},r.update=function(e){},r.show=function(e,t){switch(this.ok_node&&(this.ok_node.active=!1),this.warn_node&&(this.warn_node.active=!1),t){case T.OK:this.ok_node&&(this.ok_node.active=!0);break;case T.WARN:this.warn_node&&(this.warn_node.active=!0)}var n=this;n.level_label.string=e,n.set_default(),c(n.node).to(.35,{position:new u(0,0,0)},{easing:"quadInOut"}).delay(1).to(.1,{position:new u(0,200,0)},{easing:"quadInOut"}).call((function(){d.instance.remove_node(n.node)})).start()},t}(p)).prototype,"level_label",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(w.prototype,"ok_node",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(w.prototype,"warn_node",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=w))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/TipsManagerAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourcePool.ts","./TipsAction.ts"],(function(n){var o,t,e,i,c,s,r;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy,e=n._decorator,i=n.director,c=n.Component},function(n){s=n.ResourcePool},function(n){r=n.TipsAction}],execute:function(){var a,u;t._RF.push({},"ccd52KcLDZLvLkBjdwnMVMI","TipsManagerAction",void 0);var p=e.ccclass;e.property,n("TipsManagerAction",p("TipsManagerAction")(((u=function(n){function t(){return n.apply(this,arguments)||this}o(t,n);var e=t.prototype;return e.onLoad=function(){t.instance=this,i.addPersistRootNode(this.node)},e.update=function(n){},t.show=function(n,o){var e=t.instance.node;s.instance.create_by_Pool("Tips",e.worldPosition,e).then((function(t){var e=t.getComponent(r);e&&e.show(n,o)}))},t}(c)).instance=null,a=u))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/Tools.ts",["cc","./Global.ts"],(function(r){var t,e,n,o,i,a;return{setters:[function(r){t=r.cclegacy,e=r._decorator,n=r.UITransform,o=r.Rect,i=r.tween},function(r){a=r.Global}],execute:function(){var u;t._RF.push({},"290f8GfYCZGHYteG22XHMLx","Tools",void 0);var c=e.ccclass,l=(e.property,{year:"numeric",month:"2-digit",day:"2-digit"});r("Tools",c("Tools")(u=function(){function r(){}return r.createRect=function(r,t){var e=r.getComponent(n);if(e){var i=r.worldPosition;return t?(t.x=i.x-e.width*e.anchorX,t.y=i.y-e.height*e.anchorY,t.width=e.width,t.height=e.height,t):new o(i.x-e.width*e.anchorX,i.y-e.height*e.anchorY,e.width,e.height)}return null},r.setSpriteAlpha=function(r,t){r&&(r.opacity=255*t)},r.insertArr=function(r,t){r||(r=[]),r[r.length]=t},r.createNullMatrix=function(r,t){return Array(r).fill(null).map((function(){return Array(t).fill(null)}))},r.getRowsByArr=function(t,e){if(t&&t.length>0){for(var n=t.length,o=[],i=0;i<n;i++)r.insertArr(o,t[i][e]);return o}return null},r.findSameColorFromAround=function(r,t){for(var e=a.GRID_WIDTH_NUM,n=a.GRID_HEIGHT_NUM,o=a.directions,i=o.length,u=[],c=0;c<i;c++){var l=o[c],h=this.addDir(r,l);if(!(h[0]<0||h[0]>=e||h[1]<0||h[1]>=n)){var f=t[h[1]][h[0]];f&&u.push(f)}}return u},r.addDir=function(r,t){return[r[0]+t[0],r[1]+t[1]]},r.TweenAlphaAni=function(r,t,e){if(r)return i(r).to(e,{opacity:255*t})},r.getNumberShow=function(r){if(0===r)return"0";for(var t=["","K","M","B","T","Q"],e=0,n=Math.abs(r);n>=1e3&&e<t.length-1;)n/=1e3,e++;var o=n.toFixed(2).replace(/\.?0+$/,"");return o.endsWith(".")&&(o=o.replace(".","")),(r<0?"-":"")+o+t[e]},r.random_between_floor=function(r,t){var e=Math.random()*(t-r)+r;return Math.floor(e)},r.getNumberShow_1=function(r){if(0===r)return"0";for(var t=["","K","M","B","T","Q"],e=0,n=Math.abs(r);n>=1e3&&e<t.length-1;)n/=1e3,e++;var o=n.toFixed(2).replace(/\.?0+$/,"");return o.endsWith(".")&&(o=o.replace(".","")),(r<0?"-":"")+o},r.getNumberShow_2=function(r){if(0===r)return"0";for(var t=["","k","m","b","t","q"],e=0,n=Math.abs(r);n>=1e3&&e<t.length-1;)n/=1e3,e++;var o=n.toFixed(2).replace(/\.?0+$/,"");return o.endsWith(".")&&(o=o.replace(".","")),t[e]},r.getTodayDateString=function(){return(new Date).toLocaleDateString(void 0,l)},r}())||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/ToolsColor.ts",["cc","./Global.ts","./XStorage.ts"],(function(o){var r,l,t,e;return{setters:[function(o){r=o.cclegacy,l=o._decorator},function(o){t=o.Global},function(o){e=o.XStorage}],execute:function(){var _;r._RF.push({},"95b39RRJ9RMt4cm05IEw2Oa","ToolsColor",void 0);var c=l.ccclass;l.property,o("ToolsColor",c("ToolsColor")(_=function(){function o(){}return o.get_block_cell_colors_arr_index=function(r){var l=e.get_cur_lvl();switch(l){case 0:return o.get_lvl_5_color(0,80,r);case 1:return o.get_lvl_5_color(2,70,r);case 2:return o.get_lvl_5_color(1,60,r);case 3:return o.get_lvl_5_color(2,60,r);case 4:return o.get_lvl_5_color(2,50,r);case 5:return o.get_lvl_5_color(3,50,r);case 6:return o.get_lvl_5_color(4,50,r);case 7:return o.get_lvl_5_color(4,60,r);default:return l%3==0?o.get_lvl_5_color(4,60,r):o.get_lvl_5_color(3,50,r)}},o.get_lvl_1x_color=function(o,r){var l=0,_=[l=o?Math.floor(Math.random()*t.colors.length):Math.floor(Math.random()*t.curColorNum)],c=t.every_lvl_max_score;return e.get_cur_score()>c*r?_.push(Math.floor(Math.random()*t.colors.length)):_.push(l),_.push(l),_},o.get_lvl_5_color=function(r,l,_){var c=t.every_lvl_max_score,a=t.curColorNum+r;if(t.combo>20&&Math.random()>.5)return o.get_lvl_defalut_color_2(a);var n=e.get_cur_score()/c*100;if(n>l){if(100*Math.random()<=n&&n<90)return o.get_lvl_defalut_color_2(a)}else if(100*Math.random()<10)return o.get_lvl_defalut_color_2(a);return o.get_lvl_defalut_color_1(a)},o.get_lvl_defalut_color_1=function(o){o>t.colors.length&&(o=t.colors.length);var r=Math.floor(Math.random()*o),l=[r];return l.push(r),l.push(r),l},o.get_lvl_defalut_color_2=function(o){o>t.colors.length&&(o=t.colors.length);var r=Math.floor(Math.random()*o),l=[r],e=Math.floor(Math.random()*o);return r==e&&(e+=1)>o&&(e=0),l.push(e),l.push(r),l},o}())||_);r._RF.pop()}}}));

System.register("chunks:///_virtual/UILayerAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./ResourcePool.ts","./BaseWindows.ts","./AudioManager.ts"],(function(n){var o,t,e,i,c,s,r,a,u;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy,e=n._decorator,i=n.Vec3,c=n.Component},function(n){s=n.Global},function(n){r=n.ResourcePool},function(n){a=n.BaseWindows},function(n){u=n.AudioManager}],execute:function(){var l;t._RF.push({},"4acd7xASdFPVIxh7/yCWqcP","UILayerAction",void 0);var d=e.ccclass;e.property,n("UILayerAction",d("UILayerAction")(l=function(n){function t(){for(var o,t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return(o=n.call.apply(n,[this].concat(e))||this).windows=void 0,o}o(t,n);var e=t.prototype;return e.onLoad=function(){s.ui_layer_action=this,this.windows=new Map},e.start=function(){},e.update=function(n){},e.show_win=function(n,o){var t=this;void 0===o&&(o=null),u.instance.play_shot("btn_1");var e=this.windows.get(n);if(e)return e.show_windows(o),e;r.instance.create_by_Pool(n,i.ZERO,this.node).then((function(e){var i=e.getComponent(a);return t.windows.set(n,i),i.show_windows(o),i})).catch((function(n){console.log(n)}))},t}(c))||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/VideoTipsAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseWindows.ts","./AudioManager.ts","./XStorage.ts","./EventsManager.ts","./Enums.ts","./AdManger.ts","./Global.ts","./TipsManagerAction.ts","./TipsAction.ts"],(function(n){var t,i,o,c,s,e,a,l,r,u,_,p,d,w,f,h,b;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,o=n.initializerDefineProperty,c=n.assertThisInitialized},function(n){s=n.cclegacy,e=n._decorator,a=n.Label},function(n){l=n.BaseWindows},function(n){r=n.AudioManager},function(n){u=n.XStorage},function(n){_=n.EventsManager},function(n){p=n.GAME_STATE,d=n.EventTyps},function(n){w=n.AdManger},function(n){f=n.Global},function(n){h=n.TipsManagerAction},function(n){b=n.TIPS_TYPE}],execute:function(){var g,T,A,v,y;s._RF.push({},"e130ae7wQhOtLjZZDOCtEoV","VideoTipsAction",void 0);var k=e.ccclass,M=e.property;n("VideoTipsAction",(g=k("VideoTipsAction"),T=M(a),g((y=t((v=function(n){function t(){for(var t,i=arguments.length,s=new Array(i),e=0;e<i;e++)s[e]=arguments[e];return t=n.call.apply(n,[this].concat(s))||this,o(t,"msg_label",y,c(t)),t.call_back=void 0,t}i(t,n);var s=t.prototype;return s.start=function(){this.msg_label.string="免费领取"+f.watch_video_coins+"宝石"},s.update=function(n){},s.show_windows=function(t){void 0===t&&(t=null),n.prototype.show_windows.call(this),this.call_back=t},s.close_windows=function(t){n.prototype.close_windows.call(this,t)},s.on_click_btn_continue=function(){r.instance.play_shot("btn_1"),this.close_windows(p.START);var n=this;n.call_back&&(n.call_back(),n.call_back=null)},s.on_click_btn_video=function(){r.instance.play_shot("btn_1");var n=this;w.show_video((function(t){1==t?(h.show("获取奖励成功",b.OK),u.record_coins(u.get_cur_coins()+f.watch_video_coins),_.Ins.dispatch(d.UPDATE_COIN),n.close_windows(p.START)):(h.show("获取奖励失败",b.WARN),n.close_windows(p.START)),n.call_back&&(n.call_back(),n.call_back=null)}))},t}(l)).prototype,"msg_label",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=v))||A));s._RF.pop()}}}));

System.register("chunks:///_virtual/WinAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ColorAction.ts","./AudioManager.ts","./BaseWindows.ts","./XStorage.ts","./EventsManager.ts","./Enums.ts","./Global.ts","./AdManger.ts","./TipsManagerAction.ts","./TipsAction.ts"],(function(n){var t,i,o,s,c,e,a,r,l,_,u,p,d,h,f,A,w,T,b;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,o=n.initializerDefineProperty,s=n.assertThisInitialized},function(n){c=n.cclegacy,e=n._decorator,a=n.Label,r=n.ParticleSystem2D},function(n){l=n.ColorAction},function(n){_=n.AudioManager},function(n){u=n.BaseWindows},function(n){p=n.XStorage},function(n){d=n.EventsManager},function(n){h=n.GAME_STATE,f=n.EventTyps},function(n){A=n.Global},function(n){w=n.AdManger},function(n){T=n.TipsManagerAction},function(n){b=n.TIPS_TYPE}],execute:function(){var g,y,E,S,m,I,v,R,P;c._RF.push({},"548d50Pd5hDBpCrI6S9NiGD","WinAction",void 0);var L=e.ccclass,M=e.property;n("WinAction",(g=L("WinAction"),y=M(a),E=M(l),S=M(r),g((v=t((I=function(n){function t(){for(var t,i=arguments.length,c=new Array(i),e=0;e<i;e++)c[e]=arguments[e];return t=n.call.apply(n,[this].concat(c))||this,o(t,"coin_label",v,s(t)),o(t,"color_action",R,s(t)),o(t,"particle",P,s(t)),t.random_coins=0,t.random_ret=0,t}i(t,n);var c=t.prototype;return c.start=function(){this.color_action&&this.color_action.init_data(this)},c.update=function(n){},c.update_progress=function(n){this.random_coins=A.win_coins*n,this.coin_label&&(this.coin_label.string=this.random_coins+"")},c.show_windows=function(){n.prototype.show_windows.call(this),_.instance.play_shot("upgrade"),this.particle.resetSystem(),this.coin_label.string=A.win_coins+""},c.close_windows=function(t){n.prototype.close_windows.call(this,t)},c.on_click_btn_continue=function(){_.instance.play_shot("btn_1"),this.close_windows(h.START),d.Ins.dispatch(f.PLAY_START_TWEEN),d.Ins.dispatch(f.ROLL_UPDATE_SCORE),d.Ins.dispatch(f.SYN_COIN)},c.on_click_btn_award=function(){var n=this;_.instance.play_shot("btn_1"),this.random_ret=this.random_coins;var t=this;w.show_video((function(i){1==i?(T.show("获取奖励成功",b.OK),p.record_coins(p.get_cur_coins()+n.random_ret),d.Ins.dispatch(f.UPDATE_COIN),n.close_windows(h.START),d.Ins.dispatch(f.PLAY_START_TWEEN)):(T.show("获取奖励失败",b.WARN),t.close_windows(h.START),d.Ins.dispatch(f.PLAY_START_TWEEN)),d.Ins.dispatch(f.ROLL_UPDATE_SCORE),d.Ins.dispatch(f.SYN_COIN)}))},t}(u)).prototype,"coin_label",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(I.prototype,"color_action",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(I.prototype,"particle",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=I))||m));c._RF.pop()}}}));

System.register("chunks:///_virtual/WxPlatform.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./Global.ts","./Tools.ts"],(function(o){var t,n,s,i,e,c;return{setters:[function(o){t=o.createClass},function(o){n=o.cclegacy,s=o._decorator},function(o){i=o.WECHAT},function(o){e=o.Global},function(o){c=o.Tools}],execute:function(){var r,a;n._RF.push({},"e541cHdFYVM77FPTjJ9gayc","WxPlatform",void 0);var u=s.ccclass;s.property,o("WxPlatform",u("WxPlatform")(((a=function(){function o(){this.wx=window.wx,this.pic=[{id:"O8T6h8l8RfWJQ6wkdF1AYw==",url:"https://mmocgame.qpic.cn/wechatgame/nicJCquRHTK4UU9dOfEP6MG48BxqAN64GT12JZcEPjc2VW1DQIIrWPAELtovwnq1z/0"},{id:"eT4m1csMTi2c+Hn13J051A==",url:"https://mmocgame.qpic.cn/wechatgame/yN0ib7IICvoibJysBia8x5NMmUZRN76LC8dYzMjSAETTmS6uQafsiciceNOL8mEq1gtwe/0"},{id:"Rve5UFnVTLu5np6gmn2NyA==",url:"https://mmocgame.qpic.cn/wechatgame/YZPoCIWzenGMNEANDZuCLbN94JFbSw24brKHvHhoHydyKndhNL8NpLicvfzQDlhby/0"}],this.avatar=void 0,this.name_Label=void 0,this.systemInfo=void 0,this.screenWidth=void 0,this.screenHeight=void 0,this.userInfo=void 0,this.rewardVideo=void 0,this.custom_arr=[],this.custom_show_status=!1,this.banner=void 0,this.banner_show_status=!1}var n=o.prototype;return n.wechat_get_user_info=function(){console.log("---------- 执行 wechat_get_user_info",i)},n.login=function(){console.log("22222 login ---------- 执行 wechat_get_user_info",i)},n.setAvatar=function(o){},n.wechat_setting=function(){console.log("wechat_setting",i)},n.show_interstitial=function(o){console.log("显示差评广告》〉》〉》〉》〉》〉》〉》")},n.show_reward_video=function(o){var t=this,n=this,s=e.ad_video_id;null!=n.rewardVideo&&n.rewardVideo.offClose(c);var i=this.wx.createRewardedVideoAd({adUnitId:s.trim()});n.rewardVideo=i,i.load().then((function(){t.wx.showToast({title:"看完视频领奖励",icon:"success",duration:1500,mask:!1,success:function(){},fail:function(){},complete:function(){}}),console.log("视频 广告加载成功"),i.show()})),i.onError((function(n){console.log("激励视频 广告显示失败",n),t.wx.showToast({title:"请稍后再试",icon:"fail",duration:1500,mask:!1,success:function(){},fail:function(){},complete:function(){}}),o(2)}));var c=function t(n){n&&n.isEnded?(console.log("res:  ",n),o(1),i.offClose(t)):(console.log("播放中退出"),o(0))};i.onClose(c)},n.destory_custom=function(){this.custom_arr.forEach((function(o){try{o.destroy()}catch(o){console.log("关闭 custom error...",o)}console.log("关闭 custom ...")})),this.custom_arr=[]},n.hide_custom=function(){console.log("隐藏销毁 cusTom"),this.custom_show_status=!1,this.destory_custom()},n.show_custom_ad=function(){if(0!=e.ad_custom_id.length){var o=e.ad_custom_id[c.random_between_floor(0,e.ad_custom_id.length)];this.custom_show_status=!0,console.log("ad_custom_id  原生模板 ID:",o)}},n.hide_banner=function(){this.banner_show_status=!1,null!=this.banner&&(this.banner.destroy(),this.banner=null,console.log("关闭 banner..."))},n.show_banner=function(o){},n.show_share=function(){this.get_random_pic()},n.get_random_pic=function(){var o=null;try{o=this.pic[c.random_between_floor(0,this.pic.length)]}catch(o){console.log("get_random_pic error:",o)}return this.pic||(o=this.pic[0]),o},n.wx_show_modal=function(){console.log("funcation is wx_show_modal",i)},t(o,null,[{key:"ins",get:function(){return this._ins||(this._ins=new o),this._ins}}]),o}())._ins=void 0,r=a))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/XStorage.ts",["cc","./Tools.ts"],(function(e){var t,r,o;return{setters:[function(e){t=e.cclegacy,r=e._decorator},function(e){o=e.Tools}],execute:function(){var l;t._RF.push({},"28205YrwEFOxZA1PE6aFKC4","XStorage",void 0);var c=r.ccclass;r.property,e("XStorage",c("XStorage")(l=function(){function e(){}return e.previous_level=function(){var t=e.get_cur_lvl()-1;return t<1&&(t=1),e.record_cur_lvl(t),t},e.next_level=function(){var t=e.get_cur_lvl()+1;return e.record_cur_lvl(t),t},e.get_history_lvl=function(){var e=localStorage.getItem("history_lvl");return e?Number(e):(localStorage.setItem("history_lvl","1"),1)},e.get_cur_lvl=function(){var e=localStorage.getItem("cur_lvl");return e?Number(e):(localStorage.setItem("cur_lvl","0"),0)},e.get_best_score=function(){var e=localStorage.getItem("best_score");return e?Number(e):(localStorage.setItem("best_score","0"),0)},e.record_cur_lvl=function(e){localStorage.setItem("cur_lvl",e+"");var t=localStorage.getItem("history_lvl");t?e>Number(t)&&localStorage.setItem("history_lvl",e+""):localStorage.setItem("history_lvl",e+"")},e.get_cur_coins=function(){var e=localStorage.getItem("cur_coins");if(e){var t=Number(e);return t<0&&(t=0),t}return localStorage.setItem("cur_coins","0"),0},e.record_coins=function(e){e<0&&(e=0),localStorage.setItem("cur_coins",e+"")},e.get_cur_score=function(){var e=localStorage.getItem("cur_score");if(e){var t=Number(e);return t<0&&(t=0),t}return localStorage.setItem("cur_score","0"),0},e.record_score=function(e){localStorage.setItem("cur_score",e+"")},e.record_best_score=function(){var t=e.get_history_lvl();if(e.get_cur_lvl()>=t){var r=e.get_best_score(),o=e.get_cur_score();o>r&&localStorage.setItem("best_score",o+"")}},e.is_new_player=function(){var e=localStorage.getItem("is_new_player");return e?0!=Number(e):(localStorage.setItem("is_new_player","1"),!0)},e.is_old_player=function(){localStorage.setItem("is_new_player","0")},e.save_cells=function(e){var t=JSON.stringify(e);localStorage.setItem("cells_arr",t)},e.load_cells=function(){var e=localStorage.getItem("cells_arr");return e?JSON.parse(e):(localStorage.setItem("cells_arr",JSON.stringify([])),[])},e.save_blocks=function(e){var t=JSON.stringify(e);localStorage.setItem("blocks_arr",t)},e.load_blocks=function(){var e=localStorage.getItem("blocks_arr");return e?JSON.parse(e):(localStorage.setItem("blocks_arr",JSON.stringify([])),[])},e.get_gift=function(){var e=localStorage.getItem("gift");return e?Number(e):(localStorage.setItem("gift","0"),0)},e.record_gift=function(e){localStorage.setItem("gift",e+"")},e.get_last_lottery_date=function(){return localStorage.getItem("LAST_LOTTERY_DATE")},e.recode_last_lottery_date=function(){var e=o.getTodayDateString();localStorage.setItem("LAST_LOTTERY_DATE",e)},e.check_can_lottery=function(){var t=o.getTodayDateString();return e.get_last_lottery_date()!==t},e}())||l);t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});